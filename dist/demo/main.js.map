{"version":3,"sources":["webpack:///./src/demo/$_lazy_route_resource lazy namespace object","webpack:///./src/demo/app/ace-editor.directive.ts","webpack:///./src/demo/app/demo-root.component.ts","webpack:///./src/demo/app/demo.component.html","webpack:///./src/demo/app/demo.component.ts","webpack:///./src/demo/app/demo.module.ts","webpack:///./src/demo/app/demo.routes.ts","webpack:///./src/demo/app/example-schemas.model.ts","webpack:///./src/demo/environments/environment.ts","webpack:///./src/demo/main.ts","webpack:///./src/lib/index.ts","webpack:///./src/lib/src/framework-library/bootstrap-3-framework/bootstrap-3-framework.component.ts","webpack:///./src/lib/src/framework-library/bootstrap-3-framework/bootstrap-3-framework.module.ts","webpack:///./src/lib/src/framework-library/bootstrap-3-framework/bootstrap-3.framework.ts","webpack:///./src/lib/src/framework-library/bootstrap-4-framework/bootstrap-4-framework.component.ts","webpack:///./src/lib/src/framework-library/bootstrap-4-framework/bootstrap-4-framework.module.ts","webpack:///./src/lib/src/framework-library/bootstrap-4-framework/bootstrap-4.framework.ts","webpack:///./src/lib/src/framework-library/framework-library.service.ts","webpack:///./src/lib/src/framework-library/framework.ts","webpack:///./src/lib/src/framework-library/material-design-framework/flex-layout-root.component.ts","webpack:///./src/lib/src/framework-library/material-design-framework/flex-layout-section.component.ts","webpack:///./src/lib/src/framework-library/material-design-framework/index.ts","webpack:///./src/lib/src/framework-library/material-design-framework/material-add-reference.component.ts","webpack:///./src/lib/src/framework-library/material-design-framework/material-button-group.component.ts","webpack:///./src/lib/src/framework-library/material-design-framework/material-button.component.ts","webpack:///./src/lib/src/framework-library/material-design-framework/material-checkbox.component.ts","webpack:///./src/lib/src/framework-library/material-design-framework/material-checkboxes.component.ts","webpack:///./src/lib/src/framework-library/material-design-framework/material-chip-list.component.ts","webpack:///./src/lib/src/framework-library/material-design-framework/material-datepicker.component.ts","webpack:///./src/lib/src/framework-library/material-design-framework/material-design-framework.component.ts","webpack:///./src/lib/src/framework-library/material-design-framework/material-design-framework.module.ts","webpack:///./src/lib/src/framework-library/material-design-framework/material-design.framework.ts","webpack:///./src/lib/src/framework-library/material-design-framework/material-file.component.ts","webpack:///./src/lib/src/framework-library/material-design-framework/material-input.component.ts","webpack:///./src/lib/src/framework-library/material-design-framework/material-number.component.ts","webpack:///./src/lib/src/framework-library/material-design-framework/material-one-of.component.ts","webpack:///./src/lib/src/framework-library/material-design-framework/material-radios.component.ts","webpack:///./src/lib/src/framework-library/material-design-framework/material-select.component.ts","webpack:///./src/lib/src/framework-library/material-design-framework/material-slider.component.ts","webpack:///./src/lib/src/framework-library/material-design-framework/material-stepper.component.ts","webpack:///./src/lib/src/framework-library/material-design-framework/material-tabs.component.ts","webpack:///./src/lib/src/framework-library/material-design-framework/material-textarea.component.ts","webpack:///./src/lib/src/framework-library/no-framework/no-framework.component.ts","webpack:///./src/lib/src/framework-library/no-framework/no-framework.module.ts","webpack:///./src/lib/src/framework-library/no-framework/no.framework.ts","webpack:///./src/lib/src/json-schema-form.component.ts","webpack:///./src/lib/src/json-schema-form.module.ts","webpack:///./src/lib/src/json-schema-form.service.ts","webpack:///./src/lib/src/locale/en-validation-messages.ts","webpack:///./src/lib/src/locale/fr-validation-messages.ts","webpack:///./src/lib/src/shared/convert-schema-to-draft6.function.ts","webpack:///./src/lib/src/shared/date.functions.ts","webpack:///./src/lib/src/shared/form-group.functions.ts","webpack:///./src/lib/src/shared/format-regex.constants.ts","webpack:///./src/lib/src/shared/index.ts","webpack:///./src/lib/src/shared/json-schema.functions.ts","webpack:///./src/lib/src/shared/json.validators.ts","webpack:///./src/lib/src/shared/jsonpointer.functions.ts","webpack:///./src/lib/src/shared/layout.functions.ts","webpack:///./src/lib/src/shared/merge-schemas.function.ts","webpack:///./src/lib/src/shared/orderable.directive.ts","webpack:///./src/lib/src/shared/utility.functions.ts","webpack:///./src/lib/src/shared/validator.functions.ts","webpack:///./src/lib/src/widget-library/add-reference.component.ts","webpack:///./src/lib/src/widget-library/button.component.ts","webpack:///./src/lib/src/widget-library/checkbox.component.ts","webpack:///./src/lib/src/widget-library/checkboxes.component.ts","webpack:///./src/lib/src/widget-library/file.component.ts","webpack:///./src/lib/src/widget-library/hidden.component.ts","webpack:///./src/lib/src/widget-library/index.ts","webpack:///./src/lib/src/widget-library/input.component.ts","webpack:///./src/lib/src/widget-library/message.component.ts","webpack:///./src/lib/src/widget-library/none.component.ts","webpack:///./src/lib/src/widget-library/number.component.ts","webpack:///./src/lib/src/widget-library/one-of.component.ts","webpack:///./src/lib/src/widget-library/radios.component.ts","webpack:///./src/lib/src/widget-library/root.component.ts","webpack:///./src/lib/src/widget-library/section.component.ts","webpack:///./src/lib/src/widget-library/select-framework.component.ts","webpack:///./src/lib/src/widget-library/select-widget.component.ts","webpack:///./src/lib/src/widget-library/select.component.ts","webpack:///./src/lib/src/widget-library/submit.component.ts","webpack:///./src/lib/src/widget-library/tab.component.ts","webpack:///./src/lib/src/widget-library/tabs.component.ts","webpack:///./src/lib/src/widget-library/template.component.ts","webpack:///./src/lib/src/widget-library/textarea.component.ts","webpack:///./src/lib/src/widget-library/widget-library.module.ts","webpack:///./src/lib/src/widget-library/widget-library.service.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error('Cannot find module \"' + req + '\".');\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/demo/$$_lazy_route_resource lazy recursive\";","import {\r\n  Directive, EventEmitter, Output, ElementRef, Input\r\n} from '@angular/core';\r\n\r\nimport 'brace';\r\nimport 'brace/theme/sqlserver';\r\nimport 'brace/mode/json';\r\n\r\ndeclare var ace: any;\r\n\r\n@Directive({\r\n  selector: '[ace-editor]'\r\n})\r\nexport class AceEditorDirective {\r\n  _options: any = {};\r\n  _highlightActiveLine = false;\r\n  _showGutter = false;\r\n  _readOnly = false;\r\n  _theme = 'sqlserver';\r\n  _mode = 'json';\r\n  _autoUpdateContent = true;\r\n  editor: any;\r\n  oldText: any;\r\n  @Output('textChanged') textChanged = new EventEmitter();\r\n\r\n  constructor(elementRef: ElementRef) {\r\n    let el = elementRef.nativeElement;\r\n    ace.config.set('basePath', '/node_modules/brace');\r\n    this.editor = ace['edit'](el);\r\n    this.init();\r\n    this.initEvents();\r\n  }\r\n\r\n  init() {\r\n    this.editor.getSession().setUseWorker(false);\r\n    this.editor.setOptions(this._options);\r\n    this.editor.setTheme(`ace/theme/${this._theme}`);\r\n    this.editor.getSession().setMode(`ace/mode/${this._mode}`);\r\n    this.editor.setHighlightActiveLine(this._highlightActiveLine);\r\n    this.editor.renderer.setShowGutter(this._showGutter);\r\n    this.editor.setReadOnly(this._readOnly);\r\n    this.editor.$blockScrolling = Infinity;\r\n  }\r\n\r\n  initEvents() {\r\n    this.editor.on('change', () => {\r\n      let newVal = this.editor.getValue();\r\n      if (newVal === this.oldText) { return; }\r\n      if (typeof this.oldText !== 'undefined') {\r\n        this.textChanged.emit(newVal);\r\n      }\r\n      this.oldText = newVal;\r\n    });\r\n  }\r\n\r\n  @Input() set options(options: any) {\r\n    this._options = options;\r\n    this.editor.setOptions(options || {});\r\n  }\r\n\r\n  @Input() set readOnly(readOnly: any) {\r\n    this._readOnly = readOnly;\r\n    this.editor.setReadOnly(readOnly);\r\n  }\r\n\r\n  @Input() set theme(theme: any) {\r\n    this._theme = theme;\r\n    this.editor.setTheme(`ace/theme/${theme}`);\r\n  }\r\n\r\n  @Input() set mode(mode: any) {\r\n    this._mode = mode;\r\n    this.editor.getSession().setMode(`ace/mode/${mode}`);\r\n  }\r\n\r\n  @Input() set text(text: any) {\r\n    if (!text) { text = ''; }\r\n\r\n    if (this._autoUpdateContent === true) {\r\n      this.editor.setValue(text);\r\n      this.editor.clearSelection();\r\n      this.editor.focus();\r\n      this.editor.moveCursorTo(0, 0);\r\n    }\r\n  }\r\n\r\n  @Input() set autoUpdateContent(status: any) {\r\n    this._autoUpdateContent = status;\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'demo-root',\r\n  template: `<router-outlet></router-outlet>`\r\n})\r\nexport class DemoRootComponent { }\r\n","module.exports = \"<div class=\\\"demo-page-header\\\">\\r\\n  <mat-toolbar class=\\\"mat-elevation-z4 mat-medium\\\" color=\\\"primary\\\">\\r\\n    Angular JSON Schema Form  Demonstration Playground\\r\\n  </mat-toolbar>\\r\\n  <div class=\\\"header-content\\\">\\r\\n    An Angular <a href=\\\"http://json-schema.org/\\\">JSON Schema</a> Form builder\\r\\n    for Angular 4 and 5, similar to, and mostly API compatible with,\\r\\n    <span class=\\\"avoidwrap\\\">\\r\\n      <!-- JSON Schema Form's Angular Schema Form -->\\r\\n      <!-- https://github.com/json-schema-form -->\\r\\n      <!-- http://schemaform.io -->\\r\\n      <a href=\\\"http://schemaform.io/examples/bootstrap-example.html\\\">Angular Schema Form</a>,\\r\\n      <!-- Mozilla's React JSON Schema Form -->\\r\\n      <!-- https://github.com/mozilla-services/react-jsonschema-form -->\\r\\n      <a href=\\\"https://mozilla-services.github.io/react-jsonschema-form/\\\">React JSON Schema Form</a>,\\r\\n      and\\r\\n      <!-- Joshfire's JSON Form -->\\r\\n      <!-- http://factory.joshfire.com/ -->\\r\\n      <!-- http://github.com/joshfire/jsonform/wiki -->\\r\\n      <a href=\\\"http://ulion.github.io/jsonform/playground/\\\">JSON Form</a>.\\r\\n    </span><br>\\r\\n    Choose an example, or create your own, and check out the generated form.<br><br>\\r\\n\\r\\n    <span class=\\\"menu-label\\\">Current example:</span>\\r\\n    <button mat-raised-button\\r\\n      color=\\\"primary\\\"\\r\\n      [matMenuTriggerFor]=\\\"exampleMenu\\\">\\r\\n      <mat-icon>menu</mat-icon> {{selectedSetName}} {{selectedExampleName}}\\r\\n    </button>\\r\\n    <mat-menu #exampleMenu=\\\"matMenu\\\" class=\\\"example-menu\\\">\\r\\n      <button mat-menu-item class=\\\"mat-medium\\\"\\r\\n        *ngFor=\\\"let example of examples['ng-jsf'].schemas\\\"\\r\\n        (click)=\\\"loadSelectedExample('ng-jsf', '', example.file, example.name)\\\">\\r\\n        {{example.name}}\\r\\n      </button>\\r\\n      <button mat-menu-item class=\\\"mat-medium\\\" [matMenuTriggerFor]=\\\"asfMenu\\\">\\r\\n        <span>Angular Schema Form (AngularJS) examples</span>\\r\\n      </button>\\r\\n      <mat-menu #asfMenu=\\\"matMenu\\\" class=\\\"example-menu\\\">\\r\\n        <button mat-menu-item class=\\\"mat-medium\\\"\\r\\n          *ngFor=\\\"let example of examples.asf.schemas\\\"\\r\\n          (click)=\\\"loadSelectedExample('asf', 'Angular Schema Form:', example.file, example.name)\\\">\\r\\n          {{example.name}}\\r\\n        </button>\\r\\n      </mat-menu>\\r\\n      <button mat-menu-item class=\\\"mat-medium\\\" [matMenuTriggerFor]=\\\"rjsfMenu\\\">\\r\\n        <span>React JSON Schema Form examples</span>\\r\\n      </button>\\r\\n      <mat-menu #rjsfMenu=\\\"matMenu\\\" class=\\\"example-menu\\\">\\r\\n        <button mat-menu-item class=\\\"mat-medium\\\"\\r\\n          *ngFor=\\\"let example of examples.rjsf.schemas\\\"\\r\\n          (click)=\\\"loadSelectedExample('rjsf', 'React JSON Schema Form:', example.file, example.name)\\\">\\r\\n          {{example.name}}\\r\\n        </button>\\r\\n      </mat-menu>\\r\\n      <button mat-menu-item class=\\\"mat-medium\\\" [matMenuTriggerFor]=\\\"jsfMenu\\\">\\r\\n        <span>JSONForm (jQuery) examples</span>\\r\\n      </button>\\r\\n      <mat-menu #jsfMenu=\\\"matMenu\\\" class=\\\"example-menu\\\">\\r\\n        <button mat-menu-item class=\\\"mat-medium\\\"\\r\\n          *ngFor=\\\"let example of examples.jsf.schemas\\\"\\r\\n          (click)=\\\"loadSelectedExample('jsf', 'JSONForm:', example.file, example.name)\\\">\\r\\n          {{example.name}}\\r\\n        </button>\\r\\n      </mat-menu>\\r\\n    </mat-menu>\\r\\n  </div>\\r\\n</div>\\r\\n<div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-around start\\\"\\r\\n  fxLayout.lt-sm=\\\"column\\\" fxLayoutAlign.lt-sm=\\\"flex-start center\\\">\\r\\n\\r\\n  <mat-card fxFlex=\\\"0 0 calc(50% - 12px)\\\">\\r\\n    <h4 class=\\\"default-cursor\\\" (click)=\\\"toggleVisible('options')\\\">\\r\\n      {{visible.options ? '' : ''}} Selected Framework and Options\\r\\n    </h4>\\r\\n    <div *ngIf=\\\"visible.options\\\" fxLayout=\\\"column\\\" [@expandSection]=\\\"true\\\">\\r\\n      <mat-form-field>\\r\\n        <mat-select\\r\\n          [(ngModel)]=\\\"selectedFramework\\\"\\r\\n          name=\\\"framework\\\"\\r\\n          placeholder=\\\"Framework\\\">\\r\\n          <mat-option\\r\\n            *ngFor=\\\"let framework of frameworkList\\\"\\r\\n            [value]=\\\"framework\\\">\\r\\n            {{frameworks[framework]}}\\r\\n          </mat-option>\\r\\n        </mat-select>\\r\\n      </mat-form-field>\\r\\n      <mat-form-field>\\r\\n        <mat-select\\r\\n          [(ngModel)]=\\\"selectedLanguage\\\"\\r\\n          (selectionChange)=\\\"loadSelectedLanguage()\\\"\\r\\n          name=\\\"language\\\"\\r\\n          placeholder=\\\"Language\\\">\\r\\n          <mat-option\\r\\n            *ngFor=\\\"let language of languageList\\\"\\r\\n            [value]=\\\"language\\\">\\r\\n            {{languages[language]}}\\r\\n          </mat-option>\\r\\n        </mat-select>\\r\\n      </mat-form-field>\\r\\n      <div class=\\\"check-row\\\">\\r\\n        <mat-checkbox color=\\\"primary\\\" [(ngModel)]=\\\"jsonFormOptions.returnEmptyFields\\\">\\r\\n          Return empty fields?\\r\\n        </mat-checkbox>\\r\\n        (default = true)\\r\\n      </div>\\r\\n      <div class=\\\"check-row\\\">\\r\\n        <mat-checkbox color=\\\"primary\\\" [(ngModel)]=\\\"jsonFormOptions.addSubmit\\\">\\r\\n          Add submit button?\\r\\n        </mat-checkbox>\\r\\n        (default = only add if no layout is defined)\\r\\n      </div>\\r\\n      <div class=\\\"check-row\\\">\\r\\n        <mat-checkbox color=\\\"primary\\\" [(ngModel)]=\\\"jsonFormOptions.defautWidgetOptions.feedback\\\">\\r\\n          Show inline fedback?\\r\\n        </mat-checkbox>\\r\\n        (default = false)\\r\\n      </div>\\r\\n      <div class=\\\"check-row\\\">\\r\\n        <mat-checkbox color=\\\"primary\\\" [(ngModel)]=\\\"jsonFormOptions.debug\\\">\\r\\n          Show debuging information?\\r\\n        </mat-checkbox>\\r\\n        (default = false)\\r\\n      </div>\\r\\n    </div>\\r\\n    <hr>\\r\\n    <h4 class=\\\"default-cursor\\\" (click)=\\\"toggleVisible('schema')\\\">\\r\\n      {{visible.schema ? '' : ''}} Input JSON Schema and Form Layout\\r\\n    </h4>\\r\\n    <div *ngIf=\\\"visible.schema\\\" [@expandSection]=\\\"true\\\"\\r\\n      ace-editor\\r\\n      [text]=\\\"jsonFormSchema\\\"\\r\\n      [options]=\\\"aceEditorOptions\\\"\\r\\n      [readOnly]=\\\"false\\\"\\r\\n      [autoUpdateContent]=\\\"true\\\"\\r\\n      (textChanged)=\\\"generateForm($event)\\\"\\r\\n      style=\\\"width:100%; overflow: auto; border: 1px solid black;\\\">\\r\\n      (loading form specification...)\\r\\n    </div>\\r\\n  </mat-card>\\r\\n\\r\\n  <mat-card fxFlex=\\\"0 0 calc(50% - 12px)\\\">\\r\\n    <h4 class=\\\"default-cursor\\\" (click)=\\\"toggleVisible('form')\\\">\\r\\n      {{visible.form ? '' : ''}} Generated Form\\r\\n    </h4>\\r\\n    <div *ngIf=\\\"visible.form\\\" class=\\\"json-schema-form\\\" [@expandSection]=\\\"true\\\">\\r\\n      <div *ngIf=\\\"!formActive\\\">{{jsonFormStatusMessage}}</div>\\r\\n\\r\\n      <!-- This is the form! -->\\r\\n      <json-schema-form\\r\\n        *ngIf=\\\"formActive\\\"\\r\\n        loadExternalAssets=\\\"true\\\"\\r\\n        [form]=\\\"jsonFormObject\\\"\\r\\n        [options]=\\\"jsonFormOptions\\\"\\r\\n        [framework]=\\\"selectedFramework\\\"\\r\\n        [language]=\\\"selectedLanguage\\\"\\r\\n        (onChanges)=\\\"onChanges($event)\\\"\\r\\n        (onSubmit)=\\\"onSubmit($event)\\\"\\r\\n        (isValid)=\\\"isValid($event)\\\"\\r\\n        (validationErrors)=\\\"validationErrors($event)\\\">\\r\\n      </json-schema-form>\\r\\n\\r\\n    </div>\\r\\n    <hr>\\r\\n    <h4 class=\\\"default-cursor\\\" (click)=\\\"toggleVisible('output')\\\">\\r\\n      {{visible.output ? '' : ''}} Form Output\\r\\n    </h4>\\r\\n    <div *ngIf=\\\"visible.output\\\" fxLayout=\\\"column\\\" [@expandSection]=\\\"true\\\">\\r\\n      <div>\\r\\n        Valid?:\\r\\n        <strong *ngIf=\\\"formIsValid || prettyValidationErrors\\\"\\r\\n          [class.text-success]=\\\"formIsValid\\\"\\r\\n          [class.text-danger]=\\\"!formIsValid\\\">\\r\\n          {{formIsValid ? 'Yes' : 'No'}}\\r\\n        </strong>\\r\\n        <span *ngIf=\\\"!formIsValid && !prettyValidationErrors\\\">n/a</span>\\r\\n        <span *ngIf=\\\"prettyValidationErrors\\\"> errors from validationErrors():</span>\\r\\n        <div *ngIf=\\\"prettyValidationErrors\\\"\\r\\n          class=\\\"data-bad\\\"\\r\\n          [innerHTML]=\\\"prettyValidationErrors\\\"></div>\\r\\n      </div><br>\\r\\n      <div>\\r\\n        Live data  from onChanges():\\r\\n        <pre\\r\\n          [class.data-good]=\\\"!prettyValidationErrors && prettyLiveFormData !== '{}'\\\"\\r\\n          [class.data-bad]=\\\"prettyValidationErrors\\\">{{prettyLiveFormData}}</pre>\\r\\n      </div><br>\\r\\n      <div>\\r\\n        Submitted data  from onSubmit():\\r\\n        <pre [class.data-good]=\\\"prettySubmittedFormData !== 'null'\\\">{{prettySubmittedFormData}}</pre>\\r\\n      </div>\\r\\n    </div>\\r\\n  </mat-card>\\r\\n\\r\\n</div>\\r\\n\"","import { Component, Input, OnInit, ViewChild } from '@angular/core';\r\nimport { MatMenuTrigger } from '@angular/material';\r\nimport { trigger, state, style, animate, transition } from '@angular/animations';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\nimport 'rxjs/add/operator/map';\r\n\r\nimport { Examples } from './example-schemas.model';\r\nimport { JsonPointer } from '../../lib/src/shared';\r\n\r\n@Component({\r\n  selector: 'demo',\r\n  templateUrl: 'demo.component.html',\r\n  animations: [\r\n    trigger('expandSection', [\r\n      state('in', style({ height: '*' })),\r\n      transition(':enter', [\r\n        style({ height: 0 }), animate(100),\r\n      ]),\r\n      transition(':leave', [\r\n        style({ height: '*' }),\r\n        animate(100, style({ height: 0 })),\r\n      ]),\r\n    ]),\r\n  ],\r\n})\r\nexport class DemoComponent implements OnInit {\r\n  examples: any = Examples;\r\n  languageList: any = ['en', 'fr'];\r\n  languages: any = {\r\n    'en': 'English',\r\n    'fr': 'French',\r\n  };\r\n  frameworkList: any = ['material-design', 'bootstrap-3', 'bootstrap-4', 'no-framework'];\r\n  frameworks: any = {\r\n    'material-design': 'Material Design',\r\n    'bootstrap-3': 'Bootstrap 3',\r\n    'bootstrap-4': 'Bootstrap 4',\r\n    'no-framework': 'None (plain HTML)',\r\n  };\r\n  selectedSet = 'ng-jsf';\r\n  selectedSetName = '';\r\n  selectedExample = 'ng-jsf-flex-layout';\r\n  selectedExampleName = 'Flexbox layout';\r\n  selectedFramework = 'material-design';\r\n  selectedLanguage = 'en';\r\n  visible: { [item: string]: boolean } = {\r\n    options: true,\r\n    schema: true,\r\n    form: true,\r\n    output: true\r\n  };\r\n\r\n  formActive = false;\r\n  jsonFormSchema: string;\r\n  jsonFormValid = false;\r\n  jsonFormStatusMessage = 'Loading form...';\r\n  jsonFormObject: any;\r\n  jsonFormOptions: any = {\r\n    addSubmit: true, // Add a submit button if layout does not have one\r\n    debug: false, // Don't show inline debugging information\r\n    loadExternalAssets: true, // Load external css and JavaScript for frameworks\r\n    returnEmptyFields: false, // Don't return values for empty input fields\r\n    setSchemaDefaults: true, // Always use schema defaults for empty fields\r\n    defautWidgetOptions: { feedback: true }, // Show inline feedback icons\r\n  };\r\n  liveFormData: any = {};\r\n  formValidationErrors: any;\r\n  formIsValid = null;\r\n  submittedFormData: any = null;\r\n  aceEditorOptions: any = {\r\n    highlightActiveLine: true,\r\n    maxLines: 1000,\r\n    printMargin: false,\r\n    autoScrollEditorIntoView: true,\r\n  };\r\n  @ViewChild(MatMenuTrigger) menuTrigger: MatMenuTrigger;\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private route: ActivatedRoute,\r\n    private router: Router\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    // Subscribe to query string to detect schema to load\r\n    this.route.queryParams.subscribe(\r\n      params => {\r\n        if (params['set']) {\r\n          this.selectedSet = params['set'];\r\n          this.selectedSetName = ({\r\n            'ng-jsf': '',\r\n            'asf': 'Angular Schema Form:',\r\n            'rsf': 'React Schema Form:',\r\n            'jsf': 'JSONForm:'\r\n          })[this.selectedSet];\r\n        }\r\n        if (params['example']) {\r\n          this.selectedExample = params['example'];\r\n          this.selectedExampleName = this.examples[this.selectedSet].schemas\r\n            .find(schema => schema.file === this.selectedExample).name;\r\n        }\r\n        if (params['framework']) {\r\n          this.selectedFramework = params['framework'];\r\n        }\r\n        if (params['language']) {\r\n          this.selectedLanguage = params['language'];\r\n        }\r\n        this.loadSelectedExample();\r\n      }\r\n    );\r\n  }\r\n\r\n  onSubmit(data: any) {\r\n    this.submittedFormData = data;\r\n  }\r\n\r\n  get prettySubmittedFormData() {\r\n    return JSON.stringify(this.submittedFormData, null, 2);\r\n  }\r\n\r\n  onChanges(data: any) {\r\n    this.liveFormData = data;\r\n  }\r\n\r\n  get prettyLiveFormData() {\r\n    return JSON.stringify(this.liveFormData, null, 2);\r\n  }\r\n\r\n  isValid(isValid: boolean): void {\r\n    this.formIsValid = isValid;\r\n  }\r\n\r\n  validationErrors(data: any): void {\r\n    this.formValidationErrors = data;\r\n  }\r\n\r\n  get prettyValidationErrors() {\r\n    if (!this.formValidationErrors) { return null; }\r\n    let errorArray = [];\r\n    for (let error of this.formValidationErrors) {\r\n      let message = error.message;\r\n      let dataPathArray = JsonPointer.parse(error.dataPath);\r\n      if (dataPathArray.length) {\r\n        let field = dataPathArray[0];\r\n        for (let i = 1; i < dataPathArray.length; i++) {\r\n          const key = dataPathArray[i];\r\n          field += /^\\d+$/.test(key) ? `[${key}]` : `.${key}`;\r\n        }\r\n        errorArray.push(`${field}: ${message}`);\r\n      } else {\r\n        errorArray.push(message);\r\n      }\r\n    }\r\n    return errorArray.join('<br>');\r\n  }\r\n\r\n  loadSelectedExample(\r\n    selectedSet: string = this.selectedSet,\r\n    selectedSetName: string = this.selectedSetName,\r\n    selectedExample: string = this.selectedExample,\r\n    selectedExampleName: string = this.selectedExampleName\r\n  ) {\r\n    if (this.menuTrigger.menuOpen) { this.menuTrigger.closeMenu(); }\r\n    if (selectedExample !== this.selectedExample) {\r\n      this.formActive = false;\r\n      this.selectedSet = selectedSet;\r\n      this.selectedSetName = selectedSetName;\r\n      this.selectedExample = selectedExample;\r\n      this.selectedExampleName = selectedExampleName;\r\n      this.router.navigateByUrl(\r\n        '/?set=' + selectedSet +\r\n        '&example=' + selectedExample +\r\n        '&framework=' + this.selectedFramework +\r\n        '&language=' + this.selectedLanguage\r\n      );\r\n      this.liveFormData = {};\r\n      this.submittedFormData = null;\r\n      this.formIsValid = null;\r\n      this.formValidationErrors = null;\r\n    }\r\n    const exampleURL = `assets/example-schemas/${this.selectedExample}.json`;\r\n    this.http\r\n      .get(exampleURL, { responseType: 'text' })\r\n      .subscribe(schema => {\r\n        this.jsonFormSchema = schema;\r\n        this.generateForm(this.jsonFormSchema);\r\n      });\r\n  }\r\n\r\n  loadSelectedLanguage() {\r\n    window.location.href =\r\n      '/?set=' + this.selectedSet +\r\n      '&example=' + this.selectedExample +\r\n      '&framework=' + this.selectedFramework +\r\n      '&language=' + this.selectedLanguage;\r\n  }\r\n\r\n  // Display the form entered by the user\r\n  // (runs whenever the user changes the jsonform object in the ACE input field)\r\n  generateForm(newFormString: string) {\r\n    if (!newFormString) { return; }\r\n    this.jsonFormStatusMessage = 'Loading form...';\r\n    this.formActive = false;\r\n    this.liveFormData = {};\r\n    this.submittedFormData = null;\r\n\r\n    // Most examples should be written in pure JSON,\r\n    // but if an example schema includes a function,\r\n    // it will be compiled it as Javascript instead\r\n    try {\r\n\r\n      // Parse entered content as JSON\r\n      this.jsonFormObject = JSON.parse(newFormString);\r\n      this.jsonFormValid = true;\r\n    } catch (jsonError) {\r\n      try {\r\n\r\n        // If entered content is not valid JSON,\r\n        // parse as JavaScript instead to include functions\r\n        let newFormObject: any = null;\r\n        /* tslint:disable */\r\n        eval('newFormObject = ' + newFormString);\r\n        /* tslint:enable */\r\n        this.jsonFormObject = newFormObject;\r\n        this.jsonFormValid = true;\r\n      } catch (javascriptError) {\r\n\r\n        // If entered content is not valid JSON or JavaScript, show error\r\n        this.jsonFormValid = false;\r\n        this.jsonFormStatusMessage =\r\n          'Entered content is not currently a valid JSON Form object.\\n' +\r\n          'As soon as it is, you will see your form here. So keep typing. :-)\\n\\n' +\r\n          'JavaScript parser returned:\\n\\n' + jsonError;\r\n        return;\r\n      }\r\n    }\r\n    this.formActive = true;\r\n  }\r\n\r\n  toggleVisible(item: string) {\r\n    this.visible[item] = !this.visible[item];\r\n  }\r\n\r\n  toggleFormOption(option: string) {\r\n    if (option === 'feedback') {\r\n      this.jsonFormOptions.defautWidgetOptions.feedback =\r\n        !this.jsonFormOptions.defautWidgetOptions.feedback;\r\n    } else {\r\n      this.jsonFormOptions[option] = !this.jsonFormOptions[option];\r\n    }\r\n    this.generateForm(this.jsonFormSchema);\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport {\r\n  MatButtonModule, MatCardModule, MatCheckboxModule, MatIconModule,\r\n  MatMenuModule, MatSelectModule, MatToolbarModule\r\n} from '@angular/material';\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport {\r\n  JsonSchemaFormModule, NoFrameworkModule, MaterialDesignFrameworkModule,\r\n  Bootstrap3FrameworkModule, Bootstrap4FrameworkModule\r\n} from '../../lib';\r\n\r\n// To include JsonSchemaFormModule after downloading from NPM, use this instead:\r\n//\r\n//   import { JsonSchemaFormModule, NoFrameworkModule } from 'angular2-json-schema-form';\r\n//\r\n// but replace \"NoFrameworkModule\" with the framework you want to use,\r\n// then import both JsonSchemaFormModule and the framework module, like this:\r\n//\r\n//   imports: [ ... NoFrameworkModule, JsonSchemaFormModule.forRoot(NoFrameworkModule) ... ]\r\n\r\nimport { AceEditorDirective } from './ace-editor.directive';\r\nimport { DemoComponent } from './demo.component';\r\nimport { DemoRootComponent } from './demo-root.component';\r\n\r\nimport { routes } from './demo.routes';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n\r\n@NgModule({\r\n  declarations: [ AceEditorDirective, DemoComponent, DemoRootComponent ],\r\n  imports: [\r\n    BrowserModule, BrowserAnimationsModule, FlexLayoutModule, FormsModule,\r\n    HttpClientModule, MatButtonModule, MatCardModule, MatCheckboxModule,\r\n    MatIconModule, MatMenuModule, MatSelectModule, MatToolbarModule,\r\n    RouterModule.forRoot(routes),\r\n\r\n    NoFrameworkModule, MaterialDesignFrameworkModule,\r\n    Bootstrap3FrameworkModule, Bootstrap4FrameworkModule,\r\n\r\n    JsonSchemaFormModule.forRoot(\r\n      NoFrameworkModule,\r\n      MaterialDesignFrameworkModule,\r\n      Bootstrap3FrameworkModule,\r\n      Bootstrap4FrameworkModule\r\n    )\r\n  ],\r\n  bootstrap: [ DemoRootComponent ]\r\n})\r\n\r\n// Here, by loading 4 frameworks in JsonSchemaFormModule.forRoot(), the first,\r\n// `NoFrameworkModule`, will be set active by default. But any of the 4 can\r\n// be activated later by passing the framework's name to the <json-schema-form>\r\n// tag's `framework` input. The names of these 4 frameworks are:\r\n//   'no-framework'\r\n//   'material-design-framework',\r\n//   'bootstrap-3-framework'\r\n//   'bootstrap-4-framework'\r\n\r\nexport class DemoModule { }\r\n","import { Route } from '@angular/router';\r\n\r\nimport { DemoComponent } from './demo.component';\r\n\r\nexport const routes: Route[] = [\r\n  { path: '', component: DemoComponent },\r\n  { path: '**', component: DemoComponent }\r\n];\r\n","/**\r\n * Sources:\r\n *\r\n * Angular JSON Schema Form examples ('ng-jsf-...') are original\r\n *\r\n * JSON Meta-Schemas ('json-schema-...') are from\r\n *   http://json-schema.org/specification-links.html\r\n *\r\n * Angular Schema Form (AngularJS) examples ('asf-...') are from\r\n *   http://schemaform.io/examples/bootstrap-example.html\r\n *\r\n * React JSON Schema Form examples ('rjsf-...') are from\r\n *   https://mozilla-services.github.io/react-jsonschema-form/\r\n *\r\n * JSONForm (jQuery) examples ('jsf-...') are from\r\n *   http://ulion.github.io/jsonform/playground/\r\n */\r\n\r\nexport const Examples: any = {\r\n  'ng-jsf': {\r\n    name: 'Angular JSON Schema Form examples',\r\n    schemas: [\r\n      { name: 'Flexbox layout',                  file: 'ng-jsf-flex-layout', },\r\n      // { name: 'Simple Array',                    file: 'ng-jsf-simple-array', },\r\n      { name: 'Nested Arrays',                   file: 'ng-jsf-nested-arrays', },\r\n      { name: 'Deep Recursive References',       file: 'ng-jsf-deep-ref', },\r\n      { name: 'Select Control Lists',            file: 'ng-jsf-select-list-examples', },\r\n      // { name: 'Select Control Widgets',          file: 'ng-jsf-select-widget-examples', },\r\n      { name: 'Data Only (no Schema or Layout)', file: 'ng-jsf-data-only', },\r\n      // { name: 'Layout Only (no Schema or Data)', file: 'ng-jsf-layout-only', },\r\n      // { name: 'JSON Meta-Schema - Draft 6',    file: 'json-schema-draft06', },\r\n      // { name: 'JSON Meta-Schema - Draft 4',    file: 'json-schema-draft04', },\r\n      // { name: 'JSON Meta-Schema - Draft 3',    file: 'json-schema-draft03', },\r\n      // { name: 'JSON Meta-Schema - Draft 2',    file: 'json-schema-draft02', },\r\n      // { name: 'JSON Meta-Schema - Draft 1',    file: 'json-schema-draft01', },\r\n    ]\r\n  },\r\n  'asf': {\r\n    name: 'Angular Schema Form (AngularJS) examples',\r\n    url: 'http://schemaform.io/examples/bootstrap-example.html',\r\n    schemas: [\r\n      { name: 'Simple',                     file: 'asf-simple', },\r\n      { name: 'Basic JSON Schema Type',     file: 'asf-basic-json-schema-type', },\r\n      { name: 'Bootstrap Grid',             file: 'asf-bootstrap-grid', },\r\n      { name: 'Complex Key Support',        file: 'asf-complex-key-support', },\r\n      { name: 'Array',                      file: 'asf-array', },\r\n      { name: 'Tab Array',                  file: 'asf-tab-array', },\r\n      { name: 'TitleMap Examples',          file: 'asf-titlemap-examples', },\r\n      { name: 'Kitchen Sink',               file: 'asf-kitchen-sink', },\r\n      { name: 'Hack: Conditional Required', file: 'asf-hack-conditional-required', },\r\n    ]\r\n  },\r\n  'rjsf': {\r\n    name: 'React JSON Schema Form examples',\r\n    url: 'https://mozilla-services.github.io/react-jsonschema-form/',\r\n    schemas: [\r\n      { name: 'Simple',                     file: 'rjsf-simple', },\r\n      { name: 'Nested',                     file: 'rjsf-nested', },\r\n      { name: 'Arrays',                     file: 'rjsf-arrays', },\r\n      { name: 'Numbers',                    file: 'rjsf-numbers', },\r\n      { name: 'Widgets',                    file: 'rjsf-widgets', },\r\n      { name: 'Ordering',                   file: 'rjsf-ordering', },\r\n      { name: 'References',                 file: 'rjsf-references', },\r\n      { name: 'Custom',                     file: 'rjsf-custom', },\r\n      { name: 'Errors',                     file: 'rjsf-errors', },\r\n      { name: 'Large',                      file: 'rjsf-large', },\r\n      { name: 'Date & Time',                file: 'rjsf-date-and-time', },\r\n      { name: 'Validation',                 file: 'rjsf-validation', },\r\n      { name: 'Files',                      file: 'rjsf-files', },\r\n      { name: 'Single',                     file: 'rjsf-single', },\r\n      // { name: 'Custom Array',               file: 'rjsf-custom-array', },\r\n      { name: 'Alternatives',               file: 'rjsf-alternatives', },\r\n    ]\r\n  },\r\n  'jsf': {\r\n    name: 'JSONForm (jQuery) examples',\r\n    url: 'http://ulion.github.io/jsonform/playground/',\r\n    schemas: [\r\n      { name: 'Getting started',\r\n        file: 'jsf-gettingstarted', urlParameters: '?example=gettingstarted' },\r\n      { name: 'JSON Schema - A basic example',\r\n        file: 'jsf-schema-basic', urlParameters: '?example=schema-basic', },\r\n      { name: 'JSON Schema - Slightly more complex example',\r\n        file: 'jsf-schema-morecomplex', urlParameters: '?example=schema-morecomplex', },\r\n      { name: 'JSON Schema - Arrays',\r\n        file: 'jsf-schema-array', urlParameters: '?example=schema-array', },\r\n      { name: 'JSON Schema - Required field',\r\n        file: 'jsf-schema-required', urlParameters: '?example=schema-required', },\r\n      { name: 'JSON Schema - Default values',\r\n        file: 'jsf-schema-default', urlParameters: '?example=schema-default', },\r\n      { name: 'JSON Schema - Inline $ref to definitions',\r\n        file: 'jsf-schema-inlineref', urlParameters: '?example=schema-inlineref', },\r\n      { name: 'Fields - Common properties',\r\n        file: 'jsf-fields-common', urlParameters: '?example=fields-common', },\r\n      { name: 'Fields - Gathering secrets: the password type',\r\n        file: 'jsf-fields-password', urlParameters: '?example=fields-password', },\r\n      { name: 'Fields - Large text: the textarea type',\r\n        file: 'jsf-fields-textarea', urlParameters: '?example=fields-textarea', },\r\n      { name: 'Fields - text field with jquery-ui autocomplete',\r\n        file: 'jsf-fields-autocomplete', urlParameters: '?example=fields-autocomplete', },\r\n      { name: 'Fields - Code (JavaScript, JSON...): the ace type',\r\n        file: 'jsf-fields-ace', urlParameters: '?example=fields-ace', },\r\n      { name: 'Fields - Color picker: the color type',\r\n        file: 'jsf-fields-color', urlParameters: '?example=fields-color', },\r\n      { name: 'Fields - Boolean flag: the checkbox type',\r\n        file: 'jsf-fields-checkbox', urlParameters: '?example=fields-checkbox', },\r\n      { name: 'Fields - Multiple options: the checkboxes type',\r\n        file: 'jsf-fields-checkboxes', urlParameters: '?example=fields-checkboxes', },\r\n      { name: 'Fields - Selection list: the select type',\r\n        file: 'jsf-fields-select', urlParameters: '?example=fields-select', },\r\n      { name: 'Fields - A list of radio buttons: the radios type',\r\n        file: 'jsf-fields-radios', urlParameters: '?example=fields-radios', },\r\n      { name: 'Fields - Radio buttons as real buttons: the radio buttons type',\r\n        file: 'jsf-fields-radiobuttons', urlParameters: '?example=fields-radiobuttons', },\r\n      { name: 'Fields - Checkbox buttons: the checkbox buttons type',\r\n        file: 'jsf-fields-checkboxbuttons', urlParameters: '?example=fields-checkboxbuttons', },\r\n      { name: 'Fields - Number: the range type',\r\n        file: 'jsf-fields-range', urlParameters: '?example=fields-range', },\r\n      { name: 'Fields - Image selector: the imageselect type',\r\n        file: 'jsf-fields-imageselect', urlParameters: '?example=fields-imageselect', },\r\n      { name: 'Fields - Icon selector: the iconselect type',\r\n        file: 'jsf-fields-iconselect', urlParameters: '?example=fields-iconselect', },\r\n      { name: 'Fields - Grouping: the fieldset type',\r\n        file: 'jsf-fields-fieldset', urlParameters: '?example=fields-fieldset', },\r\n      { name: 'Fields - Advanced options section: the advancedfieldset type',\r\n        file: 'jsf-fields-advancedfieldset', urlParameters: '?example=fields-advancedfieldset', },\r\n      { name: 'Fields - Authentication settings section: the authfieldset type',\r\n        file: 'jsf-fields-authfieldset', urlParameters: '?example=fields-authfieldset', },\r\n      { name: 'Fields - Generic group: the section type',\r\n        file: 'jsf-fields-section', urlParameters: '?example=fields-section', },\r\n      { name: 'Fields - Group of buttons: the actions type',\r\n        file: 'jsf-fields-actions', urlParameters: '?example=fields-actions', },\r\n      { name: 'Fields - Generic array: the array type (complex)',\r\n        file: 'jsf-fields-array', urlParameters: '?example=fields-array', },\r\n      { name: 'Fields - Generic array: the array type (simple)',\r\n        file: 'jsf-fields-array-simple', urlParameters: '?example=fields-array-simple', },\r\n      { name: 'Fields - Arrays with tabs: the tabarray type',\r\n        file: 'jsf-fields-tabarray', urlParameters: '?example=fields-tabarray', },\r\n      { name: 'Fields - Arrays with tabs: the tabarray type w/ maxItems',\r\n        file: 'jsf-fields-tabarray-maxitems', urlParameters: '?example=fields-tabarray-maxitems', },\r\n      { name: 'Fields - Arrays with tabs: the tabarray type w/ default & legend',\r\n        file: 'jsf-fields-tabarray-value', urlParameters: '?example=fields-tabarray-value', },\r\n      { name: 'Fields - Alternative: the selectfieldset type',\r\n        file: 'jsf-fields-selectfieldset', urlParameters: '?example=fields-selectfieldset', },\r\n      { name: 'Fields - Alternative with schema key',\r\n        file: 'jsf-fields-selectfieldset-key', urlParameters: '?example=fields-selectfieldset-key', },\r\n      { name: 'Fields - Submit the form: the submit type',\r\n        file: 'jsf-fields-submit', urlParameters: '?example=fields-submit', },\r\n      { name: 'Fields - Guide users: the help type',\r\n        file: 'jsf-fields-help', urlParameters: '?example=fields-help', },\r\n      { name: 'Fields - Hidden form values: the hidden type',\r\n        file: 'jsf-fields-hidden', urlParameters: '?example=fields-hidden', },\r\n      { name: 'Fields - Series of questions: the questions type',\r\n        file: 'jsf-fields-questions', urlParameters: '?example=fields-questions', },\r\n      { name: 'Templating - item index with idx',\r\n        file: 'jsf-templating-idx', urlParameters: '?example=templating-idx', },\r\n      { name: 'Templating - tab legend with value and valueInLegend',\r\n        file: 'jsf-templating-value', urlParameters: '?example=templating-value', },\r\n      { name: 'Templating - values.xxx to reference another field',\r\n        file: 'jsf-templating-values', urlParameters: '?example=templating-values', },\r\n      { name: 'Templating - Using the tpldata property',\r\n        file: 'jsf-templating-tpldata', urlParameters: '?example=templating-tpldata', },\r\n      { name: 'Using event handlers',\r\n        file: 'jsf-events', urlParameters: '?example=events', },\r\n      { name: 'Using previously submitted values',\r\n        file: 'jsf-previousvalues', urlParameters: '?example=previousvalues', },\r\n      { name: 'Using previously submitted values - Multidimensional arrays',\r\n        file: 'jsf-previousvalues-multidimensional', urlParameters: '?example=previousvalues-multidimensional', },\r\n    ]\r\n  }\r\n};\r\n","export const environment = { production: false };\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { DemoModule } from './app/demo.module';\r\nimport { environment } from './environments/environment';\r\n\r\nimport 'hammerjs';\r\n\r\nif (environment.production) { enableProdMode(); }\r\n\r\nplatformBrowserDynamic().bootstrapModule(DemoModule);\r\n","export {\r\n  _executeValidators, _executeAsyncValidators, _mergeObjects, _mergeErrors,\r\n  isDefined, hasValue, isEmpty, isString, isNumber, isInteger, isBoolean,\r\n  isFunction, isObject, isArray, isDate, isMap, isSet, isPromise, isObservable,\r\n  getType, isType, isPrimitive, toJavaScriptType, toSchemaType, _toPromise,\r\n  toObservable, inArray, xor, SchemaPrimitiveType, SchemaType, JavaScriptPrimitiveType,\r\n  JavaScriptType, PrimitiveValue, PlainObject, IValidatorFn, AsyncIValidatorFn\r\n} from './src/shared/validator.functions';\r\nexport {\r\n  addClasses, copy, forEach, forEachCopy, hasOwn, mergeFilteredObject,\r\n  uniqueItems, commonItems, fixTitle, toTitleCase\r\n} from './src/shared/utility.functions';\r\nexport { Pointer, JsonPointer } from './src/shared/jsonpointer.functions';\r\nexport { JsonValidators } from './src/shared/json.validators';\r\nexport {\r\n  buildSchemaFromLayout, buildSchemaFromData, getFromSchema,\r\n  removeRecursiveReferences, getInputType, checkInlineType, isInputRequired,\r\n  updateInputOptions, getTitleMapFromOneOf, getControlValidators,\r\n  resolveSchemaReferences, getSubSchema, combineAllOf, fixRequiredArrayProperties\r\n} from './src/shared/json-schema.functions';\r\nexport { convertSchemaToDraft6 } from './src/shared/convert-schema-to-draft6.function';\r\nexport { mergeSchemas } from './src/shared/merge-schemas.function';\r\nexport {\r\n  buildFormGroupTemplate, buildFormGroup, formatFormData,\r\n  getControl, setRequiredFields\r\n} from './src/shared/form-group.functions';\r\nexport {\r\n  buildLayout, buildLayoutFromSchema, mapLayout, getLayoutNode, buildTitleMap\r\n} from './src/shared/layout.functions';\r\nexport { dateToString, stringToDate, findDate } from './src/shared/date.functions';\r\nexport { OrderableDirective } from './src/shared/orderable.directive';\r\n\r\nexport { JsonSchemaFormComponent } from './src/json-schema-form.component';\r\nexport { JsonSchemaFormService } from './src/json-schema-form.service';\r\nexport { JsonSchemaFormModule } from './src/json-schema-form.module';\r\n\r\nexport { WidgetLibraryService } from './src/widget-library/widget-library.service';\r\nexport { WidgetLibraryModule } from './src/widget-library/widget-library.module';\r\n\r\nexport { AddReferenceComponent } from './src/widget-library/add-reference.component';\r\nexport { OneOfComponent } from './src/widget-library/one-of.component';\r\nexport { ButtonComponent } from './src/widget-library/button.component';\r\nexport { CheckboxComponent } from './src/widget-library/checkbox.component';\r\nexport { CheckboxesComponent } from './src/widget-library/checkboxes.component';\r\nexport { FileComponent } from './src/widget-library/file.component';\r\nexport { HiddenComponent } from './src/widget-library/hidden.component';\r\nexport { InputComponent } from './src/widget-library/input.component';\r\nexport { MessageComponent } from './src/widget-library/message.component';\r\nexport { NoneComponent } from './src/widget-library/none.component';\r\nexport { NumberComponent } from './src/widget-library/number.component';\r\nexport { RadiosComponent } from './src/widget-library/radios.component';\r\nexport { RootComponent } from './src/widget-library/root.component';\r\nexport { SectionComponent } from './src/widget-library/section.component';\r\nexport { SelectComponent } from './src/widget-library/select.component';\r\nexport { SelectFrameworkComponent } from './src/widget-library/select-framework.component';\r\nexport { SelectWidgetComponent } from './src/widget-library/select-widget.component';\r\nexport { SubmitComponent } from './src/widget-library/submit.component';\r\nexport { TabComponent } from './src/widget-library/tab.component';\r\nexport { TabsComponent } from './src/widget-library/tabs.component';\r\nexport { TemplateComponent } from './src/widget-library/template.component';\r\nexport { TextareaComponent } from './src/widget-library/textarea.component';\r\n\r\nexport { FrameworkLibraryService } from './src/framework-library/framework-library.service';\r\n// export { FrameworkLibraryModule } from './src/framework-library/framework-library.module';\r\n\r\nexport { Framework } from './src/framework-library/framework';\r\nexport { NoFramework } from './src/framework-library/no-framework/no.framework';\r\nexport { NoFrameworkComponent } from './src/framework-library/no-framework/no-framework.component';\r\nexport { NoFrameworkModule } from './src/framework-library/no-framework/no-framework.module';\r\n\r\nexport { MaterialDesignFramework } from './src/framework-library/material-design-framework/material-design.framework';\r\nexport { FlexLayoutRootComponent } from './src/framework-library/material-design-framework/flex-layout-root.component';\r\nexport { FlexLayoutSectionComponent } from './src/framework-library/material-design-framework/flex-layout-section.component';\r\nexport { MaterialAddReferenceComponent } from './src/framework-library/material-design-framework/material-add-reference.component';\r\nexport { MaterialOneOfComponent } from './src/framework-library/material-design-framework/material-one-of.component';\r\nexport { MaterialButtonComponent } from './src/framework-library/material-design-framework/material-button.component';\r\nexport { MaterialButtonGroupComponent } from './src/framework-library/material-design-framework/material-button-group.component';\r\nexport { MaterialCheckboxComponent } from './src/framework-library/material-design-framework/material-checkbox.component';\r\nexport { MaterialCheckboxesComponent } from './src/framework-library/material-design-framework/material-checkboxes.component';\r\nexport { MaterialChipListComponent } from './src/framework-library/material-design-framework/material-chip-list.component';\r\nexport { MaterialDatepickerComponent } from './src/framework-library/material-design-framework/material-datepicker.component';\r\nexport { MaterialFileComponent } from './src/framework-library/material-design-framework/material-file.component';\r\nexport { MaterialInputComponent } from './src/framework-library/material-design-framework/material-input.component';\r\nexport { MaterialNumberComponent } from './src/framework-library/material-design-framework/material-number.component';\r\nexport { MaterialRadiosComponent } from './src/framework-library/material-design-framework/material-radios.component';\r\nexport { MaterialSelectComponent } from './src/framework-library/material-design-framework/material-select.component';\r\nexport { MaterialSliderComponent } from './src/framework-library/material-design-framework/material-slider.component';\r\nexport { MaterialStepperComponent } from './src/framework-library/material-design-framework/material-stepper.component';\r\nexport { MaterialTabsComponent } from './src/framework-library/material-design-framework/material-tabs.component';\r\nexport { MaterialTextareaComponent } from './src/framework-library/material-design-framework/material-textarea.component';\r\nexport { MaterialDesignFrameworkComponent } from './src/framework-library/material-design-framework/material-design-framework.component';\r\nexport { MaterialDesignFrameworkModule } from './src/framework-library/material-design-framework/material-design-framework.module';\r\n\r\nexport { Bootstrap3Framework } from './src/framework-library/bootstrap-3-framework/bootstrap-3.framework';\r\nexport { Bootstrap3FrameworkComponent } from './src/framework-library/bootstrap-3-framework/bootstrap-3-framework.component';\r\nexport { Bootstrap3FrameworkModule } from './src/framework-library/bootstrap-3-framework/bootstrap-3-framework.module';\r\n\r\nexport { Bootstrap4Framework } from './src/framework-library/bootstrap-4-framework/bootstrap-4.framework';\r\nexport { Bootstrap4FrameworkComponent } from './src/framework-library/bootstrap-4-framework/bootstrap-4-framework.component';\r\nexport { Bootstrap4FrameworkModule } from './src/framework-library/bootstrap-4-framework/bootstrap-4-framework.module';\r\n","import { ChangeDetectorRef, Component, Input, OnChanges, OnInit } from '@angular/core';\r\n\r\nimport { cloneDeep, map } from 'lodash';\r\n\r\nimport { JsonSchemaFormService } from '../../json-schema-form.service';\r\nimport {\r\n  addClasses, hasOwn, inArray, isArray, JsonPointer, toTitleCase\r\n} from '../../shared';\r\n\r\n/**\r\n * Bootstrap 3 framework for Angular JSON Schema Form.\r\n *\r\n */\r\n@Component({\r\n  selector: 'bootstrap-3-framework',\r\n  template: `\r\n    <div\r\n      [class]=\"options?.htmlClass || ''\"\r\n      [class.has-feedback]=\"options?.feedback && options?.isInputWidget &&\r\n        (formControl?.dirty || options?.feedbackOnRender)\"\r\n      [class.has-error]=\"options?.enableErrorState && formControl?.errors &&\r\n        (formControl?.dirty || options?.feedbackOnRender)\"\r\n      [class.has-success]=\"options?.enableSuccessState && !formControl?.errors &&\r\n        (formControl?.dirty || options?.feedbackOnRender)\">\r\n\r\n      <button *ngIf=\"showRemoveButton\"\r\n        class=\"close pull-right\"\r\n        type=\"button\"\r\n        (click)=\"removeItem()\">\r\n        <span aria-hidden=\"true\">&times;</span>\r\n        <span class=\"sr-only\">Close</span>\r\n      </button>\r\n      <div *ngIf=\"options?.messageLocation === 'top'\">\r\n          <p *ngIf=\"options?.helpBlock\"\r\n          class=\"help-block\"\r\n          [innerHTML]=\"options?.helpBlock\"></p>\r\n      </div>\r\n\r\n      <label *ngIf=\"options?.title && layoutNode?.type !== 'tab'\"\r\n        [attr.for]=\"'control' + layoutNode?._id\"\r\n        [class]=\"options?.labelHtmlClass || ''\"\r\n        [class.sr-only]=\"options?.notitle\"\r\n        [innerHTML]=\"options?.title\"></label>\r\n      <p *ngIf=\"layoutNode?.type === 'submit' && jsf?.formOptions?.fieldsRequired\">\r\n        <strong class=\"text-danger\">*</strong> = required fields\r\n      </p>\r\n      <div [class.input-group]=\"options?.fieldAddonLeft || options?.fieldAddonRight\">\r\n        <span *ngIf=\"options?.fieldAddonLeft\"\r\n          class=\"input-group-addon\"\r\n          [innerHTML]=\"options?.fieldAddonLeft\"></span>\r\n\r\n        <select-widget-widget\r\n          [layoutNode]=\"widgetLayoutNode\"\r\n          [dataIndex]=\"dataIndex\"\r\n          [layoutIndex]=\"layoutIndex\"></select-widget-widget>\r\n\r\n        <span *ngIf=\"options?.fieldAddonRight\"\r\n          class=\"input-group-addon\"\r\n          [innerHTML]=\"options?.fieldAddonRight\"></span>\r\n      </div>\r\n\r\n      <span *ngIf=\"options?.feedback && options?.isInputWidget &&\r\n          !options?.fieldAddonRight && !layoutNode.arrayItem &&\r\n          (formControl?.dirty || options?.feedbackOnRender)\"\r\n        [class.glyphicon-ok]=\"options?.enableSuccessState && !formControl?.errors\"\r\n        [class.glyphicon-remove]=\"options?.enableErrorState && formControl?.errors\"\r\n        aria-hidden=\"true\"\r\n        class=\"form-control-feedback glyphicon\"></span>\r\n      <div *ngIf=\"options?.messageLocation !== 'top'\">\r\n        <p *ngIf=\"options?.helpBlock\"\r\n          class=\"help-block\"\r\n          [innerHTML]=\"options?.helpBlock\"></p>\r\n      </div>\r\n    </div>\r\n\r\n    <div *ngIf=\"debug && debugOutput\">debug: <pre>{{debugOutput}}</pre></div>\r\n  `,\r\n  styles: [`\r\n    :host /deep/ .list-group-item .form-control-feedback { top: 40; }\r\n    :host /deep/ .checkbox,\r\n    :host /deep/ .radio { margin-top: 0; margin-bottom: 0; }\r\n    :host /deep/ .checkbox-inline,\r\n    :host /deep/ .checkbox-inline + .checkbox-inline,\r\n    :host /deep/ .checkbox-inline + .radio-inline,\r\n    :host /deep/ .radio-inline,\r\n    :host /deep/ .radio-inline + .radio-inline,\r\n    :host /deep/ .radio-inline + .checkbox-inline { margin-left: 0; margin-right: 10px; }\r\n    :host /deep/ .checkbox-inline:last-child,\r\n    :host /deep/ .radio-inline:last-child { margin-right: 0; }\r\n    :host /deep/ .ng-invalid.ng-touched { border: 1px solid #f44336; }\r\n  `],\r\n})\r\nexport class Bootstrap3FrameworkComponent implements OnInit, OnChanges {\r\n  frameworkInitialized = false;\r\n  widgetOptions: any; // Options passed to child widget\r\n  widgetLayoutNode: any; // layoutNode passed to child widget\r\n  options: any; // Options used in this framework\r\n  formControl: any = null;\r\n  debugOutput: any = '';\r\n  debug: any = '';\r\n  parentArray: any = null;\r\n  isOrderable = false;\r\n  @Input() layoutNode: any;\r\n  @Input() layoutIndex: number[];\r\n  @Input() dataIndex: number[];\r\n\r\n  constructor(\r\n    public changeDetector: ChangeDetectorRef,\r\n    public jsf: JsonSchemaFormService\r\n  ) { }\r\n\r\n  get showRemoveButton(): boolean {\r\n    if (!this.options.removable || this.options.readonly ||\r\n      this.layoutNode.type === '$ref'\r\n    ) { return false; }\r\n    if (this.layoutNode.recursiveReference) { return true; }\r\n    if (!this.layoutNode.arrayItem || !this.parentArray) { return false; }\r\n    // If array length <= minItems, don't allow removing any items\r\n    return this.parentArray.items.length - 1 <= this.parentArray.options.minItems ? false :\r\n      // For removable list items, allow removing any item\r\n      this.layoutNode.arrayItemType === 'list' ? true :\r\n      // For removable tuple items, only allow removing last item in list\r\n      this.layoutIndex[this.layoutIndex.length - 1] === this.parentArray.items.length - 2;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.initializeFramework();\r\n    if (this.layoutNode.arrayItem && this.layoutNode.type !== '$ref') {\r\n      this.parentArray = this.jsf.getParentNode(this);\r\n      if (this.parentArray) {\r\n        this.isOrderable = this.layoutNode.arrayItemType === 'list' &&\r\n          !this.options.readonly && this.parentArray.options.orderable;\r\n      }\r\n    }\r\n  }\r\n\r\n  ngOnChanges() {\r\n    if (!this.frameworkInitialized) { this.initializeFramework(); }\r\n  }\r\n\r\n  initializeFramework() {\r\n    if (this.layoutNode) {\r\n      this.options = cloneDeep(this.layoutNode.options);\r\n      this.widgetLayoutNode = {\r\n        ...this.layoutNode,\r\n        options: cloneDeep(this.layoutNode.options)\r\n      };\r\n      this.widgetOptions = this.widgetLayoutNode.options;\r\n      this.formControl = this.jsf.getFormControl(this);\r\n\r\n      this.options.isInputWidget = inArray(this.layoutNode.type, [\r\n        'button', 'checkbox', 'checkboxes-inline', 'checkboxes', 'color',\r\n        'date', 'datetime-local', 'datetime', 'email', 'file', 'hidden',\r\n        'image', 'integer', 'month', 'number', 'password', 'radio',\r\n        'radiobuttons', 'radios-inline', 'radios', 'range', 'reset', 'search',\r\n        'select', 'submit', 'tel', 'text', 'textarea', 'time', 'url', 'week'\r\n      ]);\r\n\r\n      this.options.title = this.setTitle();\r\n\r\n      this.options.htmlClass =\r\n        addClasses(this.options.htmlClass, 'schema-form-' + this.layoutNode.type);\r\n      if (this.layoutNode.type !== 'flex')  {\r\n          this.options.htmlClass =\r\n            this.layoutNode.type === 'array' ?\r\n              addClasses(this.options.htmlClass, 'list-group') :\r\n            this.layoutNode.arrayItem && this.layoutNode.type !== '$ref' ?\r\n              addClasses(this.options.htmlClass, 'list-group-item') :\r\n              addClasses(this.options.htmlClass, 'form-group');\r\n      }\r\n      this.widgetOptions.htmlClass = '';\r\n      this.options.labelHtmlClass =\r\n        addClasses(this.options.labelHtmlClass, 'control-label');\r\n      this.widgetOptions.activeClass =\r\n        addClasses(this.widgetOptions.activeClass, 'active');\r\n      this.options.fieldAddonLeft =\r\n        this.options.fieldAddonLeft || this.options.prepend;\r\n      this.options.fieldAddonRight =\r\n        this.options.fieldAddonRight || this.options.append;\r\n\r\n      // Add asterisk to titles if required\r\n      if (this.options.title && this.layoutNode.type !== 'tab' &&\r\n        !this.options.notitle && this.options.required  &&\r\n        !this.options.title.includes('*')\r\n      ) {\r\n        this.options.title += ' <strong class=\"text-danger\">*</strong>';\r\n      }\r\n      // Set miscelaneous styles and settings for each control type\r\n      switch (this.layoutNode.type) {\r\n        // Checkbox controls\r\n        case 'checkbox': case 'checkboxes':\r\n          this.widgetOptions.htmlClass = addClasses(\r\n            this.widgetOptions.htmlClass, 'checkbox');\r\n        break;\r\n        case 'checkboxes-inline':\r\n          this.widgetOptions.htmlClass = addClasses(\r\n            this.widgetOptions.htmlClass, 'checkbox');\r\n          this.widgetOptions.itemLabelHtmlClass = addClasses(\r\n            this.widgetOptions.itemLabelHtmlClass, 'checkbox-inline');\r\n        break;\r\n        // Radio controls\r\n        case 'radio': case 'radios':\r\n          this.widgetOptions.htmlClass = addClasses(\r\n            this.widgetOptions.htmlClass, 'radio');\r\n        break;\r\n        case 'radios-inline':\r\n          this.widgetOptions.htmlClass = addClasses(\r\n            this.widgetOptions.htmlClass, 'radio');\r\n          this.widgetOptions.itemLabelHtmlClass = addClasses(\r\n            this.widgetOptions.itemLabelHtmlClass, 'radio-inline');\r\n        break;\r\n        // Button sets - checkboxbuttons and radiobuttons\r\n        case 'checkboxbuttons': case 'radiobuttons':\r\n          this.widgetOptions.htmlClass = addClasses(\r\n            this.widgetOptions.htmlClass, 'btn-group');\r\n          this.widgetOptions.itemLabelHtmlClass = addClasses(\r\n            this.widgetOptions.itemLabelHtmlClass, 'btn');\r\n          this.widgetOptions.itemLabelHtmlClass = addClasses(\r\n            this.widgetOptions.itemLabelHtmlClass, this.options.style || 'btn-default');\r\n          this.widgetOptions.fieldHtmlClass = addClasses(\r\n            this.widgetOptions.fieldHtmlClass, 'sr-only');\r\n        break;\r\n        // Single button controls\r\n        case 'button': case 'submit':\r\n          this.widgetOptions.fieldHtmlClass = addClasses(\r\n            this.widgetOptions.fieldHtmlClass, 'btn');\r\n          this.widgetOptions.fieldHtmlClass = addClasses(\r\n            this.widgetOptions.fieldHtmlClass, this.options.style || 'btn-info');\r\n        break;\r\n        // Containers - arrays and fieldsets\r\n        case 'array': case 'fieldset': case 'section': case 'conditional':\r\n        case 'advancedfieldset': case 'authfieldset':\r\n        case 'selectfieldset': case 'optionfieldset':\r\n          this.options.messageLocation = 'top';\r\n        break;\r\n        case 'tabarray': case 'tabs':\r\n          this.widgetOptions.htmlClass = addClasses(\r\n            this.widgetOptions.htmlClass, 'tab-content');\r\n          this.widgetOptions.fieldHtmlClass = addClasses(\r\n            this.widgetOptions.fieldHtmlClass, 'tab-pane');\r\n          this.widgetOptions.labelHtmlClass = addClasses(\r\n            this.widgetOptions.labelHtmlClass, 'nav nav-tabs');\r\n        break;\r\n        // 'Add' buttons - references\r\n        case '$ref':\r\n          this.widgetOptions.fieldHtmlClass = addClasses(\r\n            this.widgetOptions.fieldHtmlClass, 'btn pull-right');\r\n          this.widgetOptions.fieldHtmlClass = addClasses(\r\n            this.widgetOptions.fieldHtmlClass, this.options.style || 'btn-default');\r\n          this.options.icon = 'glyphicon glyphicon-plus';\r\n        break;\r\n        // Default - including regular inputs\r\n        default:\r\n          this.widgetOptions.fieldHtmlClass = addClasses(\r\n            this.widgetOptions.fieldHtmlClass, 'form-control');\r\n      }\r\n\r\n      if (this.formControl) {\r\n        this.updateHelpBlock(this.formControl.status);\r\n        this.formControl.statusChanges.subscribe(status => this.updateHelpBlock(status));\r\n\r\n        if (this.options.debug) {\r\n          const vars: any[] = [];\r\n          this.debugOutput = map(vars, thisVar => JSON.stringify(thisVar, null, 2)).join('\\n');\r\n        }\r\n      }\r\n      this.frameworkInitialized = true;\r\n    }\r\n\r\n  }\r\n\r\n  updateHelpBlock(status) {\r\n    this.options.helpBlock = status === 'INVALID' &&\r\n      this.options.enableErrorState && this.formControl.errors &&\r\n      (this.formControl.dirty || this.options.feedbackOnRender) ?\r\n        this.jsf.formatErrors(this.formControl.errors, this.options.validationMessages) :\r\n        this.options.description || this.options.help || null;\r\n  }\r\n\r\n  setTitle(): string {\r\n    switch (this.layoutNode.type) {\r\n      case 'button': case 'checkbox': case 'section': case 'help': case 'msg':\r\n      case 'submit': case 'message': case 'tabarray': case 'tabs': case '$ref':\r\n        return null;\r\n      case 'advancedfieldset':\r\n        this.widgetOptions.expandable = true;\r\n        this.widgetOptions.title = 'Advanced options';\r\n        return null;\r\n      case 'authfieldset':\r\n        this.widgetOptions.expandable = true;\r\n        this.widgetOptions.title = 'Authentication settings';\r\n        return null;\r\n      case 'fieldset':\r\n        this.widgetOptions.title = this.options.title;\r\n        return null;\r\n      default:\r\n        this.widgetOptions.title = null;\r\n        return this.jsf.setItemTitle(this);\r\n    }\r\n  }\r\n\r\n  removeItem() {\r\n    this.jsf.removeItem(this);\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { JsonSchemaFormService } from '../../json-schema-form.service';\r\nimport { WidgetLibraryModule } from '../../widget-library/widget-library.module';\r\nimport { Framework } from '../framework';\r\nimport { Bootstrap3FrameworkComponent } from './bootstrap-3-framework.component';\r\nimport { Bootstrap3Framework } from './bootstrap-3.framework';\r\n\r\n@NgModule({\r\n  imports:         [ CommonModule, WidgetLibraryModule ],\r\n  declarations:    [ Bootstrap3FrameworkComponent ],\r\n  exports:         [ Bootstrap3FrameworkComponent ],\r\n  entryComponents: [ Bootstrap3FrameworkComponent ]\r\n})\r\nexport class Bootstrap3FrameworkModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: Bootstrap3FrameworkModule,\r\n      providers: [\r\n        { provide: Framework, useClass: Bootstrap3Framework, multi: true }\r\n      ]\r\n    };\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\nimport { Framework } from '../framework';\r\n\r\n// Bootstrap 3 Framework\r\n// https://github.com/valor-software/ng2-bootstrap\r\nimport { Bootstrap3FrameworkComponent } from './bootstrap-3-framework.component';\r\n\r\n@Injectable()\r\nexport class Bootstrap3Framework extends Framework {\r\n  name = 'bootstrap-3';\r\n\r\n  framework = Bootstrap3FrameworkComponent;\r\n\r\n  stylesheets = [\r\n    '//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css',\r\n    '//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css',\r\n  ];\r\n\r\n  scripts = [\r\n    '//ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js',\r\n    '//ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js',\r\n    '//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js',\r\n  ];\r\n}\r\n","import { ChangeDetectorRef, Component, Input, OnChanges, OnInit } from '@angular/core';\r\n\r\nimport { cloneDeep, map } from 'lodash';\r\n\r\nimport { JsonSchemaFormService } from '../../json-schema-form.service';\r\nimport {\r\n  addClasses, hasOwn, inArray, isArray, JsonPointer, toTitleCase\r\n} from '../../shared';\r\n\r\n/**\r\n * Bootstrap 4 framework for Angular JSON Schema Form.\r\n *\r\n */\r\n@Component({\r\n  selector: 'bootstrap-4-framework',\r\n  template: `\r\n    <div\r\n      [class]=\"options?.htmlClass || ''\"\r\n      [class.has-feedback]=\"options?.feedback && options?.isInputWidget &&\r\n        (formControl?.dirty || options?.feedbackOnRender)\"\r\n      [class.has-error]=\"options?.enableErrorState && formControl?.errors &&\r\n        (formControl?.dirty || options?.feedbackOnRender)\"\r\n      [class.has-success]=\"options?.enableSuccessState && !formControl?.errors &&\r\n        (formControl?.dirty || options?.feedbackOnRender)\">\r\n\r\n      <button *ngIf=\"showRemoveButton\"\r\n        class=\"close pull-right\"\r\n        type=\"button\"\r\n        (click)=\"removeItem()\">\r\n        <span aria-hidden=\"true\">&times;</span>\r\n        <span class=\"sr-only\">Close</span>\r\n      </button>\r\n      <div *ngIf=\"options?.messageLocation === 'top'\">\r\n        <p *ngIf=\"options?.helpBlock\"\r\n          class=\"help-block\"\r\n          [innerHTML]=\"options?.helpBlock\"></p>\r\n      </div>\r\n\r\n      <label *ngIf=\"options?.title && layoutNode?.type !== 'tab'\"\r\n        [attr.for]=\"'control' + layoutNode?._id\"\r\n        [class]=\"options?.labelHtmlClass || ''\"\r\n        [class.sr-only]=\"options?.notitle\"\r\n        [innerHTML]=\"options?.title\"></label>\r\n      <p *ngIf=\"layoutNode?.type === 'submit' && jsf?.formOptions?.fieldsRequired\">\r\n        <strong class=\"text-danger\">*</strong> = required fields\r\n      </p>\r\n      <div [class.input-group]=\"options?.fieldAddonLeft || options?.fieldAddonRight\">\r\n        <span *ngIf=\"options?.fieldAddonLeft\"\r\n          class=\"input-group-addon\"\r\n          [innerHTML]=\"options?.fieldAddonLeft\"></span>\r\n\r\n        <select-widget-widget\r\n          [layoutNode]=\"widgetLayoutNode\"\r\n          [dataIndex]=\"dataIndex\"\r\n          [layoutIndex]=\"layoutIndex\"></select-widget-widget>\r\n\r\n        <span *ngIf=\"options?.fieldAddonRight\"\r\n          class=\"input-group-addon\"\r\n          [innerHTML]=\"options?.fieldAddonRight\"></span>\r\n      </div>\r\n\r\n      <span *ngIf=\"options?.feedback && options?.isInputWidget &&\r\n          !options?.fieldAddonRight && !layoutNode.arrayItem &&\r\n          (formControl?.dirty || options?.feedbackOnRender)\"\r\n        [class.glyphicon-ok]=\"options?.enableSuccessState && !formControl?.errors\"\r\n        [class.glyphicon-remove]=\"options?.enableErrorState && formControl?.errors\"\r\n        aria-hidden=\"true\"\r\n        class=\"form-control-feedback glyphicon\"></span>\r\n      <div *ngIf=\"options?.messageLocation !== 'top'\">\r\n        <p *ngIf=\"options?.helpBlock\"\r\n          class=\"help-block\"\r\n          [innerHTML]=\"options?.helpBlock\"></p>\r\n      </div>\r\n    </div>\r\n\r\n    <div *ngIf=\"debug && debugOutput\">debug: <pre>{{debugOutput}}</pre></div>\r\n  `,\r\n  styles: [`\r\n    :host /deep/ .list-group-item .form-control-feedback { top: 40px; }\r\n    :host /deep/ .checkbox,\r\n    :host /deep/ .radio { margin-top: 0; margin-bottom: 0; }\r\n    :host /deep/ .checkbox-inline,\r\n    :host /deep/ .checkbox-inline + .checkbox-inline,\r\n    :host /deep/ .checkbox-inline + .radio-inline,\r\n    :host /deep/ .radio-inline,\r\n    :host /deep/ .radio-inline + .radio-inline,\r\n    :host /deep/ .radio-inline + .checkbox-inline { margin-left: 0; margin-right: 10px; }\r\n    :host /deep/ .checkbox-inline:last-child,\r\n    :host /deep/ .radio-inline:last-child { margin-right: 0; }\r\n    :host /deep/ .ng-invalid.ng-touched { border: 1px solid #f44336; }\r\n  `],\r\n})\r\nexport class Bootstrap4FrameworkComponent implements OnInit, OnChanges {\r\n  frameworkInitialized = false;\r\n  widgetOptions: any; // Options passed to child widget\r\n  widgetLayoutNode: any; // layoutNode passed to child widget\r\n  options: any; // Options used in this framework\r\n  formControl: any = null;\r\n  debugOutput: any = '';\r\n  debug: any = '';\r\n  parentArray: any = null;\r\n  isOrderable = false;\r\n  @Input() layoutNode: any;\r\n  @Input() layoutIndex: number[];\r\n  @Input() dataIndex: number[];\r\n\r\n  constructor(\r\n    public changeDetector: ChangeDetectorRef,\r\n    public jsf: JsonSchemaFormService\r\n  ) { }\r\n\r\n  get showRemoveButton(): boolean {\r\n    if (!this.options.removable || this.options.readonly ||\r\n      this.layoutNode.type === '$ref'\r\n    ) { return false; }\r\n    if (this.layoutNode.recursiveReference) { return true; }\r\n    if (!this.layoutNode.arrayItem || !this.parentArray) { return false; }\r\n    // If array length <= minItems, don't allow removing any items\r\n    return this.parentArray.items.length - 1 <= this.parentArray.options.minItems ? false :\r\n      // For removable list items, allow removing any item\r\n      this.layoutNode.arrayItemType === 'list' ? true :\r\n        // For removable tuple items, only allow removing last item in list\r\n        this.layoutIndex[this.layoutIndex.length - 1] === this.parentArray.items.length - 2;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.initializeFramework();\r\n    if (this.layoutNode.arrayItem && this.layoutNode.type !== '$ref') {\r\n      this.parentArray = this.jsf.getParentNode(this);\r\n      if (this.parentArray) {\r\n        this.isOrderable = this.layoutNode.arrayItemType === 'list' &&\r\n          !this.options.readonly && this.parentArray.options.orderable;\r\n      }\r\n    }\r\n  }\r\n\r\n  ngOnChanges() {\r\n    if (!this.frameworkInitialized) { this.initializeFramework(); }\r\n  }\r\n\r\n  initializeFramework() {\r\n    if (this.layoutNode) {\r\n      this.options = cloneDeep(this.layoutNode.options);\r\n      this.widgetLayoutNode = {\r\n        ...this.layoutNode,\r\n        options: cloneDeep(this.layoutNode.options)\r\n      };\r\n      this.widgetOptions = this.widgetLayoutNode.options;\r\n      this.formControl = this.jsf.getFormControl(this);\r\n\r\n      this.options.isInputWidget = inArray(this.layoutNode.type, [\r\n        'button', 'checkbox', 'checkboxes-inline', 'checkboxes', 'color',\r\n        'date', 'datetime-local', 'datetime', 'email', 'file', 'hidden',\r\n        'image', 'integer', 'month', 'number', 'password', 'radio',\r\n        'radiobuttons', 'radios-inline', 'radios', 'range', 'reset', 'search',\r\n        'select', 'submit', 'tel', 'text', 'textarea', 'time', 'url', 'week'\r\n      ]);\r\n\r\n      this.options.title = this.setTitle();\r\n\r\n      this.options.htmlClass =\r\n        addClasses(this.options.htmlClass, 'schema-form-' + this.layoutNode.type);\r\n      this.options.htmlClass =\r\n        this.layoutNode.type === 'array' ?\r\n          addClasses(this.options.htmlClass, 'list-group') :\r\n          this.layoutNode.arrayItem && this.layoutNode.type !== '$ref' ?\r\n            addClasses(this.options.htmlClass, 'list-group-item') :\r\n            addClasses(this.options.htmlClass, 'form-group');\r\n      this.widgetOptions.htmlClass = '';\r\n      this.options.labelHtmlClass =\r\n        addClasses(this.options.labelHtmlClass, 'control-label');\r\n      this.widgetOptions.activeClass =\r\n        addClasses(this.widgetOptions.activeClass, 'active');\r\n      this.options.fieldAddonLeft =\r\n        this.options.fieldAddonLeft || this.options.prepend;\r\n      this.options.fieldAddonRight =\r\n        this.options.fieldAddonRight || this.options.append;\r\n\r\n      // Add asterisk to titles if required\r\n      if (this.options.title && this.layoutNode.type !== 'tab' &&\r\n        !this.options.notitle && this.options.required  &&\r\n        !this.options.title.includes('*')\r\n      ) {\r\n        this.options.title += ' <strong class=\"text-danger\">*</strong>';\r\n      }\r\n      // Set miscelaneous styles and settings for each control type\r\n      switch (this.layoutNode.type) {\r\n        // Checkbox controls\r\n        case 'checkbox': case 'checkboxes':\r\n        this.widgetOptions.htmlClass = addClasses(\r\n          this.widgetOptions.htmlClass, 'checkbox');\r\n        break;\r\n        case 'checkboxes-inline':\r\n          this.widgetOptions.htmlClass = addClasses(\r\n            this.widgetOptions.htmlClass, 'checkbox');\r\n          this.widgetOptions.itemLabelHtmlClass = addClasses(\r\n            this.widgetOptions.itemLabelHtmlClass, 'checkbox-inline');\r\n          break;\r\n        // Radio controls\r\n        case 'radio': case 'radios':\r\n        this.widgetOptions.htmlClass = addClasses(\r\n          this.widgetOptions.htmlClass, 'radio');\r\n        break;\r\n        case 'radios-inline':\r\n          this.widgetOptions.htmlClass = addClasses(\r\n            this.widgetOptions.htmlClass, 'radio');\r\n          this.widgetOptions.itemLabelHtmlClass = addClasses(\r\n            this.widgetOptions.itemLabelHtmlClass, 'radio-inline');\r\n          break;\r\n        // Button sets - checkboxbuttons and radiobuttons\r\n        case 'checkboxbuttons': case 'radiobuttons':\r\n          this.widgetOptions.htmlClass = addClasses(\r\n            this.widgetOptions.htmlClass, 'btn-group');\r\n          this.widgetOptions.itemLabelHtmlClass = addClasses(\r\n            this.widgetOptions.itemLabelHtmlClass, 'btn');\r\n          this.widgetOptions.itemLabelHtmlClass = addClasses(\r\n            this.widgetOptions.itemLabelHtmlClass, this.options.style || 'btn-default');\r\n          this.widgetOptions.fieldHtmlClass = addClasses(\r\n            this.widgetOptions.fieldHtmlClass, 'sr-only');\r\n        break;\r\n        // Single button controls\r\n        case 'button': case 'submit':\r\n          this.widgetOptions.fieldHtmlClass = addClasses(\r\n            this.widgetOptions.fieldHtmlClass, 'btn');\r\n          this.widgetOptions.fieldHtmlClass = addClasses(\r\n            this.widgetOptions.fieldHtmlClass, this.options.style || 'btn-info');\r\n        break;\r\n        // Containers - arrays and fieldsets\r\n        case 'array': case 'fieldset': case 'section': case 'conditional':\r\n        case 'advancedfieldset': case 'authfieldset':\r\n        case 'selectfieldset': case 'optionfieldset':\r\n          this.options.messageLocation = 'top';\r\n        break;\r\n        case 'tabarray': case 'tabs':\r\n          this.widgetOptions.htmlClass = addClasses(\r\n            this.widgetOptions.htmlClass, 'tab-content');\r\n          this.widgetOptions.fieldHtmlClass = addClasses(\r\n            this.widgetOptions.fieldHtmlClass, 'tab-pane');\r\n          this.widgetOptions.labelHtmlClass = addClasses(\r\n            this.widgetOptions.labelHtmlClass, 'nav nav-tabs');\r\n        break;\r\n        // 'Add' buttons - references\r\n        case '$ref':\r\n          this.widgetOptions.fieldHtmlClass = addClasses(\r\n            this.widgetOptions.fieldHtmlClass, 'btn pull-right');\r\n          this.widgetOptions.fieldHtmlClass = addClasses(\r\n            this.widgetOptions.fieldHtmlClass, this.options.style || 'btn-default');\r\n          this.options.icon = 'glyphicon glyphicon-plus';\r\n        break;\r\n        // Default - including regular inputs\r\n        default:\r\n          this.widgetOptions.fieldHtmlClass = addClasses(\r\n            this.widgetOptions.fieldHtmlClass, 'form-control');\r\n      }\r\n\r\n      if (this.formControl) {\r\n        this.updateHelpBlock(this.formControl.status);\r\n        this.formControl.statusChanges.subscribe(status => this.updateHelpBlock(status));\r\n\r\n        if (this.options.debug) {\r\n          const vars: any[] = [];\r\n          this.debugOutput = map(vars, thisVar => JSON.stringify(thisVar, null, 2)).join('\\n');\r\n        }\r\n      }\r\n      this.frameworkInitialized = true;\r\n    }\r\n\r\n  }\r\n\r\n  updateHelpBlock(status) {\r\n    this.options.helpBlock = status === 'INVALID' &&\r\n      this.options.enableErrorState && this.formControl.errors &&\r\n      (this.formControl.dirty || this.options.feedbackOnRender) ?\r\n        this.jsf.formatErrors(this.formControl.errors, this.options.validationMessages) :\r\n        this.options.description || this.options.help || null;\r\n  }\r\n\r\n  setTitle(): string {\r\n    switch (this.layoutNode.type) {\r\n      case 'button': case 'checkbox': case 'section': case 'help': case 'msg':\r\n      case 'submit': case 'message': case 'tabarray': case 'tabs': case '$ref':\r\n        return null;\r\n      case 'advancedfieldset':\r\n        this.widgetOptions.expandable = true;\r\n        this.widgetOptions.title = 'Advanced options';\r\n        return null;\r\n      case 'authfieldset':\r\n        this.widgetOptions.expandable = true;\r\n        this.widgetOptions.title = 'Authentication settings';\r\n        return null;\r\n      case 'fieldset':\r\n        this.widgetOptions.title = this.options.title;\r\n        return null;\r\n      default:\r\n        this.widgetOptions.title = null;\r\n        return this.jsf.setItemTitle(this);\r\n    }\r\n  }\r\n\r\n  removeItem() {\r\n    this.jsf.removeItem(this);\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { JsonSchemaFormService } from '../../json-schema-form.service';\r\nimport { WidgetLibraryModule } from '../../widget-library/widget-library.module';\r\nimport { Framework } from '../framework';\r\nimport { Bootstrap4FrameworkComponent } from './bootstrap-4-framework.component';\r\nimport { Bootstrap4Framework } from './bootstrap-4.framework';\r\n\r\n@NgModule({\r\n  imports:         [ CommonModule, WidgetLibraryModule ],\r\n  declarations:    [ Bootstrap4FrameworkComponent ],\r\n  exports:         [ Bootstrap4FrameworkComponent ],\r\n  entryComponents: [ Bootstrap4FrameworkComponent ]\r\n})\r\nexport class Bootstrap4FrameworkModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: Bootstrap4FrameworkModule,\r\n      providers: [\r\n        { provide: Framework, useClass: Bootstrap4Framework, multi: true }\r\n      ]\r\n    };\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\nimport { Framework } from '../framework';\r\n\r\n// Bootstrap 4 Framework\r\n// https://github.com/ng-bootstrap/ng-bootstrap\r\nimport { Bootstrap4FrameworkComponent } from './bootstrap-4-framework.component';\r\n\r\n\r\n@Injectable()\r\nexport class Bootstrap4Framework extends Framework {\r\n  name = 'bootstrap-4';\r\n\r\n  framework = Bootstrap4FrameworkComponent;\r\n\r\n  stylesheets = [\r\n    '//maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css'\r\n  ];\r\n\r\n  scripts = [\r\n    '//code.jquery.com/jquery-3.2.1.slim.min.js',\r\n    '//cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js',\r\n    '//maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js',\r\n  ];\r\n}\r\n","import { Inject, Injectable } from '@angular/core';\r\n\r\nimport { WidgetLibraryService } from '../widget-library/widget-library.service';\r\nimport { hasOwn } from '../shared/utility.functions';\r\n\r\nimport { Framework } from './framework';\r\n\r\n// Possible future frameworks:\r\n// - Foundation 6:\r\n//   http://justindavis.co/2017/06/15/using-foundation-6-in-angular-4/\r\n//   https://github.com/zurb/foundation-sites\r\n// - Semantic UI:\r\n//   https://github.com/edcarroll/ng2-semantic-ui\r\n//   https://github.com/vladotesanovic/ngSemantic\r\n\r\n@Injectable()\r\nexport class FrameworkLibraryService {\r\n  activeFramework: Framework = null;\r\n  stylesheets: (HTMLStyleElement|HTMLLinkElement)[];\r\n  scripts: HTMLScriptElement[];\r\n  loadExternalAssets = false;\r\n  defaultFramework: string;\r\n  frameworkLibrary: { [name: string]: Framework } = {};\r\n\r\n  constructor(\r\n    @Inject(Framework) private frameworks: any[],\r\n    @Inject(WidgetLibraryService) private widgetLibrary: WidgetLibraryService\r\n  ) {\r\n    this.frameworks.forEach(framework =>\r\n      this.frameworkLibrary[framework.name] = framework\r\n    );\r\n    this.defaultFramework = this.frameworks[0].name;\r\n    this.setFramework(this.defaultFramework);\r\n  }\r\n\r\n  public setLoadExternalAssets(loadExternalAssets = true): void {\r\n    this.loadExternalAssets = !!loadExternalAssets;\r\n  }\r\n\r\n  public setFramework(\r\n    framework: string|Framework = this.defaultFramework,\r\n    loadExternalAssets = this.loadExternalAssets\r\n  ): boolean {\r\n    this.activeFramework =\r\n      typeof framework === 'string' && this.hasFramework(framework) ?\r\n        this.frameworkLibrary[framework] :\r\n      typeof framework === 'object' && hasOwn(framework, 'framework') ?\r\n        framework :\r\n        this.frameworkLibrary[this.defaultFramework];\r\n    return this.registerFrameworkWidgets(this.activeFramework);\r\n  }\r\n\r\n  registerFrameworkWidgets(framework: Framework): boolean {\r\n    return hasOwn(framework, 'widgets') ?\r\n      this.widgetLibrary.registerFrameworkWidgets(framework.widgets) :\r\n      this.widgetLibrary.unRegisterFrameworkWidgets();\r\n  }\r\n\r\n  public hasFramework(type: string): boolean {\r\n    return hasOwn(this.frameworkLibrary, type);\r\n  }\r\n\r\n  public getFramework(): any {\r\n    if (!this.activeFramework) { this.setFramework('default', true); }\r\n    return this.activeFramework.framework;\r\n  }\r\n\r\n  public getFrameworkWidgets(): any {\r\n    return this.activeFramework.widgets || {};\r\n  }\r\n\r\n  public getFrameworkStylesheets(load: boolean = this.loadExternalAssets): string[] {\r\n    return (load && this.activeFramework.stylesheets) || [];\r\n  }\r\n\r\n  public getFrameworkScripts(load: boolean = this.loadExternalAssets): string[] {\r\n    return (load && this.activeFramework.scripts) || [];\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class Framework {\r\n  name: string;\r\n  framework: any;\r\n  widgets?: { [key: string]: any } = {};\r\n  stylesheets?: string[] = [];\r\n  scripts?: string[] = [];\r\n}\r\n","import { ChangeDetectionStrategy, Component, Input } from '@angular/core';\r\n\r\nimport { JsonSchemaFormService } from '../../json-schema-form.service';\r\nimport { hasValue, JsonPointer } from '../../shared';\r\n\r\n@Component({\r\n  selector: 'flex-layout-root-widget',\r\n  template: `\r\n    <div *ngFor=\"let layoutNode of layout; let i = index\"\r\n      [class.form-flex-item]=\"isFlexItem\"\r\n      [style.flex-grow]=\"getFlexAttribute(layoutNode, 'flex-grow')\"\r\n      [style.flex-shrink]=\"getFlexAttribute(layoutNode, 'flex-shrink')\"\r\n      [style.flex-basis]=\"getFlexAttribute(layoutNode, 'flex-basis')\"\r\n      [style.align-self]=\"(layoutNode?.options || {})['align-self']\"\r\n      [style.order]=\"layoutNode?.options?.order\"\r\n      [fxFlex]=\"layoutNode?.options?.fxFlex\"\r\n      [fxFlexOrder]=\"layoutNode?.options?.fxFlexOrder\"\r\n      [fxFlexOffset]=\"layoutNode?.options?.fxFlexOffset\"\r\n      [fxFlexAlign]=\"layoutNode?.options?.fxFlexAlign\">\r\n      <select-framework-widget *ngIf=\"showWidget(layoutNode)\"\r\n        [dataIndex]=\"layoutNode?.arrayItem ? (dataIndex || []).concat(i) : (dataIndex || [])\"\r\n        [layoutIndex]=\"(layoutIndex || []).concat(i)\"\r\n        [layoutNode]=\"layoutNode\"></select-framework-widget>\r\n    <div>`,\r\n  changeDetection: ChangeDetectionStrategy.Default,\r\n})\r\nexport class FlexLayoutRootComponent {\r\n  @Input() dataIndex: number[];\r\n  @Input() layoutIndex: number[];\r\n  @Input() layout: any[];\r\n  @Input() isFlexItem = false;\r\n\r\n  constructor(\r\n    private jsf: JsonSchemaFormService\r\n  ) { }\r\n\r\n  removeItem(item) {\r\n    this.jsf.removeItem(item);\r\n  }\r\n\r\n  // Set attributes for flexbox child\r\n  // (container attributes are set in flex-layout-section.component)\r\n  getFlexAttribute(node: any, attribute: string) {\r\n    const index = ['flex-grow', 'flex-shrink', 'flex-basis'].indexOf(attribute);\r\n    return ((node.options || {}).flex || '').split(/\\s+/)[index] ||\r\n      (node.options || {})[attribute] || ['1', '1', 'auto'][index];\r\n  }\r\n\r\n  showWidget(layoutNode: any): boolean {\r\n    return this.jsf.evaluateCondition(layoutNode, this.dataIndex);\r\n  }\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { AbstractControl } from '@angular/forms';\r\n\r\nimport { toTitleCase } from '../../shared';\r\nimport { JsonSchemaFormService } from '../../json-schema-form.service';\r\n\r\n@Component({\r\n  selector: 'flex-layout-section-widget',\r\n  template: `\r\n    <div *ngIf=\"containerType === 'div'\"\r\n      [class]=\"options?.htmlClass || ''\"\r\n      [class.expandable]=\"options?.expandable && !expanded\"\r\n      [class.expanded]=\"options?.expandable && expanded\">\r\n      <label *ngIf=\"sectionTitle\"\r\n        [class]=\"'legend ' + (options?.labelHtmlClass || '')\"\r\n        [innerHTML]=\"sectionTitle\"\r\n        (click)=\"toggleExpanded()\"></label>\r\n      <flex-layout-root-widget *ngIf=\"expanded\"\r\n        [layout]=\"layoutNode.items\"\r\n        [dataIndex]=\"dataIndex\"\r\n        [layoutIndex]=\"layoutIndex\"\r\n        [isFlexItem]=\"getFlexAttribute('is-flex')\"\r\n        [class.form-flex-column]=\"getFlexAttribute('flex-direction') === 'column'\"\r\n        [class.form-flex-row]=\"getFlexAttribute('flex-direction') === 'row'\"\r\n        [style.display]=\"getFlexAttribute('display')\"\r\n        [style.flex-direction]=\"getFlexAttribute('flex-direction')\"\r\n        [style.flex-wrap]=\"getFlexAttribute('flex-wrap')\"\r\n        [style.justify-content]=\"getFlexAttribute('justify-content')\"\r\n        [style.align-items]=\"getFlexAttribute('align-items')\"\r\n        [style.align-content]=\"getFlexAttribute('align-content')\"\r\n        [fxLayout]=\"getFlexAttribute('layout')\"\r\n        [fxLayoutGap]=\"options?.fxLayoutGap\"\r\n        [fxLayoutAlign]=\"options?.fxLayoutAlign\"\r\n        [attr.fxFlexFill]=\"options?.fxLayoutAlign\"></flex-layout-root-widget>\r\n      <mat-error *ngIf=\"options?.showErrors && options?.errorMessage\"\r\n        [innerHTML]=\"options?.errorMessage\"></mat-error>\r\n    </div>\r\n\r\n    <fieldset *ngIf=\"containerType === 'fieldset'\"\r\n      [class]=\"options?.htmlClass || ''\"\r\n      [class.expandable]=\"options?.expandable && !expanded\"\r\n      [class.expanded]=\"options?.expandable && expanded\"\r\n      [disabled]=\"options?.readonly\">\r\n      <legend *ngIf=\"sectionTitle\"\r\n        [class]=\"'legend ' + (options?.labelHtmlClass || '')\"\r\n        [innerHTML]=\"sectionTitle\"\r\n        (click)=\"toggleExpanded()\"></legend>\r\n      <flex-layout-root-widget *ngIf=\"expanded\"\r\n        [layout]=\"layoutNode.items\"\r\n        [dataIndex]=\"dataIndex\"\r\n        [layoutIndex]=\"layoutIndex\"\r\n        [isFlexItem]=\"getFlexAttribute('is-flex')\"\r\n        [class.form-flex-column]=\"getFlexAttribute('flex-direction') === 'column'\"\r\n        [class.form-flex-row]=\"getFlexAttribute('flex-direction') === 'row'\"\r\n        [style.display]=\"getFlexAttribute('display')\"\r\n        [style.flex-direction]=\"getFlexAttribute('flex-direction')\"\r\n        [style.flex-wrap]=\"getFlexAttribute('flex-wrap')\"\r\n        [style.justify-content]=\"getFlexAttribute('justify-content')\"\r\n        [style.align-items]=\"getFlexAttribute('align-items')\"\r\n        [style.align-content]=\"getFlexAttribute('align-content')\"\r\n        [fxLayout]=\"getFlexAttribute('layout')\"\r\n        [fxLayoutGap]=\"options?.fxLayoutGap\"\r\n        [fxLayoutAlign]=\"options?.fxLayoutAlign\"\r\n        [attr.fxFlexFill]=\"options?.fxLayoutAlign\"></flex-layout-root-widget>\r\n      <mat-error *ngIf=\"options?.showErrors && options?.errorMessage\"\r\n        [innerHTML]=\"options?.errorMessage\"></mat-error>\r\n    </fieldset>\r\n\r\n    <mat-card *ngIf=\"containerType === 'card'\"\r\n      [class]=\"options?.htmlClass || ''\"\r\n      [class.expandable]=\"options?.expandable && !expanded\"\r\n      [class.expanded]=\"options?.expandable && expanded\">\r\n      <mat-card-header *ngIf=\"sectionTitle\">\r\n        <legend\r\n          [class]=\"'legend ' + (options?.labelHtmlClass || '')\"\r\n          [innerHTML]=\"sectionTitle\"\r\n          (click)=\"toggleExpanded()\"></legend>\r\n      </mat-card-header>\r\n      <mat-card-content *ngIf=\"expanded\">\r\n        <fieldset [disabled]=\"options?.readonly\">\r\n          <flex-layout-root-widget *ngIf=\"expanded\"\r\n            [layout]=\"layoutNode.items\"\r\n            [dataIndex]=\"dataIndex\"\r\n            [layoutIndex]=\"layoutIndex\"\r\n            [isFlexItem]=\"getFlexAttribute('is-flex')\"\r\n            [class.form-flex-column]=\"getFlexAttribute('flex-direction') === 'column'\"\r\n            [class.form-flex-row]=\"getFlexAttribute('flex-direction') === 'row'\"\r\n            [style.display]=\"getFlexAttribute('display')\"\r\n            [style.flex-direction]=\"getFlexAttribute('flex-direction')\"\r\n            [style.flex-wrap]=\"getFlexAttribute('flex-wrap')\"\r\n            [style.justify-content]=\"getFlexAttribute('justify-content')\"\r\n            [style.align-items]=\"getFlexAttribute('align-items')\"\r\n            [style.align-content]=\"getFlexAttribute('align-content')\"\r\n            [fxLayout]=\"getFlexAttribute('layout')\"\r\n            [fxLayoutGap]=\"options?.fxLayoutGap\"\r\n            [fxLayoutAlign]=\"options?.fxLayoutAlign\"\r\n            [attr.fxFlexFill]=\"options?.fxLayoutAlign\"></flex-layout-root-widget>\r\n          </fieldset>\r\n      </mat-card-content>\r\n      <mat-card-footer>\r\n        <mat-error *ngIf=\"options?.showErrors && options?.errorMessage\"\r\n          [innerHTML]=\"options?.errorMessage\"></mat-error>\r\n      </mat-card-footer>\r\n    </mat-card>\r\n\r\n    <mat-expansion-panel *ngIf=\"containerType === 'expansion-panel'\"\r\n      [expanded]=\"expanded\"\r\n      [hideToggle]=\"!options?.expandable\">\r\n      <mat-expansion-panel-header>\r\n        <mat-panel-title>\r\n          <legend *ngIf=\"sectionTitle\"\r\n            [class]=\"options?.labelHtmlClass\"\r\n            [innerHTML]=\"sectionTitle\"\r\n            (click)=\"toggleExpanded()\"></legend>\r\n        </mat-panel-title>\r\n      </mat-expansion-panel-header>\r\n      <fieldset [disabled]=\"options?.readonly\">\r\n        <flex-layout-root-widget *ngIf=\"expanded\"\r\n          [layout]=\"layoutNode.items\"\r\n          [dataIndex]=\"dataIndex\"\r\n          [layoutIndex]=\"layoutIndex\"\r\n          [isFlexItem]=\"getFlexAttribute('is-flex')\"\r\n          [class.form-flex-column]=\"getFlexAttribute('flex-direction') === 'column'\"\r\n          [class.form-flex-row]=\"getFlexAttribute('flex-direction') === 'row'\"\r\n          [style.display]=\"getFlexAttribute('display')\"\r\n          [style.flex-direction]=\"getFlexAttribute('flex-direction')\"\r\n          [style.flex-wrap]=\"getFlexAttribute('flex-wrap')\"\r\n          [style.justify-content]=\"getFlexAttribute('justify-content')\"\r\n          [style.align-items]=\"getFlexAttribute('align-items')\"\r\n          [style.align-content]=\"getFlexAttribute('align-content')\"\r\n          [fxLayout]=\"getFlexAttribute('layout')\"\r\n          [fxLayoutGap]=\"options?.fxLayoutGap\"\r\n          [fxLayoutAlign]=\"options?.fxLayoutAlign\"\r\n          [attr.fxFlexFill]=\"options?.fxLayoutAlign\"></flex-layout-root-widget>\r\n      </fieldset>\r\n      <mat-error *ngIf=\"options?.showErrors && options?.errorMessage\"\r\n        [innerHTML]=\"options?.errorMessage\"></mat-error>\r\n    </mat-expansion-panel>`,\r\n  styles: [`\r\n    fieldset { border: 0; margin: 0; padding: 0; }\r\n    .legend { font-weight: bold; }\r\n    .expandable > .legend:before { content: ''; padding-right: .3em; }\r\n    .expanded > .legend:before { content: ''; padding-right: .2em; }\r\n  `],\r\n})\r\nexport class FlexLayoutSectionComponent implements OnInit {\r\n  formControl: AbstractControl;\r\n  controlName: string;\r\n  controlValue: any;\r\n  controlDisabled = false;\r\n  boundControl = false;\r\n  options: any;\r\n  expanded = true;\r\n  containerType = 'div';\r\n  @Input() layoutNode: any;\r\n  @Input() layoutIndex: number[];\r\n  @Input() dataIndex: number[];\r\n\r\n  constructor(\r\n    private jsf: JsonSchemaFormService\r\n  ) { }\r\n\r\n  get sectionTitle() {\r\n    return this.options.notitle ? null : this.jsf.setItemTitle(this);\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.jsf.initializeControl(this);\r\n    this.options = this.layoutNode.options || {};\r\n    this.expanded = typeof this.options.expanded === 'boolean' ?\r\n      this.options.expanded : !this.options.expandable;\r\n    switch (this.layoutNode.type) {\r\n      case 'section': case 'array': case 'fieldset': case 'advancedfieldset':\r\n      case 'authfieldset': case 'optionfieldset': case 'selectfieldset':\r\n        this.containerType = 'fieldset';\r\n      break;\r\n      case 'card':\r\n        this.containerType = 'card';\r\n      break;\r\n      case 'expansion-panel':\r\n        this.containerType = 'expansion-panel';\r\n      break;\r\n      default: // 'div', 'flex', 'tab', 'conditional', 'actions'\r\n        this.containerType = 'div';\r\n    }\r\n  }\r\n\r\n  toggleExpanded() {\r\n    if (this.options.expandable) { this.expanded = !this.expanded; }\r\n  }\r\n\r\n  // Set attributes for flexbox container\r\n  // (child attributes are set in flex-layout-root.component)\r\n  getFlexAttribute(attribute: string) {\r\n    const flexActive: boolean =\r\n      this.layoutNode.type === 'flex' ||\r\n      !!this.options.displayFlex ||\r\n      this.options.display === 'flex';\r\n    // if (attribute !== 'flex' && !flexActive) { return null; }\r\n    switch (attribute) {\r\n      case 'is-flex':\r\n        return flexActive;\r\n      case 'display':\r\n        return flexActive ? 'flex' : 'initial';\r\n      case 'flex-direction': case 'flex-wrap':\r\n        const index = ['flex-direction', 'flex-wrap'].indexOf(attribute);\r\n        return (this.options['flex-flow'] || '').split(/\\s+/)[index] ||\r\n          this.options[attribute] || ['column', 'nowrap'][index];\r\n      case 'justify-content': case 'align-items': case 'align-content':\r\n        return this.options[attribute];\r\n      case 'layout':\r\n        return (this.options.fxLayout || 'row') +\r\n          this.options.fxLayoutWrap ? ' ' + this.options.fxLayoutWrap : '';\r\n    }\r\n  }\r\n}\r\n","import { FlexLayoutRootComponent } from './flex-layout-root.component';\r\nimport { FlexLayoutSectionComponent } from './flex-layout-section.component';\r\nimport { MaterialAddReferenceComponent } from './material-add-reference.component';\r\nimport { MaterialOneOfComponent } from './material-one-of.component';\r\nimport { MaterialButtonComponent } from './material-button.component';\r\nimport { MaterialButtonGroupComponent } from './material-button-group.component';\r\nimport { MaterialCheckboxComponent } from './material-checkbox.component';\r\nimport { MaterialCheckboxesComponent } from './material-checkboxes.component';\r\nimport { MaterialChipListComponent } from './material-chip-list.component';\r\nimport { MaterialDatepickerComponent } from './material-datepicker.component';\r\nimport { MaterialFileComponent } from './material-file.component';\r\nimport { MaterialInputComponent } from './material-input.component';\r\nimport { MaterialNumberComponent } from './material-number.component';\r\nimport { MaterialRadiosComponent } from './material-radios.component';\r\nimport { MaterialSelectComponent } from './material-select.component';\r\nimport { MaterialSliderComponent } from './material-slider.component';\r\nimport { MaterialStepperComponent } from './material-stepper.component';\r\nimport { MaterialTabsComponent } from './material-tabs.component';\r\nimport { MaterialTextareaComponent } from './material-textarea.component';\r\n\r\nimport { MaterialDesignFrameworkComponent } from './material-design-framework.component';\r\n\r\nexport const MATERIAL_FRAMEWORK_COMPONENTS = [\r\n  FlexLayoutRootComponent, FlexLayoutSectionComponent,\r\n  MaterialAddReferenceComponent, MaterialOneOfComponent,\r\n  MaterialButtonComponent, MaterialButtonGroupComponent,\r\n  MaterialCheckboxComponent, MaterialCheckboxesComponent,\r\n  MaterialChipListComponent, MaterialDatepickerComponent,\r\n  MaterialFileComponent, MaterialInputComponent, MaterialNumberComponent,\r\n  MaterialRadiosComponent, MaterialSelectComponent, MaterialSliderComponent,\r\n  MaterialStepperComponent, MaterialTabsComponent, MaterialTextareaComponent,\r\n  MaterialDesignFrameworkComponent\r\n];\r\n\r\nexport { FlexLayoutRootComponent } from './flex-layout-root.component';\r\nexport { FlexLayoutSectionComponent } from './flex-layout-section.component';\r\nexport { MaterialAddReferenceComponent } from './material-add-reference.component';\r\nexport { MaterialOneOfComponent } from './material-one-of.component';\r\nexport { MaterialButtonComponent } from './material-button.component';\r\nexport { MaterialButtonGroupComponent } from './material-button-group.component';\r\nexport { MaterialCheckboxComponent } from './material-checkbox.component';\r\nexport { MaterialCheckboxesComponent } from './material-checkboxes.component';\r\nexport { MaterialChipListComponent } from './material-chip-list.component';\r\nexport { MaterialDatepickerComponent } from './material-datepicker.component';\r\nexport { MaterialFileComponent } from './material-file.component';\r\nexport { MaterialInputComponent } from './material-input.component';\r\nexport { MaterialNumberComponent } from './material-number.component';\r\nexport { MaterialRadiosComponent } from './material-radios.component';\r\nexport { MaterialSelectComponent } from './material-select.component';\r\nexport { MaterialSliderComponent } from './material-slider.component';\r\nexport { MaterialStepperComponent } from './material-stepper.component';\r\nexport { MaterialTabsComponent } from './material-tabs.component';\r\nexport { MaterialTextareaComponent } from './material-textarea.component';\r\n\r\nexport { MaterialDesignFrameworkComponent } from './material-design-framework.component';\r\n","import { ChangeDetectionStrategy, Component, Input, OnInit } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\n\r\nimport { JsonSchemaFormService } from '../../json-schema-form.service';\r\n\r\n@Component({\r\n  selector: 'material-add-reference-widget',\r\n  template: `\r\n    <section [class]=\"options?.htmlClass || ''\" align=\"end\">\r\n      <button mat-raised-button *ngIf=\"showAddButton\"\r\n        [color]=\"options?.color || 'accent'\"\r\n        [disabled]=\"options?.readonly\"\r\n        (click)=\"addItem($event)\">\r\n        <span *ngIf=\"options?.icon\" [class]=\"options?.icon\"></span>\r\n        <span *ngIf=\"options?.title\" [innerHTML]=\"buttonText\"></span>\r\n      </button>\r\n    </section>`,\r\n  changeDetection: ChangeDetectionStrategy.Default,\r\n})\r\nexport class MaterialAddReferenceComponent implements OnInit {\r\n  options: any;\r\n  itemCount: number;\r\n  previousLayoutIndex: number[];\r\n  previousDataIndex: number[];\r\n  @Input() layoutNode: any;\r\n  @Input() layoutIndex: number[];\r\n  @Input() dataIndex: number[];\r\n\r\n  constructor(\r\n    private jsf: JsonSchemaFormService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.options = this.layoutNode.options || {};\r\n  }\r\n\r\n  get showAddButton(): boolean {\r\n    return !this.layoutNode.arrayItem ||\r\n      this.layoutIndex[this.layoutIndex.length - 1] < this.options.maxItems;\r\n  }\r\n\r\n  addItem(event) {\r\n    event.preventDefault();\r\n    this.jsf.addItem(this);\r\n  }\r\n\r\n  get buttonText(): string {\r\n    const parent: any = {\r\n      dataIndex: this.dataIndex.slice(0, -1),\r\n      layoutIndex: this.layoutIndex.slice(0, -1),\r\n      layoutNode: this.jsf.getParentNode(this),\r\n    };\r\n    return parent.layoutNode.add ||\r\n      this.jsf.setArrayItemTitle(parent, this.layoutNode, this.itemCount);\r\n  }\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { AbstractControl } from '@angular/forms';\r\n\r\nimport { JsonSchemaFormService } from '../../json-schema-form.service';\r\nimport { buildTitleMap } from '../../shared';\r\n\r\n@Component({\r\n  selector: 'material-button-group-widget',\r\n  template: `\r\n    <div>\r\n      <div *ngIf=\"options?.title\">\r\n        <label\r\n          [attr.for]=\"'control' + layoutNode?._id\"\r\n          [class]=\"options?.labelHtmlClass || ''\"\r\n          [style.display]=\"options?.notitle ? 'none' : ''\"\r\n          [innerHTML]=\"options?.title\"></label>\r\n      </div>\r\n      <mat-button-toggle-group\r\n        [attr.aria-describedby]=\"'control' + layoutNode?._id + 'Status'\"\r\n        [attr.readonly]=\"options?.readonly ? 'readonly' : null\"\r\n        [attr.required]=\"options?.required\"\r\n        [disabled]=\"controlDisabled || options?.readonly\"\r\n        [name]=\"controlName\"\r\n        [value]=\"controlValue\"\r\n        [vertical]=\"!!options.vertical\">\r\n        <mat-button-toggle *ngFor=\"let radioItem of radiosList\"\r\n          [id]=\"'control' + layoutNode?._id + '/' + radioItem?.name\"\r\n          [value]=\"radioItem?.value\"\r\n          (click)=\"updateValue(radioItem?.value)\">\r\n          <span [innerHTML]=\"radioItem?.name\"></span>\r\n        </mat-button-toggle>\r\n      </mat-button-toggle-group>\r\n      <mat-error *ngIf=\"options?.showErrors && options?.errorMessage\"\r\n        [innerHTML]=\"options?.errorMessage\"></mat-error>\r\n    </div>`,\r\n    styles: [` mat-error { font-size: 75%; } `],\r\n})\r\nexport class MaterialButtonGroupComponent implements OnInit {\r\n  formControl: AbstractControl;\r\n  controlName: string;\r\n  controlValue: any;\r\n  controlDisabled = false;\r\n  boundControl = false;\r\n  options: any;\r\n  radiosList: any[] = [];\r\n  vertical = false;\r\n  @Input() layoutNode: any;\r\n  @Input() layoutIndex: number[];\r\n  @Input() dataIndex: number[];\r\n\r\n  constructor(\r\n    private jsf: JsonSchemaFormService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.options = this.layoutNode.options || {};\r\n    this.radiosList = buildTitleMap(\r\n      this.options.titleMap || this.options.enumNames,\r\n      this.options.enum, true\r\n    );\r\n    this.jsf.initializeControl(this);\r\n  }\r\n\r\n  updateValue(value) {\r\n    this.options.showErrors = true;\r\n    this.jsf.updateValue(this, value);\r\n  }\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { AbstractControl } from '@angular/forms';\r\n\r\nimport { JsonSchemaFormService } from '../../json-schema-form.service';\r\nimport { hasOwn } from '../../shared/utility.functions';\r\n\r\n@Component({\r\n  selector: 'material-button-widget',\r\n  template: `\r\n    <div class=\"button-row\" [class]=\"options?.htmlClass || ''\">\r\n      <button mat-raised-button\r\n        [attr.readonly]=\"options?.readonly ? 'readonly' : null\"\r\n        [attr.aria-describedby]=\"'control' + layoutNode?._id + 'Status'\"\r\n        [color]=\"options?.color || 'primary'\"\r\n        [disabled]=\"controlDisabled || options?.readonly\"\r\n        [id]=\"'control' + layoutNode?._id\"\r\n        [name]=\"controlName\"\r\n        [type]=\"layoutNode?.type\"\r\n        [value]=\"controlValue\"\r\n        (click)=\"updateValue($event)\">\r\n        <mat-icon *ngIf=\"options?.icon\" class=\"mat-24\">{{options?.icon}}</mat-icon>\r\n        <span *ngIf=\"options?.title\" [innerHTML]=\"options?.title\"></span>\r\n      </button>\r\n    </div>`,\r\n    styles: [` button { margin-top: 10px; } `],\r\n})\r\nexport class MaterialButtonComponent implements OnInit {\r\n  formControl: AbstractControl;\r\n  controlName: string;\r\n  controlValue: any;\r\n  controlDisabled = false;\r\n  boundControl = false;\r\n  options: any;\r\n  @Input() layoutNode: any;\r\n  @Input() layoutIndex: number[];\r\n  @Input() dataIndex: number[];\r\n\r\n  constructor(\r\n    private jsf: JsonSchemaFormService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.options = this.layoutNode.options || {};\r\n    this.jsf.initializeControl(this);\r\n    if (hasOwn(this.options, 'disabled')) {\r\n      this.controlDisabled = this.options.disabled;\r\n    } else if (this.jsf.formOptions.disableInvalidSubmit) {\r\n      this.controlDisabled = !this.jsf.isValid;\r\n      this.jsf.isValidChanges.subscribe(isValid => this.controlDisabled = !isValid);\r\n    }\r\n  }\r\n\r\n  updateValue(event) {\r\n    if (typeof this.options.onClick === 'function') {\r\n      this.options.onClick(event);\r\n    } else {\r\n      this.jsf.updateValue(this, event.target.value);\r\n    }\r\n  }\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { AbstractControl } from '@angular/forms';\r\n\r\nimport { JsonSchemaFormService } from '../../json-schema-form.service';\r\nimport { hasOwn } from './../../shared/utility.functions';\r\n\r\n@Component({\r\n  selector: 'material-checkbox-widget',\r\n  template: `\r\n    <mat-checkbox *ngIf=\"boundControl && !showSlideToggle\"\r\n      [formControl]=\"formControl\"\r\n      labelPosition=\"left\"\r\n      [color]=\"options?.color || 'primary'\"\r\n      [id]=\"'control' + layoutNode?._id\"\r\n      labelPosition=\"after\"\r\n      [name]=\"controlName\"\r\n      (blur)=\"options.showErrors = true\">\r\n      <span *ngIf=\"options?.title\"\r\n        class=\"checkbox-name\"\r\n        [style.display]=\"options?.notitle ? 'none' : ''\"\r\n        [innerHTML]=\"options?.title\"></span>\r\n    </mat-checkbox>\r\n    <mat-checkbox *ngIf=\"!boundControl && !showSlideToggle\"\r\n      labelPosition=\"left\"\r\n      [color]=\"options?.color || 'primary'\"\r\n      [disabled]=\"controlDisabled || options?.readonly\"\r\n      [id]=\"'control' + layoutNode?._id\"\r\n      labelPosition=\"after\"\r\n      [name]=\"controlName\"\r\n      [checked]=\"isChecked\"\r\n      (blur)=\"options.showErrors = true\"\r\n      (change)=\"updateValue($event)\">\r\n      <span *ngIf=\"options?.title\"\r\n        class=\"checkbox-name\"\r\n        [style.display]=\"options?.notitle ? 'none' : ''\"\r\n        [innerHTML]=\"options?.title\"></span>\r\n    </mat-checkbox>\r\n    <mat-slide-toggle *ngIf=\"boundControl && showSlideToggle\"\r\n      [formControl]=\"formControl\"\r\n      align=\"left\"\r\n      [color]=\"options?.color || 'primary'\"\r\n      [id]=\"'control' + layoutNode?._id\"\r\n      labelPosition=\"after\"\r\n      [name]=\"controlName\"\r\n      (blur)=\"options.showErrors = true\">\r\n      <span *ngIf=\"options?.title\"\r\n        class=\"checkbox-name\"\r\n        [style.display]=\"options?.notitle ? 'none' : ''\"\r\n        [innerHTML]=\"options?.title\"></span>\r\n    </mat-slide-toggle>\r\n    <mat-slide-toggle *ngIf=\"!boundControl && showSlideToggle\"\r\n      align=\"left\"\r\n      [color]=\"options?.color || 'primary'\"\r\n      [disabled]=\"controlDisabled || options?.readonly\"\r\n      [id]=\"'control' + layoutNode?._id\"\r\n      labelPosition=\"after\"\r\n      [name]=\"controlName\"\r\n      [checked]=\"isChecked\"\r\n      (blur)=\"options.showErrors = true\"\r\n      (change)=\"updateValue($event)\">\r\n      <span *ngIf=\"options?.title\"\r\n        class=\"checkbox-name\"\r\n        [style.display]=\"options?.notitle ? 'none' : ''\"\r\n        [innerHTML]=\"options?.title\"></span>\r\n    </mat-slide-toggle>\r\n    <mat-error *ngIf=\"options?.showErrors && options?.errorMessage\"\r\n      [innerHTML]=\"options?.errorMessage\"></mat-error>`,\r\n  styles: [`\r\n    .checkbox-name { white-space: nowrap; }\r\n    mat-error { font-size: 75%; }\r\n  `],\r\n})\r\nexport class MaterialCheckboxComponent implements OnInit {\r\n  formControl: AbstractControl;\r\n  controlName: string;\r\n  controlValue: any;\r\n  controlDisabled = false;\r\n  boundControl = false;\r\n  options: any;\r\n  trueValue: any = true;\r\n  falseValue: any = false;\r\n  showSlideToggle = false;\r\n  @Input() layoutNode: any;\r\n  @Input() layoutIndex: number[];\r\n  @Input() dataIndex: number[];\r\n\r\n  constructor(\r\n    private jsf: JsonSchemaFormService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.options = this.layoutNode.options || {};\r\n    this.jsf.initializeControl(this, !this.options.readonly);\r\n    if (this.controlValue === null || this.controlValue === undefined) {\r\n      this.controlValue = false;\r\n      this.jsf.updateValue(this, this.falseValue);\r\n    }\r\n    if (this.layoutNode.type === 'slide-toggle' ||\r\n      this.layoutNode.format === 'slide-toggle'\r\n    ) {\r\n      this.showSlideToggle = true;\r\n    }\r\n  }\r\n\r\n  updateValue(event) {\r\n    this.options.showErrors = true;\r\n    this.jsf.updateValue(this, event.checked ? this.trueValue : this.falseValue);\r\n  }\r\n\r\n  get isChecked() {\r\n    return this.jsf.getFormControlValue(this) === this.trueValue;\r\n  }\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { FormArray, AbstractControl } from '@angular/forms';\r\n\r\nimport { JsonSchemaFormService, TitleMapItem } from '../../json-schema-form.service';\r\nimport { buildFormGroup, buildTitleMap, hasOwn, JsonPointer } from '../../shared';\r\n\r\n// TODO: Change this to use a Selection List instead?\r\n// https://material.angular.io/components/list/overview\r\n\r\n@Component({\r\n  selector: 'material-checkboxes-widget',\r\n  template: `\r\n    <div>\r\n      <mat-checkbox type=\"checkbox\"\r\n        [checked]=\"allChecked\"\r\n        [color]=\"options?.color || 'primary'\"\r\n        [disabled]=\"controlDisabled || options?.readonly\"\r\n        [indeterminate]=\"someChecked\"\r\n        [name]=\"options?.name\"\r\n        (blur)=\"options.showErrors = true\"\r\n        (change)=\"updateAllValues($event)\">\r\n        <span class=\"checkbox-name\" [innerHTML]=\"options?.name\"></span>\r\n      </mat-checkbox>\r\n      <label *ngIf=\"options?.title\"\r\n        class=\"title\"\r\n        [class]=\"options?.labelHtmlClass || ''\"\r\n        [style.display]=\"options?.notitle ? 'none' : ''\"\r\n        [innerHTML]=\"options?.title\"></label>\r\n      <ul class=\"checkbox-list\" [class.horizontal-list]=\"horizontalList\">\r\n        <li *ngFor=\"let checkboxItem of checkboxList\"\r\n          [class]=\"options?.htmlClass || ''\">\r\n          <mat-checkbox type=\"checkbox\"\r\n            [(ngModel)]=\"checkboxItem.checked\"\r\n            [color]=\"options?.color || 'primary'\"\r\n            [disabled]=\"controlDisabled || options?.readonly\"\r\n            [name]=\"checkboxItem?.name\"\r\n            (blur)=\"options.showErrors = true\"\r\n            (change)=\"updateValue()\">\r\n            <span class=\"checkbox-name\" [innerHTML]=\"checkboxItem?.name\"></span>\r\n          </mat-checkbox>\r\n        </li>\r\n      </ul>\r\n      <mat-error *ngIf=\"options?.showErrors && options?.errorMessage\"\r\n        [innerHTML]=\"options?.errorMessage\"></mat-error>\r\n    </div>`,\r\n  styles: [`\r\n    .title { font-weight: bold; }\r\n    .checkbox-list { list-style-type: none; }\r\n    .horizontal-list > li { display: inline-block; margin-right: 10px; zoom: 1; }\r\n    .checkbox-name { white-space: nowrap; }\r\n    mat-error { font-size: 75%; }\r\n  `],\r\n})\r\nexport class MaterialCheckboxesComponent implements OnInit {\r\n  formControl: AbstractControl;\r\n  controlName: string;\r\n  controlValue: any;\r\n  controlDisabled = false;\r\n  boundControl = false;\r\n  options: any;\r\n  horizontalList = false;\r\n  formArray: AbstractControl;\r\n  checkboxList: TitleMapItem[] = [];\r\n  @Input() layoutNode: any;\r\n  @Input() layoutIndex: number[];\r\n  @Input() dataIndex: number[];\r\n\r\n  constructor(\r\n    private jsf: JsonSchemaFormService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.options = this.layoutNode.options || {};\r\n    this.horizontalList = this.layoutNode.type === 'checkboxes-inline' ||\r\n      this.layoutNode.type === 'checkboxbuttons';\r\n    this.jsf.initializeControl(this);\r\n    this.checkboxList = buildTitleMap(\r\n      this.options.titleMap || this.options.enumNames, this.options.enum, true\r\n    );\r\n    if (this.boundControl) {\r\n      const formArray = this.jsf.getFormControl(this);\r\n      for (const checkboxItem of this.checkboxList) {\r\n        checkboxItem.checked = formArray.value.includes(checkboxItem.value);\r\n      }\r\n    }\r\n  }\r\n\r\n  get allChecked(): boolean {\r\n    return this.checkboxList.filter(t => t.checked).length === this.checkboxList.length;\r\n  }\r\n\r\n  get someChecked(): boolean {\r\n    const checkedItems = this.checkboxList.filter(t => t.checked).length;\r\n    return checkedItems > 0 && checkedItems < this.checkboxList.length;\r\n  }\r\n\r\n  updateValue() {\r\n    this.options.showErrors = true;\r\n    if (this.boundControl) {\r\n      this.jsf.updateArrayCheckboxList(this, this.checkboxList);\r\n    }\r\n  }\r\n\r\n  updateAllValues(event: any) {\r\n    this.options.showErrors = true;\r\n    this.checkboxList.forEach(t => t.checked = event.checked);\r\n    this.updateValue();\r\n  }\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { AbstractControl } from '@angular/forms';\r\n\r\nimport { JsonSchemaFormService } from '../../json-schema-form.service';\r\n\r\n// TODO: Add this control\r\n\r\n@Component({\r\n  selector: 'material-chip-list-widget',\r\n  template: ``,\r\n})\r\nexport class MaterialChipListComponent implements OnInit {\r\n  formControl: AbstractControl;\r\n  controlName: string;\r\n  controlValue: any;\r\n  controlDisabled = false;\r\n  boundControl = false;\r\n  options: any;\r\n  @Input() layoutNode: any;\r\n  @Input() layoutIndex: number[];\r\n  @Input() dataIndex: number[];\r\n\r\n  constructor(\r\n    private jsf: JsonSchemaFormService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.options = this.layoutNode.options || {};\r\n    this.jsf.initializeControl(this);\r\n  }\r\n\r\n  updateValue(event) {\r\n    this.jsf.updateValue(this, event.target.value);\r\n  }\r\n}\r\n","import { Component, Input, OnInit, OnChanges } from '@angular/core';\r\nimport { AbstractControl } from '@angular/forms';\r\n\r\nimport { JsonSchemaFormService } from '../../json-schema-form.service';\r\nimport { dateToString, hasOwn, stringToDate } from '../../shared';\r\n\r\n@Component({\r\n  selector: 'material-datepicker-widget',\r\n  template: `\r\n    <mat-form-field [style.width]=\"'100%'\">\r\n      <span matPrefix *ngIf=\"options?.prefix || options?.fieldAddonLeft\"\r\n        [innerHTML]=\"options?.prefix || options?.fieldAddonLeft\"></span>\r\n      <input matInput *ngIf=\"boundControl\"\r\n        [formControl]=\"formControl\"\r\n        [attr.aria-describedby]=\"'control' + layoutNode?._id + 'Status'\"\r\n        [attr.list]=\"'control' + layoutNode?._id + 'Autocomplete'\"\r\n        [attr.readonly]=\"options?.readonly ? 'readonly' : null\"\r\n        [id]=\"'control' + layoutNode?._id\"\r\n        [max]=\"options?.maximum\"\r\n        [matDatepicker]=\"picker\"\r\n        [min]=\"options?.minimum\"\r\n        [name]=\"controlName\"\r\n        [placeholder]=\"options?.title\"\r\n        [required]=\"options?.required\"\r\n        [style.width]=\"'100%'\"\r\n        (blur)=\"options.showErrors = true\">\r\n      <input matInput *ngIf=\"!boundControl\"\r\n        [attr.aria-describedby]=\"'control' + layoutNode?._id + 'Status'\"\r\n        [attr.list]=\"'control' + layoutNode?._id + 'Autocomplete'\"\r\n        [attr.readonly]=\"options?.readonly ? 'readonly' : null\"\r\n        [disabled]=\"controlDisabled || options?.readonly\"\r\n        [id]=\"'control' + layoutNode?._id\"\r\n        [max]=\"options?.maximum\"\r\n        [matDatepicker]=\"picker\"\r\n        [min]=\"options?.minimum\"\r\n        [name]=\"controlName\"\r\n        [placeholder]=\"options?.title\"\r\n        [required]=\"options?.required\"\r\n        [style.width]=\"'100%'\"\r\n        [value]=\"dateValue\"\r\n        (blur)=\"options.showErrors = true\"\r\n        (change)=\"updateValue($event)\"\r\n        (input)=\"updateValue($event)\">\r\n      <span matSuffix *ngIf=\"options?.suffix || options?.fieldAddonRight\"\r\n        [innerHTML]=\"options?.suffix || options?.fieldAddonRight\"></span>\r\n      <mat-hint *ngIf=\"options?.description && (!options?.showErrors || !options?.errorMessage)\"\r\n        align=\"end\" [innerHTML]=\"options?.description\"></mat-hint>\r\n      <mat-datepicker-toggle matSuffix [for]=\"picker\"></mat-datepicker-toggle>\r\n    </mat-form-field>\r\n    <mat-datepicker #picker></mat-datepicker>\r\n    <mat-error *ngIf=\"options?.showErrors && options?.errorMessage\"\r\n      [innerHTML]=\"options?.errorMessage\"></mat-error>`,\r\n  styles: [`\r\n    mat-error { font-size: 75%; margin-top: -1rem; margin-bottom: 0.5rem; }\r\n    ::ng-deep mat-form-field .mat-form-field-wrapper .mat-form-field-flex\r\n      .mat-form-field-infix { width: initial; }\r\n  `],\r\n})\r\nexport class MaterialDatepickerComponent implements OnInit, OnChanges {\r\n  formControl: AbstractControl;\r\n  controlName: string;\r\n  controlValue: any;\r\n  dateValue: any;\r\n  controlDisabled = false;\r\n  boundControl = false;\r\n  options: any;\r\n  autoCompleteList: string[] = [];\r\n  @Input() layoutNode: any;\r\n  @Input() layoutIndex: number[];\r\n  @Input() dataIndex: number[];\r\n\r\n  constructor(\r\n    private jsf: JsonSchemaFormService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.options = this.layoutNode.options || {};\r\n    this.jsf.initializeControl(this, !this.options.readonly);\r\n    this.setControlDate(this.controlValue);\r\n    if (!this.options.notitle && !this.options.description && this.options.placeholder) {\r\n      this.options.description = this.options.placeholder;\r\n    }\r\n  }\r\n\r\n  ngOnChanges() {\r\n    this.setControlDate(this.controlValue);\r\n  }\r\n\r\n  setControlDate(dateString: string) {\r\n    this.dateValue = stringToDate(dateString);\r\n  }\r\n\r\n  updateValue(event) {\r\n    this.options.showErrors = true;\r\n    this.jsf.updateValue(this, dateToString(event, this.options));\r\n  }\r\n}\r\n","import { ChangeDetectorRef, Component, Input, OnChanges, OnInit } from '@angular/core';\r\n\r\nimport { cloneDeep } from 'lodash';\r\n\r\nimport { JsonSchemaFormService } from '../../json-schema-form.service';\r\nimport { hasOwn, isArray, isDefined, toTitleCase } from '../../shared';\r\n\r\n@Component({\r\n  selector: 'material-design-framework',\r\n  template: `\r\n    <div\r\n      [class.array-item]=\"widgetLayoutNode?.arrayItem && widgetLayoutNode?.type !== '$ref'\"\r\n      [orderable]=\"isOrderable\"\r\n      [dataIndex]=\"dataIndex\"\r\n      [layoutIndex]=\"layoutIndex\"\r\n      [layoutNode]=\"widgetLayoutNode\">\r\n      <svg *ngIf=\"showRemoveButton\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        height=\"18\" width=\"18\" viewBox=\"0 0 24 24\"\r\n        class=\"close-button\"\r\n        (click)=\"removeItem()\">\r\n        <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z\"/>\r\n      </svg>\r\n      <select-widget-widget\r\n        [dataIndex]=\"dataIndex\"\r\n        [layoutIndex]=\"layoutIndex\"\r\n        [layoutNode]=\"widgetLayoutNode\"></select-widget-widget>\r\n    </div>\r\n    <div class=\"spacer\" *ngIf=\"widgetLayoutNode?.arrayItem && widgetLayoutNode?.type !== '$ref'\"></div>`,\r\n  styles: [`\r\n    .array-item {\r\n      border-radius: 2px;\r\n      box-shadow: 0 3px 1px -2px rgba(0,0,0,.2),\r\n                  0 2px 2px  0   rgba(0,0,0,.14),\r\n                  0 1px 5px  0   rgba(0,0,0,.12);\r\n      padding: 6px;\r\n      position: relative;\r\n      transition: all 280ms cubic-bezier(.4, 0, .2, 1);\r\n    }\r\n    .close-button {\r\n      cursor: pointer;\r\n      position: absolute;\r\n      top: 6px;\r\n      right: 6px;\r\n      fill: rgba(0,0,0,.4);\r\n      visibility: hidden;\r\n      z-index: 500;\r\n    }\r\n    .close-button:hover { fill: rgba(0,0,0,.8); }\r\n    .array-item:hover > .close-button { visibility: visible; }\r\n    .spacer { margin: 6px 0; }\r\n    [draggable=true]:hover {\r\n      box-shadow: 0 5px 5px -3px rgba(0,0,0,.2),\r\n                  0 8px 10px 1px rgba(0,0,0,.14),\r\n                  0 3px 14px 2px rgba(0,0,0,.12);\r\n      cursor: move;\r\n      z-index: 10;\r\n    }\r\n    [draggable=true].drag-target-top {\r\n      box-shadow: 0 -2px 0 #000;\r\n      position: relative; z-index: 20;\r\n    }\r\n    [draggable=true].drag-target-bottom {\r\n      box-shadow: 0 2px 0 #000;\r\n      position: relative; z-index: 20;\r\n    }\r\n  `],\r\n})\r\nexport class MaterialDesignFrameworkComponent implements OnInit, OnChanges {\r\n  frameworkInitialized = false;\r\n  inputType: string;\r\n  options: any; // Options used in this framework\r\n  widgetLayoutNode: any; // layoutNode passed to child widget\r\n  widgetOptions: any; // Options passed to child widget\r\n  formControl: any = null;\r\n  parentArray: any = null;\r\n  isOrderable = false;\r\n  dynamicTitle: string = null;\r\n  @Input() layoutNode: any;\r\n  @Input() layoutIndex: number[];\r\n  @Input() dataIndex: number[];\r\n\r\n  constructor(\r\n    private changeDetector: ChangeDetectorRef,\r\n    private jsf: JsonSchemaFormService\r\n  ) { }\r\n\r\n  get showRemoveButton(): boolean {\r\n    if (!this.layoutNode || !this.widgetOptions.removable ||\r\n      this.widgetOptions.readonly || this.layoutNode.type === '$ref'\r\n    ) { return false; }\r\n    if (this.layoutNode.recursiveReference) { return true; }\r\n    if (!this.layoutNode.arrayItem || !this.parentArray) { return false; }\r\n    // If array length <= minItems, don't allow removing any items\r\n    return this.parentArray.items.length - 1 <= this.parentArray.options.minItems ? false :\r\n      // For removable list items, allow removing any item\r\n      this.layoutNode.arrayItemType === 'list' ? true :\r\n      // For removable tuple items, only allow removing last item in list\r\n      this.layoutIndex[this.layoutIndex.length - 1] === this.parentArray.items.length - 2;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.initializeFramework();\r\n  }\r\n\r\n  ngOnChanges() {\r\n    if (!this.frameworkInitialized) { this.initializeFramework(); }\r\n    if (this.dynamicTitle) { this.updateTitle(); }\r\n  }\r\n\r\n  initializeFramework() {\r\n    if (this.layoutNode) {\r\n      this.options = cloneDeep(this.layoutNode.options || {});\r\n      this.widgetLayoutNode = {\r\n        ...this.layoutNode,\r\n        options: cloneDeep(this.layoutNode.options || {})\r\n      };\r\n      this.widgetOptions = this.widgetLayoutNode.options;\r\n      this.formControl = this.jsf.getFormControl(this);\r\n\r\n      if (\r\n        isDefined(this.widgetOptions.minimum) &&\r\n        isDefined(this.widgetOptions.maximum) &&\r\n        this.widgetOptions.multipleOf >= 1\r\n      ) {\r\n        this.layoutNode.type = 'range';\r\n      }\r\n\r\n      if (\r\n        !['$ref', 'advancedfieldset', 'authfieldset', 'button', 'card',\r\n          'checkbox', 'expansion-panel', 'help', 'message', 'msg', 'section',\r\n          'submit', 'tabarray', 'tabs'].includes(this.layoutNode.type) &&\r\n        /{{.+?}}/.test(this.widgetOptions.title || '')\r\n      ) {\r\n        this.dynamicTitle = this.widgetOptions.title;\r\n        this.updateTitle();\r\n      }\r\n\r\n      if (this.layoutNode.arrayItem && this.layoutNode.type !== '$ref') {\r\n        this.parentArray = this.jsf.getParentNode(this);\r\n        if (this.parentArray) {\r\n          this.isOrderable =\r\n            this.parentArray.type.slice(0, 3) !== 'tab' &&\r\n            this.layoutNode.arrayItemType === 'list' &&\r\n            !this.widgetOptions.readonly &&\r\n            this.parentArray.options.orderable;\r\n        }\r\n      }\r\n\r\n      this.frameworkInitialized = true;\r\n    } else {\r\n      this.options = {};\r\n    }\r\n  }\r\n\r\n  updateTitle() {\r\n    this.widgetLayoutNode.options.title = this.jsf.parseText(\r\n      this.dynamicTitle,\r\n      this.jsf.getFormControlValue(this),\r\n      this.jsf.getFormControlGroup(this).value,\r\n      this.dataIndex[this.dataIndex.length - 1]\r\n    );\r\n  }\r\n\r\n  removeItem() {\r\n    this.jsf.removeItem(this);\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\nimport {\r\n  MatAutocompleteModule, MatButtonModule, MatButtonToggleModule, MatCardModule,\r\n  MatCheckboxModule, MatChipsModule, MatDatepickerModule, MatExpansionModule,\r\n  MatFormFieldModule, MatIconModule, MatInputModule, MatNativeDateModule,\r\n  MatRadioModule, MatSelectModule, MatSliderModule, MatSlideToggleModule,\r\n  MatStepperModule, MatTabsModule, MatTooltipModule,\r\n} from '@angular/material';\r\nexport const ANGULAR_MATERIAL_MODULES = [\r\n  MatAutocompleteModule, MatButtonModule, MatButtonToggleModule, MatCardModule,\r\n  MatCheckboxModule, MatChipsModule, MatDatepickerModule, MatExpansionModule,\r\n  MatFormFieldModule, MatIconModule, MatInputModule, MatNativeDateModule,\r\n  MatRadioModule, MatSelectModule, MatSliderModule, MatSlideToggleModule,\r\n  MatStepperModule, MatTabsModule, MatTooltipModule,\r\n];\r\n/**\r\n * unused @angular/material modules:\r\n * MatDialogModule, MatGridListModule, MatListModule, MatMenuModule,\r\n * MatPaginatorModule, MatProgressBarModule, MatProgressSpinnerModule,\r\n * MatSidenavModule, MatSnackBarModule, MatSortModule, MatTableModule,\r\n * MatToolbarModule,\r\n */\r\n\r\nimport { JsonSchemaFormService } from '../../json-schema-form.service';\r\nimport { WidgetLibraryModule } from '../../widget-library/widget-library.module';\r\nimport { Framework } from '../framework';\r\nimport { MATERIAL_FRAMEWORK_COMPONENTS } from './index';\r\nimport { MaterialDesignFramework } from './material-design.framework';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule, FormsModule, ReactiveFormsModule, FlexLayoutModule,\r\n    ...ANGULAR_MATERIAL_MODULES, WidgetLibraryModule\r\n  ],\r\n  declarations:    [ ...MATERIAL_FRAMEWORK_COMPONENTS ],\r\n  exports:         [ ...MATERIAL_FRAMEWORK_COMPONENTS ],\r\n  entryComponents: [ ...MATERIAL_FRAMEWORK_COMPONENTS ]\r\n})\r\nexport class MaterialDesignFrameworkModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: MaterialDesignFrameworkModule,\r\n      providers: [\r\n        { provide: Framework, useClass: MaterialDesignFramework, multi: true }\r\n      ]\r\n    };\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\nimport { Framework } from '../framework';\r\n\r\n// Material Design Framework\r\n// https://github.com/angular/material2\r\nimport { FlexLayoutRootComponent } from './flex-layout-root.component';\r\nimport { FlexLayoutSectionComponent } from './flex-layout-section.component';\r\nimport { MaterialAddReferenceComponent } from './material-add-reference.component';\r\nimport { MaterialOneOfComponent } from './material-one-of.component';\r\nimport { MaterialButtonComponent } from './material-button.component';\r\nimport { MaterialButtonGroupComponent } from './material-button-group.component';\r\nimport { MaterialCheckboxComponent } from './material-checkbox.component';\r\nimport { MaterialCheckboxesComponent } from './material-checkboxes.component';\r\nimport { MaterialChipListComponent } from './material-chip-list.component';\r\nimport { MaterialDatepickerComponent } from './material-datepicker.component';\r\nimport { MaterialFileComponent } from './material-file.component';\r\nimport { MaterialInputComponent } from './material-input.component';\r\nimport { MaterialNumberComponent } from './material-number.component';\r\nimport { MaterialRadiosComponent } from './material-radios.component';\r\nimport { MaterialSelectComponent } from './material-select.component';\r\nimport { MaterialSliderComponent } from './material-slider.component';\r\nimport { MaterialStepperComponent } from './material-stepper.component';\r\nimport { MaterialTabsComponent } from './material-tabs.component';\r\nimport { MaterialTextareaComponent } from './material-textarea.component';\r\nimport { MaterialDesignFrameworkComponent } from './material-design-framework.component';\r\n\r\n@Injectable()\r\nexport class MaterialDesignFramework extends Framework {\r\n  name = 'material-design';\r\n\r\n  framework = MaterialDesignFrameworkComponent;\r\n\r\n  stylesheets = [\r\n    '//fonts.googleapis.com/icon?family=Material+Icons',\r\n    '//fonts.googleapis.com/css?family=Roboto:300,400,500,700',\r\n  ];\r\n\r\n  widgets = {\r\n    'root':            FlexLayoutRootComponent,\r\n    'section':         FlexLayoutSectionComponent,\r\n    '$ref':            MaterialAddReferenceComponent,\r\n    'button':          MaterialButtonComponent,\r\n    'button-group':    MaterialButtonGroupComponent,\r\n    'checkbox':        MaterialCheckboxComponent,\r\n    'checkboxes':      MaterialCheckboxesComponent,\r\n    'chip-list':       MaterialChipListComponent,\r\n    'date':            MaterialDatepickerComponent,\r\n    'file':            MaterialFileComponent,\r\n    'number':          MaterialNumberComponent,\r\n    'one-of':          MaterialOneOfComponent,\r\n    'radios':          MaterialRadiosComponent,\r\n    'select':          MaterialSelectComponent,\r\n    'slider':          MaterialSliderComponent,\r\n    'stepper':         MaterialStepperComponent,\r\n    'tabs':            MaterialTabsComponent,\r\n    'text':            MaterialInputComponent,\r\n    'textarea':        MaterialTextareaComponent,\r\n    'alt-date':        'date',\r\n    'any-of':          'one-of',\r\n    'card':            'section',\r\n    'color':           'text',\r\n    'expansion-panel': 'section',\r\n    'hidden':          'none',\r\n    'image':           'none',\r\n    'integer':         'number',\r\n    'radiobuttons':    'button-group',\r\n    'range':           'slider',\r\n    'submit':          'button',\r\n    'tagsinput':       'chip-list',\r\n    'wizard':          'stepper',\r\n  };\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { AbstractControl } from '@angular/forms';\r\n\r\nimport { JsonSchemaFormService } from '../../json-schema-form.service';\r\n\r\n// TODO: Add this control\r\n\r\n@Component({\r\n  selector: 'material-file-widget',\r\n  template: ``,\r\n})\r\nexport class MaterialFileComponent implements OnInit {\r\n  formControl: AbstractControl;\r\n  controlName: string;\r\n  controlValue: any;\r\n  controlDisabled = false;\r\n  boundControl = false;\r\n  options: any;\r\n  @Input() layoutNode: any;\r\n  @Input() layoutIndex: number[];\r\n  @Input() dataIndex: number[];\r\n\r\n  constructor(\r\n    private jsf: JsonSchemaFormService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.options = this.layoutNode.options || {};\r\n    this.jsf.initializeControl(this);\r\n  }\r\n\r\n  updateValue(event) {\r\n    this.jsf.updateValue(this, event.target.value);\r\n  }\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { AbstractControl } from '@angular/forms';\r\n\r\nimport { JsonSchemaFormService } from '../../json-schema-form.service';\r\n\r\n@Component({\r\n  selector: 'material-input-widget',\r\n  template: `\r\n    <mat-form-field\r\n      [class]=\"options?.htmlClass || ''\"\r\n      [floatLabel]=\"options?.floatPlaceholder || (options?.notitle ? 'never' : 'auto')\"\r\n      [style.width]=\"'100%'\">\r\n      <span matPrefix *ngIf=\"options?.prefix || options?.fieldAddonLeft\"\r\n        [innerHTML]=\"options?.prefix || options?.fieldAddonLeft\"></span>\r\n      <input matInput *ngIf=\"boundControl\"\r\n        [formControl]=\"formControl\"\r\n        [attr.aria-describedby]=\"'control' + layoutNode?._id + 'Status'\"\r\n        [attr.list]=\"'control' + layoutNode?._id + 'Autocomplete'\"\r\n        [attr.maxlength]=\"options?.maxLength\"\r\n        [attr.minlength]=\"options?.minLength\"\r\n        [attr.pattern]=\"options?.pattern\"\r\n        [readonly]=\"options?.readonly ? 'readonly' : null\"\r\n        [id]=\"'control' + layoutNode?._id\"\r\n        [name]=\"controlName\"\r\n        [placeholder]=\"options?.notitle ? options?.placeholder : options?.title\"\r\n        [required]=\"options?.required\"\r\n        [style.width]=\"'100%'\"\r\n        [type]=\"layoutNode?.type\"\r\n        (blur)=\"options.showErrors = true\">\r\n      <input matInput *ngIf=\"!boundControl\"\r\n        [attr.aria-describedby]=\"'control' + layoutNode?._id + 'Status'\"\r\n        [attr.list]=\"'control' + layoutNode?._id + 'Autocomplete'\"\r\n        [attr.maxlength]=\"options?.maxLength\"\r\n        [attr.minlength]=\"options?.minLength\"\r\n        [attr.pattern]=\"options?.pattern\"\r\n        [disabled]=\"controlDisabled\"\r\n        [id]=\"'control' + layoutNode?._id\"\r\n        [name]=\"controlName\"\r\n        [placeholder]=\"options?.notitle ? options?.placeholder : options?.title\"\r\n        [readonly]=\"options?.readonly ? 'readonly' : null\"\r\n        [required]=\"options?.required\"\r\n        [style.width]=\"'100%'\"\r\n        [type]=\"layoutNode?.type\"\r\n        [value]=\"controlValue\"\r\n        (input)=\"updateValue($event)\"\r\n        (blur)=\"options.showErrors = true\">\r\n      <span matSuffix *ngIf=\"options?.suffix || options?.fieldAddonRight\"\r\n        [innerHTML]=\"options?.suffix || options?.fieldAddonRight\"></span>\r\n      <mat-hint *ngIf=\"options?.description && (!options?.showErrors || !options?.errorMessage)\"\r\n        align=\"end\" [innerHTML]=\"options?.description\"></mat-hint>\r\n      <mat-autocomplete *ngIf=\"options?.typeahead?.source\">\r\n        <mat-option *ngFor=\"let word of options?.typeahead?.source\"\r\n          [value]=\"word\">{{word}}</mat-option>\r\n      </mat-autocomplete>\r\n    </mat-form-field>\r\n    <mat-error *ngIf=\"options?.showErrors && options?.errorMessage\"\r\n      [innerHTML]=\"options?.errorMessage\"></mat-error>`,\r\n  styles: [`\r\n    mat-error { font-size: 75%; margin-top: -1rem; margin-bottom: 0.5rem; }\r\n    ::ng-deep mat-form-field .mat-form-field-wrapper .mat-form-field-flex\r\n      .mat-form-field-infix { width: initial; }\r\n  `],\r\n})\r\nexport class MaterialInputComponent implements OnInit {\r\n  formControl: AbstractControl;\r\n  controlName: string;\r\n  controlValue: string;\r\n  controlDisabled = false;\r\n  boundControl = false;\r\n  options: any;\r\n  autoCompleteList: string[] = [];\r\n  @Input() layoutNode: any;\r\n  @Input() layoutIndex: number[];\r\n  @Input() dataIndex: number[];\r\n\r\n  constructor(\r\n    private jsf: JsonSchemaFormService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.options = this.layoutNode.options || {};\r\n    this.jsf.initializeControl(this);\r\n    if (!this.options.notitle && !this.options.description && this.options.placeholder) {\r\n      this.options.description = this.options.placeholder;\r\n    }\r\n  }\r\n\r\n  updateValue(event) {\r\n    this.jsf.updateValue(this, event.target.value);\r\n  }\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { AbstractControl } from '@angular/forms';\r\n\r\nimport { JsonSchemaFormService } from '../../json-schema-form.service';\r\n\r\n@Component({\r\n  selector: 'material-number-widget',\r\n  template: `\r\n    <mat-form-field\r\n      [class]=\"options?.htmlClass || ''\"\r\n      [floatLabel]=\"options?.floatPlaceholder || (options?.notitle ? 'never' : 'auto')\"\r\n      [style.width]=\"'100%'\">\r\n      <span matPrefix *ngIf=\"options?.prefix || options?.fieldAddonLeft\"\r\n        [innerHTML]=\"options?.prefix || options?.fieldAddonLeft\"></span>\r\n      <input matInput *ngIf=\"boundControl\"\r\n        [formControl]=\"formControl\"\r\n        [attr.aria-describedby]=\"'control' + layoutNode?._id + 'Status'\"\r\n        [attr.max]=\"options?.maximum\"\r\n        [attr.min]=\"options?.minimum\"\r\n        [attr.step]=\"options?.multipleOf || options?.step || 'any'\"\r\n        [id]=\"'control' + layoutNode?._id\"\r\n        [name]=\"controlName\"\r\n        [placeholder]=\"options?.notitle ? options?.placeholder : options?.title\"\r\n        [readonly]=\"options?.readonly ? 'readonly' : null\"\r\n        [required]=\"options?.required\"\r\n        [style.width]=\"'100%'\"\r\n        [type]=\"'number'\"\r\n        (blur)=\"options.showErrors = true\">\r\n      <input matInput *ngIf=\"!boundControl\"\r\n        [attr.aria-describedby]=\"'control' + layoutNode?._id + 'Status'\"\r\n        [attr.max]=\"options?.maximum\"\r\n        [attr.min]=\"options?.minimum\"\r\n        [attr.step]=\"options?.multipleOf || options?.step || 'any'\"\r\n        [disabled]=\"controlDisabled\"\r\n        [id]=\"'control' + layoutNode?._id\"\r\n        [name]=\"controlName\"\r\n        [placeholder]=\"options?.notitle ? options?.placeholder : options?.title\"\r\n        [readonly]=\"options?.readonly ? 'readonly' : null\"\r\n        [required]=\"options?.required\"\r\n        [style.width]=\"'100%'\"\r\n        [type]=\"'number'\"\r\n        [value]=\"controlValue\"\r\n        (input)=\"updateValue($event)\"\r\n        (blur)=\"options.showErrors = true\">\r\n      <span matSuffix *ngIf=\"options?.suffix || options?.fieldAddonRight\"\r\n        [innerHTML]=\"options?.suffix || options?.fieldAddonRight\"></span>\r\n      <mat-hint *ngIf=\"layoutNode?.type === 'range'\" align=\"start\"\r\n        [innerHTML]=\"controlValue\"></mat-hint>\r\n      <mat-hint *ngIf=\"options?.description && (!options?.showErrors || !options?.errorMessage)\"\r\n        align=\"end\" [innerHTML]=\"options?.description\"></mat-hint>\r\n    </mat-form-field>\r\n    <mat-error *ngIf=\"options?.showErrors && options?.errorMessage\"\r\n      [innerHTML]=\"options?.errorMessage\"></mat-error>`,\r\n  styles: [`\r\n    mat-error { font-size: 75%; margin-top: -1rem; margin-bottom: 0.5rem; }\r\n    ::ng-deep mat-form-field .mat-form-field-wrapper .mat-form-field-flex\r\n      .mat-form-field-infix { width: initial; }\r\n  `],\r\n})\r\nexport class MaterialNumberComponent implements OnInit {\r\n  formControl: AbstractControl;\r\n  controlName: string;\r\n  controlValue: any;\r\n  controlDisabled = false;\r\n  boundControl = false;\r\n  options: any;\r\n  allowNegative = true;\r\n  allowDecimal = true;\r\n  allowExponents = false;\r\n  lastValidNumber = '';\r\n  @Input() layoutNode: any;\r\n  @Input() layoutIndex: number[];\r\n  @Input() dataIndex: number[];\r\n\r\n  constructor(\r\n    private jsf: JsonSchemaFormService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.options = this.layoutNode.options || {};\r\n    this.jsf.initializeControl(this);\r\n    if (this.layoutNode.dataType === 'integer') { this.allowDecimal = false; }\r\n    if (!this.options.notitle && !this.options.description && this.options.placeholder) {\r\n      this.options.description = this.options.placeholder;\r\n    }\r\n  }\r\n\r\n  updateValue(event) {\r\n    this.jsf.updateValue(this, event.target.value);\r\n  }\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { AbstractControl } from '@angular/forms';\r\n\r\nimport { JsonSchemaFormService } from '../../json-schema-form.service';\r\n\r\n// TODO: Add this control\r\n\r\n@Component({\r\n  selector: 'material-one-of-widget',\r\n  template: ``,\r\n})\r\nexport class MaterialOneOfComponent implements OnInit {\r\n  formControl: AbstractControl;\r\n  controlName: string;\r\n  controlValue: any;\r\n  controlDisabled = false;\r\n  boundControl = false;\r\n  options: any;\r\n  @Input() layoutNode: any;\r\n  @Input() layoutIndex: number[];\r\n  @Input() dataIndex: number[];\r\n\r\n  constructor(\r\n    private jsf: JsonSchemaFormService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.options = this.layoutNode.options || {};\r\n    this.jsf.initializeControl(this);\r\n  }\r\n\r\n  updateValue(event) {\r\n    this.jsf.updateValue(this, event.target.value);\r\n  }\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { AbstractControl } from '@angular/forms';\r\n\r\nimport { JsonSchemaFormService } from '../../json-schema-form.service';\r\nimport { buildTitleMap } from '../../shared';\r\n\r\n@Component({\r\n  selector: 'material-radios-widget',\r\n  template: `\r\n    <div>\r\n      <div *ngIf=\"options?.title\">\r\n        <label\r\n          [attr.for]=\"'control' + layoutNode?._id\"\r\n          [class]=\"options?.labelHtmlClass || ''\"\r\n          [style.display]=\"options?.notitle ? 'none' : ''\"\r\n          [innerHTML]=\"options?.title\"></label>\r\n      </div>\r\n      <mat-radio-group *ngIf=\"boundControl\"\r\n        [formControl]=\"formControl\"\r\n        [attr.aria-describedby]=\"'control' + layoutNode?._id + 'Status'\"\r\n        [attr.readonly]=\"options?.readonly ? 'readonly' : null\"\r\n        [attr.required]=\"options?.required\"\r\n        [style.flex-direction]=\"flexDirection\"\r\n        [name]=\"controlName\"\r\n        (blur)=\"options.showErrors = true\">\r\n        <mat-radio-button *ngFor=\"let radioItem of radiosList\"\r\n          [id]=\"'control' + layoutNode?._id + '/' + radioItem?.name\"\r\n          [value]=\"radioItem?.value\">\r\n          <span [innerHTML]=\"radioItem?.name\"></span>\r\n        </mat-radio-button>\r\n      </mat-radio-group>\r\n      <mat-radio-group *ngIf=\"!boundControl\"\r\n        [attr.aria-describedby]=\"'control' + layoutNode?._id + 'Status'\"\r\n        [attr.readonly]=\"options?.readonly ? 'readonly' : null\"\r\n        [attr.required]=\"options?.required\"\r\n        [style.flex-direction]=\"flexDirection\"\r\n        [disabled]=\"controlDisabled || options?.readonly\"\r\n        [name]=\"controlName\"\r\n        [value]=\"controlValue\">\r\n        <mat-radio-button *ngFor=\"let radioItem of radiosList\"\r\n          [id]=\"'control' + layoutNode?._id + '/' + radioItem?.name\"\r\n          [value]=\"radioItem?.value\"\r\n          (click)=\"updateValue(radioItem?.value)\">\r\n          <span [innerHTML]=\"radioItem?.name\"></span>\r\n        </mat-radio-button>\r\n      </mat-radio-group>\r\n      <mat-error *ngIf=\"options?.showErrors && options?.errorMessage\"\r\n        [innerHTML]=\"options?.errorMessage\"></mat-error>\r\n    </div>`,\r\n  styles: [`\r\n    mat-radio-group { display: inline-flex; }\r\n    mat-radio-button { margin: 2px; }\r\n    mat-error { font-size: 75%; }\r\n  `]\r\n})\r\nexport class MaterialRadiosComponent implements OnInit {\r\n  formControl: AbstractControl;\r\n  controlName: string;\r\n  controlValue: any;\r\n  controlDisabled = false;\r\n  boundControl = false;\r\n  options: any;\r\n  flexDirection = 'column';\r\n  radiosList: any[] = [];\r\n  @Input() layoutNode: any;\r\n  @Input() layoutIndex: number[];\r\n  @Input() dataIndex: number[];\r\n\r\n  constructor(\r\n    private jsf: JsonSchemaFormService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.options = this.layoutNode.options || {};\r\n    if (this.layoutNode.type === 'radios-inline') {\r\n      this.flexDirection = 'row';\r\n    }\r\n    this.radiosList = buildTitleMap(\r\n      this.options.titleMap || this.options.enumNames,\r\n      this.options.enum, true\r\n    );\r\n    this.jsf.initializeControl(this, !this.options.readonly);\r\n  }\r\n\r\n  updateValue(value) {\r\n    this.options.showErrors = true;\r\n    this.jsf.updateValue(this, value);\r\n  }\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { AbstractControl } from '@angular/forms';\r\n\r\nimport { JsonSchemaFormService } from '../../json-schema-form.service';\r\nimport { buildTitleMap, isArray } from '../../shared';\r\n\r\n@Component({\r\n  selector: 'material-select-widget',\r\n  template: `\r\n    <mat-form-field\r\n      [class]=\"options?.htmlClass || ''\"\r\n      [floatLabel]=\"options?.floatPlaceholder || (options?.notitle ? 'never' : 'auto')\"\r\n      [style.width]=\"'100%'\">\r\n      <span matPrefix *ngIf=\"options?.prefix || options?.fieldAddonLeft\"\r\n        [innerHTML]=\"options?.prefix || options?.fieldAddonLeft\"></span>\r\n      <mat-select *ngIf=\"boundControl\"\r\n        [formControl]=\"formControl\"\r\n        [attr.aria-describedby]=\"'control' + layoutNode?._id + 'Status'\"\r\n        [attr.name]=\"controlName\"\r\n        [id]=\"'control' + layoutNode?._id\"\r\n        [multiple]=\"options?.multiple\"\r\n        [placeholder]=\"options?.notitle ? options?.placeholder : options?.title\"\r\n        [required]=\"options?.required\"\r\n        [style.width]=\"'100%'\"\r\n        (blur)=\"options.showErrors = true\">\r\n        <ng-template ngFor let-selectItem [ngForOf]=\"selectList\">\r\n          <mat-option *ngIf=\"!isArray(selectItem?.items)\"\r\n            [value]=\"selectItem?.value\">\r\n            <span [innerHTML]=\"selectItem?.name\"></span>\r\n          </mat-option>\r\n          <mat-optgroup *ngIf=\"isArray(selectItem?.items)\"\r\n            [label]=\"selectItem?.group\">\r\n            <mat-option *ngFor=\"let subItem of selectItem.items\"\r\n              [value]=\"subItem?.value\">\r\n              <span [innerHTML]=\"subItem?.name\"></span>\r\n            </mat-option>\r\n          </mat-optgroup>\r\n        </ng-template>\r\n      </mat-select>\r\n      <mat-select *ngIf=\"!boundControl\"\r\n        [attr.aria-describedby]=\"'control' + layoutNode?._id + 'Status'\"\r\n        [attr.name]=\"controlName\"\r\n        [disabled]=\"controlDisabled || options?.readonly\"\r\n        [id]=\"'control' + layoutNode?._id\"\r\n        [multiple]=\"options?.multiple\"\r\n        [placeholder]=\"options?.notitle ? options?.placeholder : options?.title\"\r\n        [required]=\"options?.required\"\r\n        [style.width]=\"'100%'\"\r\n        [value]=\"controlValue\"\r\n        (blur)=\"options.showErrors = true\"\r\n        (selectionChange)=\"updateValue($event)\">\r\n        <ng-template ngFor let-selectItem [ngForOf]=\"selectList\">\r\n          <mat-option *ngIf=\"!isArray(selectItem?.items)\"\r\n            [attr.selected]=\"selectItem?.value === controlValue\"\r\n            [value]=\"selectItem?.value\">\r\n            <span [innerHTML]=\"selectItem?.name\"></span>\r\n          </mat-option>\r\n          <mat-optgroup *ngIf=\"isArray(selectItem?.items)\"\r\n            [label]=\"selectItem?.group\">\r\n            <mat-option *ngFor=\"let subItem of selectItem.items\"\r\n              [attr.selected]=\"subItem?.value === controlValue\"\r\n              [value]=\"subItem?.value\">\r\n              <span [innerHTML]=\"subItem?.name\"></span>\r\n            </mat-option>\r\n          </mat-optgroup>\r\n        </ng-template>\r\n      </mat-select>\r\n      <span matSuffix *ngIf=\"options?.suffix || options?.fieldAddonRight\"\r\n        [innerHTML]=\"options?.suffix || options?.fieldAddonRight\"></span>\r\n      <mat-hint *ngIf=\"options?.description && (!options?.showErrors || !options?.errorMessage)\"\r\n        align=\"end\" [innerHTML]=\"options?.description\"></mat-hint>\r\n    </mat-form-field>\r\n    <mat-error *ngIf=\"options?.showErrors && options?.errorMessage\"\r\n      [innerHTML]=\"options?.errorMessage\"></mat-error>`,\r\n  styles: [`\r\n    mat-error { font-size: 75%; margin-top: -1rem; margin-bottom: 0.5rem; }\r\n    ::ng-deep mat-form-field .mat-form-field-wrapper .mat-form-field-flex\r\n      .mat-form-field-infix { width: initial; }\r\n  `],\r\n})\r\nexport class MaterialSelectComponent implements OnInit {\r\n  formControl: AbstractControl;\r\n  controlName: string;\r\n  controlValue: any;\r\n  controlDisabled = false;\r\n  boundControl = false;\r\n  options: any;\r\n  selectList: any[] = [];\r\n  isArray = isArray;\r\n  @Input() layoutNode: any;\r\n  @Input() layoutIndex: number[];\r\n  @Input() dataIndex: number[];\r\n\r\n  constructor(\r\n    private jsf: JsonSchemaFormService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.options = this.layoutNode.options || {};\r\n    this.selectList = buildTitleMap(\r\n      this.options.titleMap || this.options.enumNames,\r\n      this.options.enum, !!this.options.required, !!this.options.flatList\r\n    );\r\n    this.jsf.initializeControl(this, !this.options.readonly);\r\n    if (!this.options.notitle && !this.options.description && this.options.placeholder) {\r\n      this.options.description = this.options.placeholder;\r\n    }\r\n  }\r\n\r\n  updateValue(event) {\r\n    this.options.showErrors = true;\r\n    this.jsf.updateValue(this, event.value);\r\n  }\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { AbstractControl } from '@angular/forms';\r\n\r\nimport { JsonSchemaFormService } from '../../json-schema-form.service';\r\n\r\n@Component({\r\n  selector: 'material-slider-widget',\r\n  template: `\r\n    <mat-slider thumbLabel *ngIf=\"boundControl\"\r\n      [formControl]=\"formControl\"\r\n      [attr.aria-describedby]=\"'control' + layoutNode?._id + 'Status'\"\r\n      [id]=\"'control' + layoutNode?._id\"\r\n      [max]=\"options?.maximum\"\r\n      [min]=\"options?.minimum\"\r\n      [step]=\"options?.multipleOf || options?.step || 'any'\"\r\n      [style.width]=\"'100%'\"\r\n      (blur)=\"options.showErrors = true\"></mat-slider>\r\n    <mat-slider thumbLabel *ngIf=\"!boundControl\"\r\n      [attr.aria-describedby]=\"'control' + layoutNode?._id + 'Status'\"\r\n      [disabled]=\"controlDisabled || options?.readonly\"\r\n      [id]=\"'control' + layoutNode?._id\"\r\n      [max]=\"options?.maximum\"\r\n      [min]=\"options?.minimum\"\r\n      [step]=\"options?.multipleOf || options?.step || 'any'\"\r\n      [style.width]=\"'100%'\"\r\n      [value]=\"controlValue\"\r\n      (blur)=\"options.showErrors = true\"\r\n      (change)=\"updateValue($event)\"></mat-slider>\r\n    <mat-error *ngIf=\"options?.showErrors && options?.errorMessage\"\r\n      [innerHTML]=\"options?.errorMessage\"></mat-error>`,\r\n    styles: [` mat-error { font-size: 75%; } `],\r\n})\r\nexport class MaterialSliderComponent implements OnInit {\r\n  formControl: AbstractControl;\r\n  controlName: string;\r\n  controlValue: any;\r\n  controlDisabled = false;\r\n  boundControl = false;\r\n  options: any;\r\n  allowNegative = true;\r\n  allowDecimal = true;\r\n  allowExponents = false;\r\n  lastValidNumber = '';\r\n  @Input() layoutNode: any;\r\n  @Input() layoutIndex: number[];\r\n  @Input() dataIndex: number[];\r\n\r\n  constructor(\r\n    private jsf: JsonSchemaFormService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.options = this.layoutNode.options || {};\r\n    this.jsf.initializeControl(this, !this.options.readonly);\r\n  }\r\n\r\n  updateValue(event) {\r\n    this.options.showErrors = true;\r\n    this.jsf.updateValue(this, event.value);\r\n  }\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { AbstractControl } from '@angular/forms';\r\n\r\nimport { JsonSchemaFormService } from '../../json-schema-form.service';\r\n\r\n// TODO: Add this control\r\n\r\n@Component({\r\n  selector: 'material-stepper-widget',\r\n  template: ``,\r\n})\r\nexport class MaterialStepperComponent implements OnInit {\r\n  formControl: AbstractControl;\r\n  controlName: string;\r\n  controlValue: any;\r\n  controlDisabled = false;\r\n  boundControl = false;\r\n  options: any;\r\n  @Input() layoutNode: any;\r\n  @Input() layoutIndex: number[];\r\n  @Input() dataIndex: number[];\r\n\r\n  constructor(\r\n    private jsf: JsonSchemaFormService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.options = this.layoutNode.options || {};\r\n    this.jsf.initializeControl(this);\r\n  }\r\n\r\n  updateValue(event) {\r\n    this.jsf.updateValue(this, event.target.value);\r\n  }\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\n\r\nimport { JsonSchemaFormService } from '../../json-schema-form.service';\r\n\r\n@Component({\r\n  selector: 'material-tabs-widget',\r\n  template: `\r\n    <nav mat-tab-nav-bar\r\n      [attr.aria-label]=\"options?.label || options?.title || ''\"\r\n      [style.width]=\"'100%'\">\r\n        <a mat-tab-link *ngFor=\"let item of layoutNode?.items; let i = index\"\r\n          [active]=\"selectedItem === i\"\r\n          (click)=\"select(i)\">\r\n          <span *ngIf=\"showAddTab || item.type !== '$ref'\"\r\n            [innerHTML]=\"setTabTitle(item, i)\"></span>\r\n        </a>\r\n    </nav>\r\n    <div *ngFor=\"let layoutItem of layoutNode?.items; let i = index\"\r\n      [class]=\"options?.htmlClass || ''\">\r\n      <select-framework-widget *ngIf=\"selectedItem === i\"\r\n        [class]=\"(options?.fieldHtmlClass || '') + ' ' + (options?.activeClass || '') + ' ' + (options?.style?.selected || '')\"\r\n        [dataIndex]=\"layoutNode?.dataType === 'array' ? (dataIndex || []).concat(i) : dataIndex\"\r\n        [layoutIndex]=\"(layoutIndex || []).concat(i)\"\r\n        [layoutNode]=\"layoutItem\"></select-framework-widget>\r\n    </div>`,\r\n  styles: [` a { cursor: pointer; } `],\r\n})\r\nexport class MaterialTabsComponent implements OnInit {\r\n  options: any;\r\n  itemCount: number;\r\n  selectedItem = 0;\r\n  showAddTab = true;\r\n  @Input() layoutNode: any;\r\n  @Input() layoutIndex: number[];\r\n  @Input() dataIndex: number[];\r\n\r\n  constructor(\r\n    private jsf: JsonSchemaFormService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.options = this.layoutNode.options || {};\r\n    this.itemCount = this.layoutNode.items.length - 1;\r\n    this.updateControl();\r\n  }\r\n\r\n  select(index) {\r\n    if (this.layoutNode.items[index].type === '$ref') {\r\n      this.jsf.addItem({\r\n        layoutNode: this.layoutNode.items[index],\r\n        layoutIndex: this.layoutIndex.concat(index),\r\n        dataIndex: this.dataIndex.concat(index)\r\n      });\r\n      this.updateControl();\r\n    }\r\n    this.selectedItem = index;\r\n  }\r\n\r\n  updateControl() {\r\n    this.itemCount = this.layoutNode.items.length - 1;\r\n    const lastItem = this.layoutNode.items[this.layoutNode.items.length - 1];\r\n    this.showAddTab = lastItem.type === '$ref' &&\r\n      this.itemCount < (lastItem.options.maxItems || 1000);\r\n  }\r\n\r\n  setTabTitle(item: any, index: number): string {\r\n    return this.jsf.setArrayItemTitle(this, item, index);\r\n  }\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { AbstractControl } from '@angular/forms';\r\n\r\nimport { JsonSchemaFormService } from '../../json-schema-form.service';\r\n\r\n@Component({\r\n  selector: 'material-textarea-widget',\r\n  template: `\r\n    <mat-form-field\r\n      [class]=\"options?.htmlClass || ''\"\r\n      [floatLabel]=\"options?.floatPlaceholder || (options?.notitle ? 'never' : 'auto')\"\r\n      [style.width]=\"'100%'\">\r\n      <span matPrefix *ngIf=\"options?.prefix || options?.fieldAddonLeft\"\r\n        [innerHTML]=\"options?.prefix || options?.fieldAddonLeft\"></span>\r\n      <textarea matInput *ngIf=\"boundControl\"\r\n        [formControl]=\"formControl\"\r\n        [attr.aria-describedby]=\"'control' + layoutNode?._id + 'Status'\"\r\n        [attr.list]=\"'control' + layoutNode?._id + 'Autocomplete'\"\r\n        [attr.maxlength]=\"options?.maxLength\"\r\n        [attr.minlength]=\"options?.minLength\"\r\n        [attr.pattern]=\"options?.pattern\"\r\n        [required]=\"options?.required\"\r\n        [id]=\"'control' + layoutNode?._id\"\r\n        [name]=\"controlName\"\r\n        [placeholder]=\"options?.notitle ? options?.placeholder : options?.title\"\r\n        [readonly]=\"options?.readonly ? 'readonly' : null\"\r\n        [style.width]=\"'100%'\"\r\n        (blur)=\"options.showErrors = true\"></textarea>\r\n      <textarea matInput *ngIf=\"!boundControl\"\r\n        [attr.aria-describedby]=\"'control' + layoutNode?._id + 'Status'\"\r\n        [attr.list]=\"'control' + layoutNode?._id + 'Autocomplete'\"\r\n        [attr.maxlength]=\"options?.maxLength\"\r\n        [attr.minlength]=\"options?.minLength\"\r\n        [attr.pattern]=\"options?.pattern\"\r\n        [required]=\"options?.required\"\r\n        [disabled]=\"controlDisabled\"\r\n        [id]=\"'control' + layoutNode?._id\"\r\n        [name]=\"controlName\"\r\n        [placeholder]=\"options?.notitle ? options?.placeholder : options?.title\"\r\n        [readonly]=\"options?.readonly ? 'readonly' : null\"\r\n        [style.width]=\"'100%'\"\r\n        [value]=\"controlValue\"\r\n        (input)=\"updateValue($event)\"\r\n        (blur)=\"options.showErrors = true\"></textarea>\r\n      <span matSuffix *ngIf=\"options?.suffix || options?.fieldAddonRight\"\r\n        [innerHTML]=\"options?.suffix || options?.fieldAddonRight\"></span>\r\n      <mat-hint *ngIf=\"options?.description && (!options?.showErrors || !options?.errorMessage)\"\r\n        align=\"end\" [innerHTML]=\"options?.description\"></mat-hint>\r\n    </mat-form-field>\r\n    <mat-error *ngIf=\"options?.showErrors && options?.errorMessage\"\r\n      [innerHTML]=\"options?.errorMessage\"></mat-error>`,\r\n  styles: [`\r\n    mat-error { font-size: 75%; margin-top: -1rem; margin-bottom: 0.5rem; }\r\n    ::ng-deep mat-form-field .mat-form-field-wrapper .mat-form-field-flex\r\n      .mat-form-field-infix { width: initial; }\r\n  `],\r\n})\r\nexport class MaterialTextareaComponent implements OnInit {\r\n  formControl: AbstractControl;\r\n  controlName: string;\r\n  controlValue: any;\r\n  controlDisabled = false;\r\n  boundControl = false;\r\n  options: any;\r\n  @Input() layoutNode: any;\r\n  @Input() layoutIndex: number[];\r\n  @Input() dataIndex: number[];\r\n\r\n  constructor(\r\n    private jsf: JsonSchemaFormService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.options = this.layoutNode.options || {};\r\n    this.jsf.initializeControl(this);\r\n    if (!this.options.notitle && !this.options.description && this.options.placeholder) {\r\n      this.options.description = this.options.placeholder;\r\n    }\r\n  }\r\n\r\n  updateValue(event) {\r\n    this.jsf.updateValue(this, event.target.value);\r\n  }\r\n}\r\n","import { Component, Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'no-framework',\r\n  template: `\r\n    <select-widget-widget\r\n      [dataIndex]=\"dataIndex\"\r\n      [layoutIndex]=\"layoutIndex\"\r\n      [layoutNode]=\"layoutNode\"></select-widget-widget>`,\r\n})\r\nexport class NoFrameworkComponent {\r\n  @Input() layoutNode: any;\r\n  @Input() layoutIndex: number[];\r\n  @Input() dataIndex: number[];\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { JsonSchemaFormService } from '../../json-schema-form.service';\r\nimport { WidgetLibraryModule } from '../../widget-library/widget-library.module';\r\nimport { Framework } from '../framework';\r\n// No framework - plain HTML controls (styles from form layout only)\r\nimport { NoFrameworkComponent } from './no-framework.component';\r\nimport { NoFramework } from './no.framework';\r\n\r\n@NgModule({\r\n  imports:         [ CommonModule, WidgetLibraryModule ],\r\n  declarations:    [ NoFrameworkComponent ],\r\n  exports:         [ NoFrameworkComponent ],\r\n  entryComponents: [ NoFrameworkComponent ]\r\n})\r\nexport class NoFrameworkModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: NoFrameworkModule,\r\n      providers: [\r\n        { provide: Framework, useClass: NoFramework, multi: true }\r\n      ]\r\n    };\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\nimport { Framework } from '../framework';\r\n\r\n// No framework - plain HTML controls (styles from form layout only)\r\nimport { NoFrameworkComponent } from './no-framework.component';\r\n\r\n@Injectable()\r\nexport class NoFramework extends Framework {\r\n  name = 'no-framework';\r\n\r\n  framework = NoFrameworkComponent;\r\n}\r\n","import {\r\n  ChangeDetectionStrategy, ChangeDetectorRef, Component, EventEmitter,\r\n  forwardRef, Input, Output, OnChanges, OnInit, SimpleChanges\r\n} from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { DomSanitizer, SafeResourceUrl } from '@angular/platform-browser';\r\n\r\nimport { cloneDeep, isEqual } from 'lodash';\r\n\r\nimport { FrameworkLibraryService } from './framework-library/framework-library.service';\r\nimport { WidgetLibraryService } from './widget-library/widget-library.service';\r\nimport { JsonSchemaFormService } from './json-schema-form.service';\r\nimport { convertSchemaToDraft6 } from './shared/convert-schema-to-draft6.function';\r\nimport { resolveSchemaReferences } from './shared/json-schema.functions';\r\nimport {\r\n  hasValue, inArray, isArray, isEmpty, isNumber, isObject\r\n} from './shared/validator.functions';\r\nimport { forEach, hasOwn } from './shared/utility.functions';\r\nimport { JsonPointer } from './shared/jsonpointer.functions';\r\n\r\nexport const JSON_SCHEMA_FORM_VALUE_ACCESSOR: any = {\r\n  provide: NG_VALUE_ACCESSOR,\r\n  // tslint:disable-next-line no-use-before-declare\r\n  useExisting: forwardRef(() => JsonSchemaFormComponent),\r\n  multi: true,\r\n};\r\n\r\n/**\r\n * @module 'JsonSchemaFormComponent' - Angular JSON Schema Form\r\n *\r\n * Root module of the Angular JSON Schema Form client-side library,\r\n * an Angular library which generates an HTML form from a JSON schema\r\n * structured data model and/or a JSON Schema Form layout description.\r\n *\r\n * This library also validates input data by the user, using both validators on\r\n * individual controls to provide real-time feedback while the user is filling\r\n * out the form, and then validating the entire input against the schema when\r\n * the form is submitted to make sure the returned JSON data object is valid.\r\n *\r\n * This library is similar to, and mostly API compatible with:\r\n *\r\n * - JSON Schema Form's Angular Schema Form library for AngularJs\r\n *   http://schemaform.io\r\n *   http://schemaform.io/examples/bootstrap-example.html (examples)\r\n *\r\n * - Mozilla's react-jsonschema-form library for React\r\n *   https://github.com/mozilla-services/react-jsonschema-form\r\n *   https://mozilla-services.github.io/react-jsonschema-form (examples)\r\n *\r\n * - Joshfire's JSON Form library for jQuery\r\n *   https://github.com/joshfire/jsonform\r\n *   http://ulion.github.io/jsonform/playground (examples)\r\n *\r\n * This library depends on:\r\n *  - Angular (obviously)                  https://angular.io\r\n *  - lodash, JavaScript utility library   https://github.com/lodash/lodash\r\n *  - ajv, Another JSON Schema validator   https://github.com/epoberezkin/ajv\r\n *\r\n * In addition, the Example Playground also depends on:\r\n *  - brace, Browserified Ace editor       http://thlorenz.github.io/brace\r\n */\r\n@Component({\r\n  selector: 'json-schema-form',\r\n  template: `\r\n    <div *ngFor=\"let stylesheet of stylesheets\">\r\n      <link rel=\"stylesheet\" [href]=\"stylesheet\">\r\n    </div>\r\n    <div *ngFor=\"let script of scripts\">\r\n      <script type=\"text/javascript\" [src]=\"script\"></script>\r\n    </div>\r\n    <form class=\"json-schema-form\" (ngSubmit)=\"submitForm()\">\r\n      <root-widget [layout]=\"jsf?.layout\"></root-widget>\r\n    </form>\r\n    <div *ngIf=\"debug || jsf?.formOptions?.debug\">\r\n      Debug output: <pre>{{debugOutput}}</pre>\r\n    </div>`,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  // Adding 'JsonSchemaFormService' here, instead of in the module,\r\n  // creates a separate instance of the service for each component\r\n  providers:  [ JsonSchemaFormService, JSON_SCHEMA_FORM_VALUE_ACCESSOR ],\r\n})\r\nexport class JsonSchemaFormComponent implements ControlValueAccessor, OnChanges, OnInit {\r\n  debugOutput: any; // Debug information, if requested\r\n  formValueSubscription: any = null;\r\n  formInitialized = false;\r\n  objectWrap = false; // Is non-object input schema wrapped in an object?\r\n\r\n  formValuesInput: string; // Name of the input providing the form data\r\n  previousInputs: { // Previous input values, to detect which input triggers onChanges\r\n    schema: any, layout: any[], data: any, options: any, framework: any|string,\r\n    widgets: any, form: any, model: any, JSONSchema: any, UISchema: any,\r\n    formData: any, loadExternalAssets: boolean, debug: boolean,\r\n  } = {\r\n    schema: null, layout: null, data: null, options: null, framework: null,\r\n    widgets: null, form: null, model: null, JSONSchema: null, UISchema: null,\r\n    formData: null, loadExternalAssets: null, debug: null,\r\n  };\r\n\r\n  // Recommended inputs\r\n  @Input() schema: any; // The JSON Schema\r\n  @Input() layout: any[]; // The form layout\r\n  @Input() data: any; // The form data\r\n  @Input() options: any; // The global form options\r\n  @Input() framework: any|string; // The framework to load\r\n  @Input() widgets: any; // Any custom widgets to load\r\n\r\n  // Alternate combined single input\r\n  @Input() form: any; // For testing, and JSON Schema Form API compatibility\r\n\r\n  // Angular Schema Form API compatibility input\r\n  @Input() model: any; // Alternate input for form data\r\n\r\n  // React JSON Schema Form API compatibility inputs\r\n  @Input() JSONSchema: any; // Alternate input for JSON Schema\r\n  @Input() UISchema: any; // UI schema - alternate form layout format\r\n  @Input() formData: any; // Alternate input for form data\r\n\r\n  @Input() ngModel: any; // Alternate input for Angular forms\r\n\r\n  @Input() language: string; // Language\r\n\r\n  // Development inputs, for testing and debugging\r\n  @Input() loadExternalAssets: boolean; // Load external framework assets?\r\n  @Input() debug: boolean; // Show debug information?\r\n\r\n  @Input()\r\n  get value(): any {\r\n    return this.objectWrap ? this.jsf.data['1'] : this.jsf.data;\r\n  }\r\n  set value(value: any) {\r\n    this.setFormValues(value, false);\r\n  }\r\n\r\n  // Outputs\r\n  // tslint:disable no-output-on-prefix\r\n  @Output() onChanges = new EventEmitter<any>(); // Live unvalidated internal form data\r\n  @Output() onSubmit = new EventEmitter<any>(); // Complete validated form data\r\n  // tslint:enable no-output-on-prefix\r\n  @Output() isValid = new EventEmitter<boolean>(); // Is current data valid?\r\n  @Output() validationErrors = new EventEmitter<any>(); // Validation errors (if any)\r\n  @Output() formSchema = new EventEmitter<any>(); // Final schema used to create form\r\n  @Output() formLayout = new EventEmitter<any>(); // Final layout used to create form\r\n\r\n  // Outputs for possible 2-way data binding\r\n  // Only the one input providing the initial form data will be bound.\r\n  // If there is no inital data, input '{}' to activate 2-way data binding.\r\n  // There is no 2-way binding if inital data is combined inside the 'form' input.\r\n  @Output() dataChange = new EventEmitter<any>();\r\n  @Output() modelChange = new EventEmitter<any>();\r\n  @Output() formDataChange = new EventEmitter<any>();\r\n  @Output() ngModelChange = new EventEmitter<any>();\r\n\r\n  onChange: Function;\r\n  onTouched: Function;\r\n\r\n  constructor(\r\n    private changeDetector: ChangeDetectorRef,\r\n    private frameworkLibrary: FrameworkLibraryService,\r\n    private widgetLibrary: WidgetLibraryService,\r\n    public jsf: JsonSchemaFormService,\r\n    private sanitizer: DomSanitizer\r\n  ) { }\r\n\r\n  get stylesheets(): SafeResourceUrl[] {\r\n    const stylesheets = this.frameworkLibrary.getFrameworkStylesheets();\r\n    const load = this.sanitizer.bypassSecurityTrustResourceUrl;\r\n    return stylesheets.map(stylesheet => load(stylesheet));\r\n  }\r\n\r\n  get scripts(): SafeResourceUrl[] {\r\n    const scripts = this.frameworkLibrary.getFrameworkScripts();\r\n    const load = this.sanitizer.bypassSecurityTrustResourceUrl;\r\n    return scripts.map(script => load(script));\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.updateForm();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    let update = false;\r\n\r\n    Object.keys(changes).forEach(function(key) {\r\n        let change = changes[key];\r\n\r\n        if (!isEqual(change.currentValue, change.previousValue)) {\r\n            update = true;\r\n        } else {\r\n        }\r\n    });\r\n\r\n    if (update) {\r\n      this.updateForm();\r\n    }\r\n  }\r\n\r\n  writeValue(value: any) {\r\n    this.setFormValues(value, false);\r\n    if (!this.formValuesInput) { this.formValuesInput = 'ngModel'; }\r\n  }\r\n\r\n  registerOnChange(fn: Function) {\r\n    this.onChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: Function) {\r\n    this.onTouched = fn;\r\n  }\r\n\r\n  setDisabledState(isDisabled: boolean) {\r\n    if (this.jsf.formOptions.formDisabled !== !!isDisabled) {\r\n      this.jsf.formOptions.formDisabled = !!isDisabled;\r\n      this.initializeForm();\r\n    }\r\n  }\r\n\r\n  updateForm() {\r\n    if (!this.formInitialized || !this.formValuesInput ||\r\n      (this.language && this.language !== this.jsf.language)\r\n    ) {\r\n      this.initializeForm();\r\n    } else {\r\n      if (this.language && this.language !== this.jsf.language) {\r\n        this.jsf.setLanguage(this.language);\r\n      }\r\n\r\n      // Get names of changed inputs\r\n      let changedInput = Object.keys(this.previousInputs)\r\n        .filter(input => this.previousInputs[input] !== this[input]);\r\n      let resetFirst = false;\r\n\r\n      if (isEmpty(this.jsf.formValues))  {\r\n          resetFirst = true;\r\n      }\r\n      if (changedInput.length === 1 && changedInput[0] === 'form' &&\r\n        this.formValuesInput.startsWith('form.')\r\n      ) {\r\n        // If only 'form' input changed, get names of changed keys\r\n        changedInput = Object.keys(this.previousInputs.form || {})\r\n          .filter(key => !isEqual(this.previousInputs.form[key], this.form[key]))\r\n          .map(key => `form.${key}`);\r\n        resetFirst = false;\r\n      }\r\n\r\n      // If only input values have changed, update the form values\r\n      if (changedInput.length === 1 && changedInput[0] === this.formValuesInput) {\r\n        if (this.formValuesInput.indexOf('.') === -1) {\r\n          this.setFormValues(this[this.formValuesInput], resetFirst);\r\n        } else {\r\n          const [input, key] = this.formValuesInput.split('.');\r\n          this.setFormValues(this[input][key], resetFirst);\r\n        }\r\n\r\n      // If anything else has changed, re-render the entire form\r\n      } else if (changedInput.length) {\r\n        this.initializeForm();\r\n        if (this.onChange) { this.onChange(this.jsf.formValues); }\r\n        if (this.onTouched) { this.onTouched(this.jsf.formValues); }\r\n      }\r\n\r\n      // Update previous inputs\r\n      Object.keys(this.previousInputs)\r\n        .filter(input => this.previousInputs[input] !== this[input])\r\n        .forEach(input => this.previousInputs[input] = this[input]);\r\n    }\r\n  }\r\n\r\n  setFormValues(formValues: any, resetFirst = false) {\r\n    if (formValues) {\r\n      const newFormValues = this.objectWrap ? formValues['1'] : formValues;\r\n      if (!this.jsf.formGroup) {\r\n        this.jsf.formValues = formValues;\r\n        this.activateForm();\r\n      } else if (resetFirst) {\r\n        this.jsf.formGroup.reset();\r\n      }\r\n      if (this.jsf.formGroup) {\r\n        this.jsf.formGroup.patchValue(newFormValues);\r\n      }\r\n      if (this.onChange) { this.onChange(newFormValues); }\r\n      if (this.onTouched) { this.onTouched(newFormValues); }\r\n    } else {\r\n      this.jsf.formGroup.reset();\r\n    }\r\n  }\r\n\r\n  submitForm() {\r\n    const validData = this.jsf.validData;\r\n    this.onSubmit.emit(this.objectWrap ? validData['1'] : validData);\r\n  }\r\n\r\n  /**\r\n   * 'initializeForm' function\r\n   *\r\n   * - Update 'schema', 'layout', and 'formValues', from inputs.\r\n   *\r\n   * - Create 'schemaRefLibrary' and 'schemaRecursiveRefMap'\r\n   *   to resolve schema $ref links, including recursive $ref links.\r\n   *\r\n   * - Create 'dataRecursiveRefMap' to resolve recursive links in data\r\n   *   and corectly set output formats for recursively nested values.\r\n   *\r\n   * - Create 'layoutRefLibrary' and 'templateRefLibrary' to store\r\n   *   new layout nodes and formGroup elements to use when dynamically\r\n   *   adding form components to arrays and recursive $ref points.\r\n   *\r\n   * - Create 'dataMap' to map the data to the schema and template.\r\n   *\r\n   * - Create the master 'formGroupTemplate' then from it 'formGroup'\r\n   *   the Angular formGroup used to control the reactive form.\r\n   */\r\n  initializeForm() {\r\n    if (\r\n      this.schema || this.layout || this.data || this.form || this.model ||\r\n      this.JSONSchema || this.UISchema || this.formData || this.ngModel ||\r\n      this.jsf.data\r\n    ) {\r\n\r\n      this.jsf.resetAllValues();  // Reset all form values to defaults\r\n      this.initializeOptions();   // Update options\r\n      this.initializeSchema();    // Update schema, schemaRefLibrary,\r\n                                  // schemaRecursiveRefMap, & dataRecursiveRefMap\r\n      this.initializeLayout();    // Update layout, layoutRefLibrary,\r\n      this.initializeData();      // Update formValues\r\n      this.activateForm();        // Update dataMap, templateRefLibrary,\r\n                                  // formGroupTemplate, formGroup\r\n\r\n      // Uncomment individual lines to output debugging information to console:\r\n      // (These always work.)\r\n      // console.log('loading form...');\r\n      // console.log('schema', this.jsf.schema);\r\n      // console.log('layout', this.jsf.layout);\r\n      // console.log('options', this.options);\r\n      // console.log('formValues', this.jsf.formValues);\r\n      // console.log('formGroupTemplate', this.jsf.formGroupTemplate);\r\n      // console.log('formGroup', this.jsf.formGroup);\r\n      // console.log('formGroup.value', this.jsf.formGroup.value);\r\n      // console.log('schemaRefLibrary', this.jsf.schemaRefLibrary);\r\n      // console.log('layoutRefLibrary', this.jsf.layoutRefLibrary);\r\n      // console.log('templateRefLibrary', this.jsf.templateRefLibrary);\r\n      // console.log('dataMap', this.jsf.dataMap);\r\n      // console.log('arrayMap', this.jsf.arrayMap);\r\n      // console.log('schemaRecursiveRefMap', this.jsf.schemaRecursiveRefMap);\r\n      // console.log('dataRecursiveRefMap', this.jsf.dataRecursiveRefMap);\r\n\r\n      // Uncomment individual lines to output debugging information to browser:\r\n      // (These only work if the 'debug' option has also been set to 'true'.)\r\n      if (this.debug || this.jsf.formOptions.debug) {\r\n        const vars: any[] = [];\r\n        // vars.push(this.jsf.schema);\r\n        // vars.push(this.jsf.layout);\r\n        // vars.push(this.options);\r\n        // vars.push(this.jsf.formValues);\r\n        // vars.push(this.jsf.formGroup.value);\r\n        // vars.push(this.jsf.formGroupTemplate);\r\n        // vars.push(this.jsf.formGroup);\r\n        // vars.push(this.jsf.schemaRefLibrary);\r\n        // vars.push(this.jsf.layoutRefLibrary);\r\n        // vars.push(this.jsf.templateRefLibrary);\r\n        // vars.push(this.jsf.dataMap);\r\n        // vars.push(this.jsf.arrayMap);\r\n        // vars.push(this.jsf.schemaRecursiveRefMap);\r\n        // vars.push(this.jsf.dataRecursiveRefMap);\r\n        this.debugOutput = vars.map(v => JSON.stringify(v, null, 2)).join('\\n');\r\n      }\r\n      this.formInitialized = true;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 'initializeOptions' function\r\n   *\r\n   * Initialize 'options' (global form options) and set framework\r\n   * Combine available inputs:\r\n   * 1. options - recommended\r\n   * 2. form.options - Single input style\r\n   */\r\n  private initializeOptions() {\r\n    if (this.language && this.language !== this.jsf.language) {\r\n      this.jsf.setLanguage(this.language);\r\n    }\r\n    this.jsf.setOptions({ debug: !!this.debug });\r\n    let loadExternalAssets: boolean = this.loadExternalAssets || false;\r\n    let framework: any = this.framework || 'default';\r\n    if (isObject(this.options)) {\r\n      this.jsf.setOptions(this.options);\r\n      loadExternalAssets = this.options.loadExternalAssets || loadExternalAssets;\r\n      framework = this.options.framework || framework;\r\n    }\r\n    if (isObject(this.form) && isObject(this.form.options)) {\r\n      this.jsf.setOptions(this.form.options);\r\n      loadExternalAssets = this.form.options.loadExternalAssets || loadExternalAssets;\r\n      framework = this.form.options.framework || framework;\r\n    }\r\n    if (isObject(this.widgets)) {\r\n      this.jsf.setOptions({ widgets: this.widgets });\r\n    }\r\n    this.frameworkLibrary.setLoadExternalAssets(loadExternalAssets);\r\n    this.frameworkLibrary.setFramework(framework);\r\n    this.jsf.framework = this.frameworkLibrary.getFramework();\r\n    if (isObject(this.jsf.formOptions.widgets)) {\r\n      for (const widget of Object.keys(this.jsf.formOptions.widgets)) {\r\n        this.widgetLibrary.registerWidget(widget, this.jsf.formOptions.widgets[widget]);\r\n      }\r\n    }\r\n    if (isObject(this.form) && isObject(this.form.tpldata)) {\r\n      this.jsf.setTpldata(this.form.tpldata);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 'initializeSchema' function\r\n   *\r\n   * Initialize 'schema'\r\n   * Use first available input:\r\n   * 1. schema - recommended / Angular Schema Form style\r\n   * 2. form.schema - Single input / JSON Form style\r\n   * 3. JSONSchema - React JSON Schema Form style\r\n   * 4. form.JSONSchema - For testing single input React JSON Schema Forms\r\n   * 5. form - For testing single schema-only inputs\r\n   *\r\n   * ... if no schema input found, the 'activateForm' function, below,\r\n   *     will make two additional attempts to build a schema\r\n   * 6. If layout input - build schema from layout\r\n   * 7. If data input - build schema from data\r\n   */\r\n  private initializeSchema() {\r\n\r\n    console.log('JsonSchemaFormComponent.initializeSchema()', 'this.ngModel',\r\n        this.ngModel, 'this.jsf.formValues', this.jsf.formValues,\r\n        'this.jsf.schema', this.jsf.schema, 'this.data', this.data,\r\n        'this.schema', this.schema, 'this.form', this.form);\r\n    // TODO: update to allow non-object schemas\r\n\r\n    if (isObject(this.schema)) {\r\n      this.jsf.AngularSchemaFormCompatibility = true;\r\n      this.jsf.schema = cloneDeep(this.schema);\r\n    } else if (hasOwn(this.form, 'schema') && isObject(this.form.schema)) {\r\n      this.jsf.schema = cloneDeep(this.form.schema);\r\n    } else if (isObject(this.JSONSchema)) {\r\n      this.jsf.ReactJsonSchemaFormCompatibility = true;\r\n      this.jsf.schema = cloneDeep(this.JSONSchema);\r\n    } else if (hasOwn(this.form, 'JSONSchema') && isObject(this.form.JSONSchema)) {\r\n      this.jsf.ReactJsonSchemaFormCompatibility = true;\r\n      this.jsf.schema = cloneDeep(this.form.JSONSchema);\r\n    } else if (hasOwn(this.form, 'properties') && isObject(this.form.properties)) {\r\n      this.jsf.schema = cloneDeep(this.form);\r\n    } else if (isObject(this.form)) {\r\n      // TODO: Handle other types of form input\r\n    } else if (hasValue(this.ngModel)) {\r\n        console.log(' hasValue(ngModel)');\r\n        let schema = {};\r\n        if (typeof this.ngModel === 'object') {\r\n            schema['type'] = 'object';\r\n        } else if (isArray(this.ngModel)) {\r\n            schema['type'] = 'array';\r\n        }\r\n\r\n        schema['properties'] = {};\r\n        Object.keys(this.ngModel).forEach((key) => {\r\n            // console.log(\"   key:\", key);\r\n            schema['properties'][key] = {};\r\n            // console.log(\"   schema.properties[key]\", schema.properties[key]);\r\n            // console.log(\"   typeof this.ngModel[key]:\", typeof _ngModel[key])\r\n            schema['properties'][key].type = (typeof this.ngModel[key]);\r\n        });\r\n        this.jsf.schema = schema;\r\n    }\r\n\r\n    if (!isEmpty(this.jsf.schema)) {\r\n\r\n      // If other types also allowed, render schema as an object\r\n      if (inArray('object', this.jsf.schema.type)) {\r\n        this.jsf.schema.type = 'object';\r\n      }\r\n\r\n      // Wrap non-object schemas in object.\r\n      if (hasOwn(this.jsf.schema, 'type') && this.jsf.schema.type !== 'object') {\r\n        this.jsf.schema = {\r\n          'type': 'object',\r\n          'properties': { 1: this.jsf.schema }\r\n        };\r\n        this.objectWrap = true;\r\n      } else if (!hasOwn(this.jsf.schema, 'type')) {\r\n\r\n        // Add type = 'object' if missing\r\n        if (isObject(this.jsf.schema.properties) ||\r\n          isObject(this.jsf.schema.patternProperties) ||\r\n          isObject(this.jsf.schema.additionalProperties)\r\n        ) {\r\n          this.jsf.schema.type = 'object';\r\n\r\n        // Fix JSON schema shorthand (JSON Form style)\r\n        } else {\r\n          this.jsf.JsonFormCompatibility = true;\r\n          this.jsf.schema = {\r\n            'type': 'object',\r\n            'properties': this.jsf.schema\r\n          };\r\n        }\r\n      }\r\n\r\n      // If needed, update JSON Schema to draft 6 format, including\r\n      // draft 3 (JSON Form style) and draft 4 (Angular Schema Form style)\r\n      this.jsf.schema = convertSchemaToDraft6(this.jsf.schema);\r\n\r\n      // Initialize ajv and compile schema\r\n      this.jsf.compileAjvSchema();\r\n\r\n      // Create schemaRefLibrary, schemaRecursiveRefMap, dataRecursiveRefMap, & arrayMap\r\n      this.jsf.schema = resolveSchemaReferences(\r\n        this.jsf.schema, this.jsf.schemaRefLibrary, this.jsf.schemaRecursiveRefMap,\r\n        this.jsf.dataRecursiveRefMap, this.jsf.arrayMap\r\n      );\r\n      if (hasOwn(this.jsf.schemaRefLibrary, '')) {\r\n        this.jsf.hasRootReference = true;\r\n      }\r\n\r\n      // TODO: (?) Resolve external $ref links\r\n      // // Create schemaRefLibrary & schemaRecursiveRefMap\r\n      // this.parser.bundle(this.schema)\r\n      //   .then(schema => this.schema = resolveSchemaReferences(\r\n      //     schema, this.jsf.schemaRefLibrary,\r\n      //     this.jsf.schemaRecursiveRefMap, this.jsf.dataRecursiveRefMap\r\n      //   ));\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 'initializeData' function\r\n   *\r\n   * Initialize 'formValues'\r\n   * defulat or previously submitted values used to populate form\r\n   * Use first available input:\r\n   * 1. data - recommended\r\n   * 2. model - Angular Schema Form style\r\n   * 3. form.value - JSON Form style\r\n   * 4. form.data - Single input style\r\n   * 5. formData - React JSON Schema Form style\r\n   * 6. form.formData - For easier testing of React JSON Schema Forms\r\n   * 7. (none) no data - initialize data from schema and layout defaults only\r\n   */\r\n  private initializeData() {\r\n    if (hasValue(this.data)) {\r\n      this.jsf.formValues = cloneDeep(this.data);\r\n      this.formValuesInput = 'data';\r\n    } else if (hasValue(this.model)) {\r\n      this.jsf.AngularSchemaFormCompatibility = true;\r\n      this.jsf.formValues = cloneDeep(this.model);\r\n      this.formValuesInput = 'model';\r\n    } else if (hasValue(this.ngModel)) {\r\n      this.jsf.AngularSchemaFormCompatibility = true;\r\n      this.jsf.formValues = cloneDeep(this.ngModel);\r\n      this.formValuesInput = 'ngModel';\r\n    } else if (isObject(this.form) && hasValue(this.form.value)) {\r\n      this.jsf.JsonFormCompatibility = true;\r\n      this.jsf.formValues = cloneDeep(this.form.value);\r\n      this.formValuesInput = 'form.value';\r\n    } else if (isObject(this.form) && hasValue(this.form.data)) {\r\n      this.jsf.formValues = cloneDeep(this.form.data);\r\n      this.formValuesInput = 'form.data';\r\n    } else if (hasValue(this.formData)) {\r\n      this.jsf.ReactJsonSchemaFormCompatibility = true;\r\n      this.formValuesInput = 'formData';\r\n    } else if (hasOwn(this.form, 'formData') && hasValue(this.form.formData)) {\r\n      this.jsf.ReactJsonSchemaFormCompatibility = true;\r\n      this.jsf.formValues = cloneDeep(this.form.formData);\r\n      this.formValuesInput = 'form.formData';\r\n    } else {\r\n      this.formValuesInput = null;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 'initializeLayout' function\r\n   *\r\n   * Initialize 'layout'\r\n   * Use first available array input:\r\n   * 1. layout - recommended\r\n   * 2. form - Angular Schema Form style\r\n   * 3. form.form - JSON Form style\r\n   * 4. form.layout - Single input style\r\n   * 5. (none) no layout - set default layout instead\r\n   *    (full layout will be built later from the schema)\r\n   *\r\n   * Also, if alternate layout formats are available,\r\n   * import from 'UISchema' or 'customFormItems'\r\n   * used for React JSON Schema Form and JSON Form API compatibility\r\n   * Use first available input:\r\n   * 1. UISchema - React JSON Schema Form style\r\n   * 2. form.UISchema - For testing single input React JSON Schema Forms\r\n   * 2. form.customFormItems - JSON Form style\r\n   * 3. (none) no input - don't import\r\n   */\r\n  private initializeLayout() {\r\n\r\n    // Rename JSON Form-style 'options' lists to\r\n    // Angular Schema Form-style 'titleMap' lists.\r\n    const fixJsonFormOptions = (layout: any): any => {\r\n      if (isObject(layout) || isArray(layout)) {\r\n        forEach(layout, (value, key) => {\r\n          if (hasOwn(value, 'options') && isObject(value.options)) {\r\n            value.titleMap = value.options;\r\n            delete value.options;\r\n          }\r\n        }, 'top-down');\r\n      }\r\n      return layout;\r\n    };\r\n\r\n    // Check for layout inputs and, if found, initialize form layout\r\n    if (isArray(this.layout)) {\r\n      this.jsf.layout = cloneDeep(this.layout);\r\n    } else if (isArray(this.form)) {\r\n      this.jsf.AngularSchemaFormCompatibility = true;\r\n      this.jsf.layout = cloneDeep(this.form);\r\n    } else if (this.form && isArray(this.form.form)) {\r\n      this.jsf.JsonFormCompatibility = true;\r\n      this.jsf.layout = fixJsonFormOptions(cloneDeep(this.form.form));\r\n    } else if (this.form && isArray(this.form.layout)) {\r\n      this.jsf.layout = cloneDeep(this.form.layout);\r\n    } else {\r\n      this.jsf.layout = ['*'];\r\n    }\r\n\r\n    // Check for alternate layout inputs\r\n    let alternateLayout: any = null;\r\n    if (isObject(this.UISchema)) {\r\n      this.jsf.ReactJsonSchemaFormCompatibility = true;\r\n      alternateLayout = cloneDeep(this.UISchema);\r\n    } else if (hasOwn(this.form, 'UISchema')) {\r\n      this.jsf.ReactJsonSchemaFormCompatibility = true;\r\n      alternateLayout = cloneDeep(this.form.UISchema);\r\n    } else if (hasOwn(this.form, 'uiSchema')) {\r\n      this.jsf.ReactJsonSchemaFormCompatibility = true;\r\n      alternateLayout = cloneDeep(this.form.uiSchema);\r\n    } else if (hasOwn(this.form, 'customFormItems')) {\r\n      this.jsf.JsonFormCompatibility = true;\r\n      alternateLayout = fixJsonFormOptions(cloneDeep(this.form.customFormItems));\r\n    }\r\n\r\n    // if alternate layout found, copy alternate layout options into schema\r\n    if (alternateLayout) {\r\n      JsonPointer.forEachDeep(alternateLayout, (value, pointer) => {\r\n        const schemaPointer = pointer\r\n          .replace(/\\//g, '/properties/')\r\n          .replace(/\\/properties\\/items\\/properties\\//g, '/items/properties/')\r\n          .replace(/\\/properties\\/titleMap\\/properties\\//g, '/titleMap/properties/');\r\n        if (hasValue(value) && hasValue(pointer)) {\r\n          let key = JsonPointer.toKey(pointer);\r\n          const groupPointer = (JsonPointer.parse(schemaPointer) || []).slice(0, -2);\r\n          let itemPointer: string | string[];\r\n\r\n          // If 'ui:order' object found, copy into object schema root\r\n          if (key.toLowerCase() === 'ui:order') {\r\n            itemPointer = [...groupPointer, 'ui:order'];\r\n\r\n          // Copy other alternate layout options to schema 'x-schema-form',\r\n          // (like Angular Schema Form options) and remove any 'ui:' prefixes\r\n          } else {\r\n            if (key.slice(0, 3).toLowerCase() === 'ui:') { key = key.slice(3); }\r\n            itemPointer = [...groupPointer, 'x-schema-form', key];\r\n          }\r\n          if (JsonPointer.has(this.jsf.schema, groupPointer) &&\r\n            !JsonPointer.has(this.jsf.schema, itemPointer)\r\n          ) {\r\n            JsonPointer.set(this.jsf.schema, itemPointer, value);\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 'activateForm' function\r\n   *\r\n   * ...continued from 'initializeSchema' function, above\r\n   * If 'schema' has not been initialized (i.e. no schema input found)\r\n   * 6. If layout input - build schema from layout input\r\n   * 7. If data input - build schema from data input\r\n   *\r\n   * Create final layout,\r\n   * build the FormGroup template and the Angular FormGroup,\r\n   * subscribe to changes,\r\n   * and activate the form.\r\n   */\r\n  private activateForm() {\r\n\r\n    // If 'schema' not initialized\r\n    if (isEmpty(this.jsf.schema)) {\r\n\r\n      // TODO: If full layout input (with no '*'), build schema from layout\r\n      // if (!this.jsf.layout.includes('*')) {\r\n      //   this.jsf.buildSchemaFromLayout();\r\n      // } else\r\n\r\n      // If data input, build schema from data\r\n      if (!isEmpty(this.jsf.formValues)) {\r\n        this.jsf.buildSchemaFromData();\r\n      }\r\n    }\r\n\r\n    if (!isEmpty(this.jsf.schema)) {\r\n\r\n      // If not already initialized, initialize ajv and compile schema\r\n      this.jsf.compileAjvSchema();\r\n\r\n      // Update all layout elements, add values, widgets, and validators,\r\n      // replace any '*' with a layout built from all schema elements,\r\n      // and update the FormGroup template with any new validators\r\n      this.jsf.buildLayout(this.widgetLibrary);\r\n\r\n      // Build the Angular FormGroup template from the schema\r\n      this.jsf.buildFormGroupTemplate(this.jsf.formValues);\r\n\r\n      // Build the real Angular FormGroup from the FormGroup template\r\n      this.jsf.buildFormGroup();\r\n    }\r\n\r\n    if (this.jsf.formGroup) {\r\n\r\n      // Reset initial form values\r\n      if (!isEmpty(this.jsf.formValues) &&\r\n        this.jsf.formOptions.setSchemaDefaults !== true &&\r\n        this.jsf.formOptions.setLayoutDefaults !== true\r\n      ) {\r\n        this.setFormValues(this.jsf.formValues);\r\n      }\r\n\r\n      // TODO: Figure out how to display calculated values without changing object data\r\n      // See http://ulion.github.io/jsonform/playground/?example=templating-values\r\n      // Calculate references to other fields\r\n      // if (!isEmpty(this.jsf.formGroup.value)) {\r\n      //   forEach(this.jsf.formGroup.value, (value, key, object, rootObject) => {\r\n      //     if (typeof value === 'string') {\r\n      //       object[key] = this.jsf.parseText(value, value, rootObject, key);\r\n      //     }\r\n      //   }, 'top-down');\r\n      // }\r\n\r\n      // Subscribe to form changes to output live data, validation, and errors\r\n      this.jsf.dataChanges.subscribe(data => {\r\n        this.onChanges.emit(this.objectWrap ? data['1'] : data);\r\n        if (this.formValuesInput && this.formValuesInput.indexOf('.') === -1) {\r\n          this[`${this.formValuesInput}Change`].emit(this.objectWrap ? data['1'] : data);\r\n        }\r\n      });\r\n\r\n      // Trigger change detection on statusChanges to show updated errors\r\n      this.jsf.formGroup.statusChanges.subscribe(() => this.changeDetector.markForCheck());\r\n      this.jsf.isValidChanges.subscribe(isValid => this.isValid.emit(isValid));\r\n      this.jsf.validationErrorChanges.subscribe(err => this.validationErrors.emit(err));\r\n\r\n      // Output final schema, final layout, and initial data\r\n      this.formSchema.emit(this.jsf.schema);\r\n      this.formLayout.emit(this.jsf.layout);\r\n      this.onChanges.emit(this.objectWrap ? this.jsf.data['1'] : this.jsf.data);\r\n\r\n      // If validateOnRender, output initial validation and any errors\r\n      const validateOnRender =\r\n        JsonPointer.get(this.jsf, '/formOptions/validateOnRender');\r\n      if (validateOnRender) { // validateOnRender === 'auto' || true\r\n        const touchAll = (control) => {\r\n          if (validateOnRender === true || hasValue(control.value)) {\r\n            control.markAsTouched();\r\n          }\r\n          Object.keys(control.controls || {})\r\n            .forEach(key => touchAll(control.controls[key]));\r\n        };\r\n        touchAll(this.jsf.formGroup);\r\n        this.isValid.emit(this.jsf.isValid);\r\n        this.validationErrors.emit(this.jsf.ajvErrors);\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { FrameworkLibraryService } from './framework-library/framework-library.service';\r\nimport { WidgetLibraryModule } from './widget-library/widget-library.module';\r\nimport { WidgetLibraryService } from './widget-library/widget-library.service';\r\n\r\nimport { JsonSchemaFormComponent } from './json-schema-form.component';\r\n\r\nimport { JsonSchemaFormService } from './json-schema-form.service';\r\n\r\nimport { NoFrameworkComponent } from './framework-library/no-framework/no-framework.component';\r\nimport { Framework } from './framework-library/framework';\r\nimport { NoFramework } from './framework-library/no-framework/no.framework';\r\nimport { NoFrameworkModule } from './framework-library/no-framework/no-framework.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule, FormsModule, ReactiveFormsModule,\r\n    WidgetLibraryModule, NoFrameworkModule\r\n  ],\r\n  declarations: [ JsonSchemaFormComponent ],\r\n  exports: [ JsonSchemaFormComponent, WidgetLibraryModule ]\r\n})\r\nexport class JsonSchemaFormModule {\r\n  static forRoot(...frameworks): ModuleWithProviders {\r\n    const loadFrameworks = frameworks.length ?\r\n      frameworks.map(framework => framework.forRoot().providers[0]) :\r\n      [{ provide: Framework, useClass: NoFramework, multi: true }];\r\n    return {\r\n      ngModule: JsonSchemaFormModule,\r\n      providers: [\r\n        JsonSchemaFormService, FrameworkLibraryService, WidgetLibraryService,\r\n        ...loadFrameworks\r\n      ]\r\n    };\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { AbstractControl, FormArray, FormGroup } from '@angular/forms';\r\nimport { Subject } from 'rxjs';\r\nimport { filter } from 'rxjs/operators/filter';\r\n\r\nimport * as Ajv from 'ajv';\r\nimport { cloneDeep, isEqual } from 'lodash';\r\n\r\nimport {\r\n  hasValue, isArray, isDefined, isEmpty, isObject, isString\r\n} from './shared/validator.functions';\r\nimport {\r\n  fixTitle, forEach, hasOwn, toTitleCase\r\n} from './shared/utility.functions';\r\nimport { JsonPointer } from './shared/jsonpointer.functions';\r\nimport {\r\n  buildSchemaFromData, buildSchemaFromLayout, removeRecursiveReferences,\r\n  resolveSchemaReferences\r\n} from './shared/json-schema.functions';\r\nimport {\r\n  buildFormGroup, buildFormGroupTemplate, formatFormData, getControl\r\n} from './shared/form-group.functions';\r\nimport { buildLayout, getLayoutNode } from './shared/layout.functions';\r\nimport { enValidationMessages } from './locale/en-validation-messages';\r\nimport { frValidationMessages } from './locale/fr-validation-messages';\r\n\r\nexport interface TitleMapItem {\r\n  name?: string; value?: any; checked?: boolean; group?: string; items?: TitleMapItem[];\r\n}\r\nexport interface ErrorMessages {\r\n  [control_name: string]: { message: string|Function|Object, code: string }[];\r\n}\r\n\r\n\r\n@Injectable()\r\nexport class JsonSchemaFormService {\r\n  JsonFormCompatibility = false;\r\n  ReactJsonSchemaFormCompatibility = false;\r\n  AngularSchemaFormCompatibility = false;\r\n  tpldata: any = {};\r\n\r\n  ajvOptions: any = { allErrors: true, jsonPointers: true, unknownFormats: 'ignore' };\r\n  ajv: any = new Ajv(this.ajvOptions); // AJV: Another JSON Schema Validator\r\n  validateFormData: any = null; // Compiled AJV function to validate active form's schema\r\n\r\n  formValues: any = {}; // Internal form data (may not have correct types)\r\n  data: any = {}; // Output form data (formValues, formatted with correct data types)\r\n  schema: any = {}; // Internal JSON Schema\r\n  layout: any[] = []; // Internal form layout\r\n  formGroupTemplate: any = {}; // Template used to create formGroup\r\n  formGroup: any = null; // Angular formGroup, which powers the reactive form\r\n  framework: any = null; // Active framework component\r\n  formOptions: any; // Active options, used to configure the form\r\n\r\n  validData: any = null; // Valid form data (or null) (=== isValid ? data : null)\r\n  isValid: boolean = null; // Is current form data valid?\r\n  ajvErrors: any = null; // Ajv errors for current data\r\n  validationErrors: any = null; // Any validation errors for current data\r\n  dataErrors: any = new Map(); //\r\n  formValueSubscription: any = null; // Subscription to formGroup.valueChanges observable (for un- and re-subscribing)\r\n  dataChanges: Subject<any> = new Subject(); // Form data observable\r\n  isValidChanges: Subject<any> = new Subject(); // isValid observable\r\n  validationErrorChanges: Subject<any> = new Subject(); // validationErrors observable\r\n\r\n  arrayMap: Map<string, number> = new Map(); // Maps arrays in data object and number of tuple values\r\n  dataMap: Map<string, any> = new Map(); // Maps paths in form data to schema and formGroup paths\r\n  dataRecursiveRefMap: Map<string, string> = new Map(); // Maps recursive reference points in form data\r\n  schemaRecursiveRefMap: Map<string, string> = new Map(); // Maps recursive reference points in schema\r\n  schemaRefLibrary: any = {}; // Library of schemas for resolving schema $refs\r\n  layoutRefLibrary: any = { '': null }; // Library of layout nodes for adding to form\r\n  templateRefLibrary: any = {}; // Library of formGroup templates for adding to form\r\n  hasRootReference = false; // Does the form include a recursive reference to itself?\r\n\r\n  language = 'en-US'; // Does the form include a recursive reference to itself?\r\n\r\n  // Default global form options\r\n  defaultFormOptions: any = {\r\n    addSubmit: 'auto', // Add a submit button if layout does not have one?\r\n      // for addSubmit: true = always, false = never,\r\n      // 'auto' = only if layout is undefined (form is built from schema alone)\r\n    debug: false, // Show debugging output?\r\n    disableInvalidSubmit: true, // Disable submit if form invalid?\r\n    formDisabled: false, // Set entire form as disabled? (not editable, and disables outputs)\r\n    formReadonly: false, // Set entire form as read only? (not editable, but outputs still enabled)\r\n    fieldsRequired: false, // (set automatically) Are there any required fields in the form?\r\n    framework: 'no-framework', // The framework to load\r\n    loadExternalAssets: false, // Load external css and JavaScript for framework?\r\n    pristine: { errors: true, success: true },\r\n    supressPropertyTitles: false,\r\n    setSchemaDefaults: 'auto', // Set fefault values from schema?\r\n      // true = always set (unless overridden by layout default or formValues)\r\n      // false = never set\r\n      // 'auto' = set in addable components, and everywhere if formValues not set\r\n    setLayoutDefaults: 'auto', // Set fefault values from layout?\r\n      // true = always set (unless overridden by formValues)\r\n      // false = never set\r\n      // 'auto' = set in addable components, and everywhere if formValues not set\r\n    validateOnRender: 'auto', // Validate fields immediately, before they are touched?\r\n      // true = validate all fields immediately\r\n      // false = only validate fields after they are touched by user\r\n      // 'auto' = validate fields with values immediately, empty fields after they are touched\r\n    widgets: {}, // Any custom widgets to load\r\n    defautWidgetOptions: { // Default options for form control widgets\r\n      listItems: 1, // Number of list items to initially add to arrays with no default value\r\n      addable: true, // Allow adding items to an array or $ref point?\r\n      orderable: true, // Allow reordering items within an array?\r\n      removable: true, // Allow removing items from an array or $ref point?\r\n      enableErrorState: true, // Apply 'has-error' class when field fails validation?\r\n      // disableErrorState: false, // Don't apply 'has-error' class when field fails validation?\r\n      enableSuccessState: true, // Apply 'has-success' class when field validates?\r\n      // disableSuccessState: false, // Don't apply 'has-success' class when field validates?\r\n      feedback: false, // Show inline feedback icons?\r\n      feedbackOnRender: false, // Show errorMessage on Render?\r\n      notitle: false, // Hide title?\r\n      disabled: false, // Set control as disabled? (not editable, and excluded from output)\r\n      readonly: false, // Set control as read only? (not editable, but included in output)\r\n      returnEmptyFields: true, // return values for fields that contain no data?\r\n      validationMessages: {} // set by setLanguage()\r\n    },\r\n  };\r\n\r\n  constructor() {\r\n    this.setLanguage(this.language);\r\n  }\r\n\r\n  setLanguage(language: string = 'en-US') {\r\n    this.language = language;\r\n    const validationMessages = language.slice(0, 2) === 'fr' ?\r\n      frValidationMessages : enValidationMessages;\r\n    this.defaultFormOptions.defautWidgetOptions.validationMessages =\r\n      cloneDeep(validationMessages);\r\n  }\r\n\r\n  getData() { return this.data; }\r\n\r\n  getSchema() { return this.schema; }\r\n\r\n  getLayout() { return this.layout; }\r\n\r\n  resetAllValues() {\r\n    this.JsonFormCompatibility = false;\r\n    this.ReactJsonSchemaFormCompatibility = false;\r\n    this.AngularSchemaFormCompatibility = false;\r\n    this.tpldata = {};\r\n    this.validateFormData = null;\r\n    this.formValues = {};\r\n    this.schema = {};\r\n    this.layout = [];\r\n    this.formGroupTemplate = {};\r\n    this.formGroup = null;\r\n    this.framework = null;\r\n    this.data = {};\r\n    this.validData = null;\r\n    this.isValid = null;\r\n    this.validationErrors = null;\r\n    this.arrayMap = new Map();\r\n    this.dataMap = new Map();\r\n    this.dataRecursiveRefMap = new Map();\r\n    this.schemaRecursiveRefMap = new Map();\r\n    this.layoutRefLibrary = {};\r\n    this.schemaRefLibrary = {};\r\n    this.templateRefLibrary = {};\r\n    this.formOptions = cloneDeep(this.defaultFormOptions);\r\n  }\r\n\r\n  /**\r\n   * 'buildRemoteError' function\r\n   *\r\n   * Example errors:\r\n   * {\r\n   *   last_name: [ {\r\n   *     message: 'Last name must by start with capital letter.',\r\n   *     code: 'capital_letter'\r\n   *   } ],\r\n   *   email: [ {\r\n   *     message: 'Email must be from example.com domain.',\r\n   *     code: 'special_domain'\r\n   *   }, {\r\n   *     message: 'Email must contain an @ symbol.',\r\n   *     code: 'at_symbol'\r\n   *   } ]\r\n   * }\r\n   * @param {ErrorMessages} errors\r\n   */\r\n  buildRemoteError(errors: ErrorMessages) {\r\n    forEach(errors, (value, key) => {\r\n      if (key in this.formGroup.controls) {\r\n        for (const error of value) {\r\n          const err = {};\r\n          err[error['code']] = error['message'];\r\n          this.formGroup.get(key).setErrors(err, { emitEvent: true });\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  validateData(newValue: any, updateSubscriptions = true): void {\r\n\r\n    // Format raw form data to correct data types\r\n    this.data = formatFormData(\r\n      newValue, this.dataMap, this.dataRecursiveRefMap,\r\n      this.arrayMap, this.formOptions.returnEmptyFields\r\n    );\r\n    this.isValid = this.validateFormData(this.data);\r\n    this.validData = this.isValid ? this.data : null;\r\n    const compileErrors = errors => {\r\n      const compiledErrors = {};\r\n      (errors || []).forEach(error => {\r\n        if (!compiledErrors[error.dataPath]) { compiledErrors[error.dataPath] = []; }\r\n        compiledErrors[error.dataPath].push(error.message);\r\n      });\r\n      return compiledErrors;\r\n    };\r\n    this.ajvErrors = this.validateFormData.errors;\r\n    this.validationErrors = compileErrors(this.validateFormData.errors);\r\n    if (updateSubscriptions) {\r\n      this.dataChanges.next(this.data);\r\n      this.isValidChanges.next(this.isValid);\r\n      this.validationErrorChanges.next(this.ajvErrors);\r\n    }\r\n  }\r\n\r\n  buildFormGroupTemplate(formValues: any = null, setValues = true) {\r\n    this.formGroupTemplate = buildFormGroupTemplate(this, formValues, setValues);\r\n  }\r\n\r\n  buildFormGroup() {\r\n    this.formGroup = <FormGroup>buildFormGroup(this.formGroupTemplate);\r\n    if (this.formGroup) {\r\n      this.compileAjvSchema();\r\n      this.validateData(this.formGroup.value);\r\n\r\n      // Set up observables to emit data and validation info when form data changes\r\n      if (this.formValueSubscription) { this.formValueSubscription.unsubscribe(); }\r\n      this.formValueSubscription = this.formGroup.valueChanges\r\n        .subscribe(formValue => this.validateData(formValue));\r\n    }\r\n  }\r\n\r\n  buildLayout(widgetLibrary: any) {\r\n    this.layout = buildLayout(this, widgetLibrary);\r\n  }\r\n\r\n  setOptions(newOptions: any) {\r\n    if (isObject(newOptions)) {\r\n      const addOptions = cloneDeep(newOptions);\r\n      // Backward compatibility for 'defaultOptions' (renamed 'defautWidgetOptions')\r\n      if (isObject(addOptions.defaultOptions)) {\r\n        Object.assign(this.formOptions.defautWidgetOptions, addOptions.defaultOptions);\r\n        delete addOptions.defaultOptions;\r\n      }\r\n      if (isObject(addOptions.defautWidgetOptions)) {\r\n        Object.assign(this.formOptions.defautWidgetOptions, addOptions.defautWidgetOptions);\r\n        delete addOptions.defautWidgetOptions;\r\n      }\r\n      Object.assign(this.formOptions, addOptions);\r\n\r\n      // convert disableErrorState / disableSuccessState to enable...\r\n      const globalDefaults = this.formOptions.defautWidgetOptions;\r\n      ['ErrorState', 'SuccessState']\r\n        .filter(suffix => hasOwn(globalDefaults, 'disable' + suffix))\r\n        .forEach(suffix => {\r\n          globalDefaults['enable' + suffix] = !globalDefaults['disable' + suffix];\r\n          delete globalDefaults['disable' + suffix];\r\n        });\r\n    }\r\n  }\r\n\r\n  compileAjvSchema() {\r\n    if (!this.validateFormData) {\r\n\r\n      // if 'ui:order' exists in properties, move it to root before compiling with ajv\r\n      if (Array.isArray(this.schema.properties['ui:order'])) {\r\n        this.schema['ui:order'] = this.schema.properties['ui:order'];\r\n        delete this.schema.properties['ui:order'];\r\n      }\r\n      this.ajv.removeSchema(this.schema);\r\n      this.validateFormData = this.ajv.compile(this.schema);\r\n    }\r\n  }\r\n\r\n  buildSchemaFromData(data?: any, requireAllFields = false): any {\r\n    if (data) { return buildSchemaFromData(data, requireAllFields); }\r\n    this.schema = buildSchemaFromData(this.formValues, requireAllFields);\r\n  }\r\n\r\n  buildSchemaFromLayout(layout?: any): any {\r\n    if (layout) { return buildSchemaFromLayout(layout); }\r\n    this.schema = buildSchemaFromLayout(this.layout);\r\n  }\r\n\r\n\r\n  setTpldata(newTpldata: any = {}): void {\r\n    this.tpldata = newTpldata;\r\n  }\r\n\r\n  parseText(\r\n    text = '', value: any = {}, values: any = {}, key: number|string = null\r\n  ): string {\r\n    if (!text || !/{{.+?}}/.test(text)) { return text; }\r\n    return text.replace(/{{(.+?)}}/g, (...a) =>\r\n      this.parseExpression(a[1], value, values, key, this.tpldata)\r\n    );\r\n  }\r\n\r\n  parseExpression(\r\n    expression = '', value: any = {}, values: any = {},\r\n    key: number|string = null, tpldata: any = null\r\n  ) {\r\n    if (typeof expression !== 'string') { return ''; }\r\n    const index = typeof key === 'number' ? (key + 1) + '' : (key || '');\r\n    expression = expression.trim();\r\n    if ((expression[0] === '\\'' || expression[0] === '\"') &&\r\n      expression[0] === expression[expression.length - 1] &&\r\n      expression.slice(1, expression.length - 1).indexOf(expression[0]) === -1\r\n    ) {\r\n      return expression.slice(1, expression.length - 1);\r\n    }\r\n    if (expression === 'idx' || expression === '$index') { return index; }\r\n    if (expression === 'value' && !hasOwn(values, 'value')) { return value; }\r\n    if (['\"', '\\'', ' ', '||', '&&', '+'].every(delim => expression.indexOf(delim) === -1)) {\r\n      const pointer = JsonPointer.parseObjectPath(expression);\r\n      return pointer[0] === 'value' && JsonPointer.has(value, pointer.slice(1)) ?\r\n          JsonPointer.get(value, pointer.slice(1)) :\r\n        pointer[0] === 'values' && JsonPointer.has(values, pointer.slice(1)) ?\r\n          JsonPointer.get(values, pointer.slice(1)) :\r\n        pointer[0] === 'tpldata' && JsonPointer.has(tpldata, pointer.slice(1)) ?\r\n          JsonPointer.get(tpldata, pointer.slice(1)) :\r\n        JsonPointer.has(values, pointer) ? JsonPointer.get(values, pointer) : '';\r\n    }\r\n    if (expression.indexOf('[idx]') > -1) {\r\n      expression = expression.replace(/\\[idx\\]/g, <string>index);\r\n    }\r\n    if (expression.indexOf('[$index]') > -1) {\r\n      expression = expression.replace(/\\[$index\\]/g, <string>index);\r\n    }\r\n    // TODO: Improve expression evaluation by parsing quoted strings first\r\n    // let expressionArray = expression.match(/([^\"']+|\"[^\"]+\"|'[^']+')/g);\r\n    if (expression.indexOf('||') > -1) {\r\n      return expression.split('||').reduce((all, term) =>\r\n        all || this.parseExpression(term, value, values, key, tpldata), ''\r\n      );\r\n    }\r\n    if (expression.indexOf('&&') > -1) {\r\n      return expression.split('&&').reduce((all, term) =>\r\n        all && this.parseExpression(term, value, values, key, tpldata), ' '\r\n      ).trim();\r\n    }\r\n    if (expression.indexOf('+') > -1) {\r\n      return expression.split('+')\r\n        .map(term => this.parseExpression(term, value, values, key, tpldata))\r\n        .join('');\r\n    }\r\n    return '';\r\n  }\r\n\r\n  setArrayItemTitle(\r\n    parentCtx: any = {}, childNode: any = null, index: number = null\r\n  ): string {\r\n    const parentNode = parentCtx.layoutNode;\r\n    const parentValues: any = this.getFormControlValue(parentCtx);\r\n    const isArrayItem =\r\n      (parentNode.type || '').slice(-5) === 'array' && isArray(parentValues);\r\n    const text = JsonPointer.getFirst(\r\n      isArrayItem && childNode.type !== '$ref' ? [\r\n        [childNode, '/options/legend'],\r\n        [childNode, '/options/title'],\r\n        [parentNode, '/options/title'],\r\n        [parentNode, '/options/legend'],\r\n      ] : [\r\n        [childNode, '/options/title'],\r\n        [childNode, '/options/legend'],\r\n        [parentNode, '/options/title'],\r\n        [parentNode, '/options/legend']\r\n      ]\r\n    );\r\n    if (!text) { return text; }\r\n    const childValue = isArray(parentValues) && index < parentValues.length ?\r\n      parentValues[index] : parentValues;\r\n    return this.parseText(text, childValue, parentValues, index);\r\n  }\r\n\r\n  setItemTitle(ctx: any) {\r\n    return !ctx.options.title && /^(\\d+|-)$/.test(ctx.layoutNode.name) ?\r\n      null :\r\n      this.parseText(\r\n        ctx.options.title || toTitleCase(ctx.layoutNode.name),\r\n        this.getFormControlValue(this),\r\n        (this.getFormControlGroup(this) || <any>{}).value,\r\n        ctx.dataIndex[ctx.dataIndex.length - 1]\r\n      );\r\n  }\r\n\r\n  evaluateCondition(layoutNode: any, dataIndex: number[]): boolean {\r\n    const arrayIndex = dataIndex && dataIndex[dataIndex.length - 1];\r\n    let result = true;\r\n    if (hasValue((layoutNode.options || {}).condition)) {\r\n      if (typeof layoutNode.options.condition === 'string') {\r\n        let pointer = layoutNode.options.condition;\r\n        if (hasValue(arrayIndex)) {\r\n          pointer = pointer.replace('[arrayIndex]', `[${arrayIndex}]`);\r\n        }\r\n        pointer = JsonPointer.parseObjectPath(pointer);\r\n        result = !!JsonPointer.get(this.data, pointer);\r\n        if (!result && pointer[0] === 'model') {\r\n          result = !!JsonPointer.get({ model: this.data }, pointer);\r\n        }\r\n      } else if (typeof layoutNode.options.condition === 'function') {\r\n        result = layoutNode.options.condition(this.data);\r\n      } else if (typeof layoutNode.options.condition.functionBody === 'string') {\r\n        try {\r\n          const dynFn = new Function(\r\n            'model', 'arrayIndices', layoutNode.options.condition.functionBody\r\n          );\r\n          result = dynFn(this.data, dataIndex);\r\n        } catch (e) {\r\n          result = true;\r\n          console.error(`condition functionBody errored out on evaluation: ${layoutNode.options.condition.functionBody}`);\r\n        }\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n\r\n  initializeControl(ctx: any, bind = true): boolean {\r\n    if (!isObject(ctx)) { return false; }\r\n    if (isEmpty(ctx.options)) {\r\n      ctx.options = !isEmpty((ctx.layoutNode || {}).options) ?\r\n        ctx.layoutNode.options : cloneDeep(this.formOptions);\r\n    }\r\n    ctx.formControl = this.getFormControl(ctx);\r\n    ctx.boundControl = bind && !!ctx.formControl;\r\n    if (ctx.formControl) {\r\n      ctx.controlName = this.getFormControlName(ctx);\r\n      ctx.controlValue = ctx.formControl.value;\r\n      ctx.controlDisabled = ctx.formControl.disabled;\r\n      ctx.options.errorMessage = ctx.formControl.status === 'VALID' ? null :\r\n        this.formatErrors(ctx.formControl.errors, ctx.options.validationMessages);\r\n      ctx.options.showErrors = this.formOptions.validateOnRender === true ||\r\n        (this.formOptions.validateOnRender === 'auto' && hasValue(ctx.controlValue));\r\n      ctx.formControl.statusChanges.subscribe(status =>\r\n        ctx.options.errorMessage = status === 'VALID' ? null :\r\n          this.formatErrors(ctx.formControl.errors, ctx.options.validationMessages)\r\n      );\r\n      ctx.formControl.valueChanges.subscribe(value => {\r\n        if (!isEqual(ctx.controlValue, value)) { ctx.controlValue = value; }\r\n      });\r\n    } else {\r\n      ctx.controlName = ctx.layoutNode.name;\r\n      ctx.controlValue = ctx.layoutNode.value || null;\r\n      const dataPointer = this.getDataPointer(ctx);\r\n      if (bind && dataPointer) {\r\n        console.error(`warning: control \"${dataPointer}\" is not bound to the Angular FormGroup.`);\r\n      }\r\n    }\r\n    return ctx.boundControl;\r\n  }\r\n\r\n  formatErrors(errors: any, validationMessages: any = {}): string {\r\n    if (isEmpty(errors)) { return null; }\r\n    if (!isObject(validationMessages)) { validationMessages = {}; }\r\n    const addSpaces = string => string[0].toUpperCase() + (string.slice(1) || '')\r\n      .replace(/([a-z])([A-Z])/g, '$1 $2').replace(/_/g, ' ');\r\n    const formatError = (error) => typeof error === 'object' ?\r\n      Object.keys(error).map(key =>\r\n        error[key] === true ? addSpaces(key) :\r\n        error[key] === false ? 'Not ' + addSpaces(key) :\r\n        addSpaces(key) + ': ' + formatError(error[key])\r\n      ).join(', ') :\r\n      addSpaces(error.toString());\r\n    const messages = [];\r\n    return Object.keys(errors)\r\n      // Hide 'required' error, unless it is the only one\r\n      .filter(errorKey => errorKey !== 'required' || Object.keys(errors).length === 1)\r\n      .map(errorKey =>\r\n        // If validationMessages is a string, return it\r\n        typeof validationMessages === 'string' ? validationMessages :\r\n        // If custom error message is a function, return function result\r\n        typeof validationMessages[errorKey] === 'function' ?\r\n          validationMessages[errorKey](errors[errorKey]) :\r\n        // If custom error message is a string, replace placeholders and return\r\n        typeof validationMessages[errorKey] === 'string' ?\r\n          // Does error message have any {{property}} placeholders?\r\n          !/{{.+?}}/.test(validationMessages[errorKey]) ?\r\n            validationMessages[errorKey] :\r\n            // Replace {{property}} placeholders with values\r\n            Object.keys(errors[errorKey])\r\n              .reduce((errorMessage, errorProperty) => errorMessage.replace(\r\n                new RegExp('{{' + errorProperty + '}}', 'g'),\r\n                errors[errorKey][errorProperty]\r\n              ), validationMessages[errorKey]) :\r\n          // If no custom error message, return formatted error data instead\r\n          addSpaces(errorKey) + ' Error: ' + formatError(errors[errorKey])\r\n      ).join('<br>');\r\n  }\r\n\r\n  updateValue(ctx: any, value: any): void {\r\n\r\n    // Set value of current control\r\n    ctx.controlValue = value;\r\n    if (ctx.boundControl) {\r\n      ctx.formControl.setValue(value);\r\n      ctx.formControl.markAsDirty();\r\n    }\r\n    ctx.layoutNode.value = value;\r\n\r\n    // Set values of any related controls in copyValueTo array\r\n    if (isArray(ctx.options.copyValueTo)) {\r\n      for (const item of ctx.options.copyValueTo) {\r\n        const targetControl = getControl(this.formGroup, item);\r\n        if (isObject(targetControl) && typeof targetControl.setValue === 'function') {\r\n          targetControl.setValue(value);\r\n          targetControl.markAsDirty();\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  updateArrayCheckboxList(ctx: any, checkboxList: TitleMapItem[]): void {\r\n    const formArray = <FormArray>this.getFormControl(ctx);\r\n\r\n    // Remove all existing items\r\n    while (formArray.value.length) { formArray.removeAt(0); }\r\n\r\n    // Re-add an item for each checked box\r\n    const refPointer = removeRecursiveReferences(\r\n      ctx.layoutNode.dataPointer + '/-', this.dataRecursiveRefMap, this.arrayMap\r\n    );\r\n    for (const checkboxItem of checkboxList) {\r\n      if (checkboxItem.checked) {\r\n        const newFormControl = buildFormGroup(this.templateRefLibrary[refPointer]);\r\n        newFormControl.setValue(checkboxItem.value);\r\n        formArray.push(newFormControl);\r\n      }\r\n    }\r\n    formArray.markAsDirty();\r\n  }\r\n\r\n  getFormControl(ctx: any): AbstractControl {\r\n    if (\r\n      !ctx.layoutNode || !isDefined(ctx.layoutNode.dataPointer) ||\r\n      ctx.layoutNode.type === '$ref'\r\n    ) { return null; }\r\n    return getControl(this.formGroup, this.getDataPointer(ctx));\r\n  }\r\n\r\n  getFormControlValue(ctx: any): AbstractControl {\r\n    if (\r\n      !ctx.layoutNode || !isDefined(ctx.layoutNode.dataPointer) ||\r\n      ctx.layoutNode.type === '$ref'\r\n    ) { return null; }\r\n    const control = getControl(this.formGroup, this.getDataPointer(ctx));\r\n    return control ? control.value : null;\r\n  }\r\n\r\n  getFormControlGroup(ctx: any): FormArray | FormGroup {\r\n    if (!ctx.layoutNode || !isDefined(ctx.layoutNode.dataPointer)) { return null; }\r\n    return getControl(this.formGroup, this.getDataPointer(ctx), true);\r\n  }\r\n\r\n  getFormControlName(ctx: any): string {\r\n    if (\r\n      !ctx.layoutNode || !isDefined(ctx.layoutNode.dataPointer) || !hasValue(ctx.dataIndex)\r\n    ) { return null; }\r\n    return JsonPointer.toKey(this.getDataPointer(ctx));\r\n  }\r\n\r\n  getLayoutArray(ctx: any): any[] {\r\n    return JsonPointer.get(this.layout, this.getLayoutPointer(ctx), 0, -1);\r\n  }\r\n\r\n  getParentNode(ctx: any): any {\r\n    return JsonPointer.get(this.layout, this.getLayoutPointer(ctx), 0, -2);\r\n  }\r\n\r\n  getDataPointer(ctx: any): string {\r\n    if (\r\n      !ctx.layoutNode || !isDefined(ctx.layoutNode.dataPointer) || !hasValue(ctx.dataIndex)\r\n    ) { return null; }\r\n    return JsonPointer.toIndexedPointer(\r\n      ctx.layoutNode.dataPointer, ctx.dataIndex, this.arrayMap\r\n    );\r\n  }\r\n\r\n  getLayoutPointer(ctx: any): string {\r\n    if (!hasValue(ctx.layoutIndex)) { return null; }\r\n    return '/' + ctx.layoutIndex.join('/items/');\r\n  }\r\n\r\n  isControlBound(ctx: any): boolean {\r\n    if (\r\n      !ctx.layoutNode || !isDefined(ctx.layoutNode.dataPointer) || !hasValue(ctx.dataIndex)\r\n    ) { return false; }\r\n    const controlGroup = this.getFormControlGroup(ctx);\r\n    const name = this.getFormControlName(ctx);\r\n    return controlGroup ? hasOwn(controlGroup.controls, name) : false;\r\n  }\r\n\r\n  addItem(ctx: any, name?: string): boolean {\r\n    if (\r\n      !ctx.layoutNode || !isDefined(ctx.layoutNode.$ref) ||\r\n      !hasValue(ctx.dataIndex) || !hasValue(ctx.layoutIndex)\r\n    ) { return false; }\r\n\r\n    // Create a new Angular form control from a template in templateRefLibrary\r\n    const newFormGroup = buildFormGroup(this.templateRefLibrary[ctx.layoutNode.$ref]);\r\n\r\n    // Add the new form control to the parent formArray or formGroup\r\n    if (ctx.layoutNode.arrayItem) { // Add new array item to formArray\r\n      (<FormArray>this.getFormControlGroup(ctx)).push(newFormGroup);\r\n    } else { // Add new $ref item to formGroup\r\n      (<FormGroup>this.getFormControlGroup(ctx))\r\n        .addControl(name || this.getFormControlName(ctx), newFormGroup);\r\n    }\r\n\r\n    // Copy a new layoutNode from layoutRefLibrary\r\n    const newLayoutNode = getLayoutNode(ctx.layoutNode, this);\r\n    newLayoutNode.arrayItem = ctx.layoutNode.arrayItem;\r\n    if (ctx.layoutNode.arrayItemType) {\r\n      newLayoutNode.arrayItemType = ctx.layoutNode.arrayItemType;\r\n    } else {\r\n      delete newLayoutNode.arrayItemType;\r\n    }\r\n    if (name) {\r\n      newLayoutNode.name = name;\r\n      newLayoutNode.dataPointer += '/' + JsonPointer.escape(name);\r\n      newLayoutNode.options.title = fixTitle(name);\r\n    }\r\n\r\n    // Add the new layoutNode to the form layout\r\n    JsonPointer.insert(this.layout, this.getLayoutPointer(ctx), newLayoutNode);\r\n\r\n    return true;\r\n  }\r\n\r\n  moveArrayItem(ctx: any, oldIndex: number, newIndex: number): boolean {\r\n    if (\r\n      !ctx.layoutNode || !isDefined(ctx.layoutNode.dataPointer) ||\r\n      !hasValue(ctx.dataIndex) || !hasValue(ctx.layoutIndex) ||\r\n      !isDefined(oldIndex) || !isDefined(newIndex) || oldIndex === newIndex\r\n    ) { return false; }\r\n\r\n    // Move item in the formArray\r\n    const formArray = <FormArray>this.getFormControlGroup(ctx);\r\n    const arrayItem = formArray.at(oldIndex);\r\n    formArray.removeAt(oldIndex);\r\n    formArray.insert(newIndex, arrayItem);\r\n    formArray.updateValueAndValidity();\r\n\r\n    // Move layout item\r\n    const layoutArray = this.getLayoutArray(ctx);\r\n    layoutArray.splice(newIndex, 0, layoutArray.splice(oldIndex, 1)[0]);\r\n    return true;\r\n  }\r\n\r\n  removeItem(ctx: any): boolean {\r\n    if (\r\n      !ctx.layoutNode || !isDefined(ctx.layoutNode.dataPointer) ||\r\n      !hasValue(ctx.dataIndex) || !hasValue(ctx.layoutIndex)\r\n    ) { return false; }\r\n\r\n    // Remove the Angular form control from the parent formArray or formGroup\r\n    if (ctx.layoutNode.arrayItem) { // Remove array item from formArray\r\n      (<FormArray>this.getFormControlGroup(ctx))\r\n        .removeAt(ctx.dataIndex[ctx.dataIndex.length - 1]);\r\n    } else { // Remove $ref item from formGroup\r\n      (<FormGroup>this.getFormControlGroup(ctx))\r\n        .removeControl(this.getFormControlName(ctx));\r\n    }\r\n\r\n    // Remove layoutNode from layout\r\n    JsonPointer.remove(this.layout, this.getLayoutPointer(ctx));\r\n    return true;\r\n  }\r\n}\r\n","export const enValidationMessages: any = { // Default English error messages\r\n  required: 'This field is required.',\r\n  minLength: 'Must be {{minimumLength}} characters or longer (current length: {{currentLength}})',\r\n  maxLength: 'Must be {{maximumLength}} characters or shorter (current length: {{currentLength}})',\r\n  pattern: 'Must match pattern: {{requiredPattern}}',\r\n  format: function (error) {\r\n    switch (error.requiredFormat) {\r\n      case 'date':\r\n        return 'Must be a date, like \"2000-12-31\"';\r\n      case 'time':\r\n        return 'Must be a time, like \"16:20\" or \"03:14:15.9265\"';\r\n      case 'date-time':\r\n        return 'Must be a date-time, like \"2000-03-14T01:59\" or \"2000-03-14T01:59:26.535Z\"';\r\n      case 'email':\r\n        return 'Must be an email address, like \"name@example.com\"';\r\n      case 'hostname':\r\n        return 'Must be a hostname, like \"example.com\"';\r\n      case 'ipv4':\r\n        return 'Must be an IPv4 address, like \"127.0.0.1\"';\r\n      case 'ipv6':\r\n        return 'Must be an IPv6 address, like \"1234:5678:9ABC:DEF0:1234:5678:9ABC:DEF0\"';\r\n      // TODO: add examples for 'uri', 'uri-reference', and 'uri-template'\r\n      // case 'uri': case 'uri-reference': case 'uri-template':\r\n      case 'url':\r\n        return 'Must be a url, like \"http://www.example.com/page.html\"';\r\n      case 'uuid':\r\n        return 'Must be a uuid, like \"12345678-9ABC-DEF0-1234-56789ABCDEF0\"';\r\n      case 'color':\r\n        return 'Must be a color, like \"#FFFFFF\" or \"rgb(255, 255, 255)\"';\r\n      case 'json-pointer':\r\n        return 'Must be a JSON Pointer, like \"/pointer/to/something\"';\r\n      case 'relative-json-pointer':\r\n        return 'Must be a relative JSON Pointer, like \"2/pointer/to/something\"';\r\n      case 'regex':\r\n        return 'Must be a regular expression, like \"(1-)?\\\\d{3}-\\\\d{3}-\\\\d{4}\"';\r\n      default:\r\n        return 'Must be a correctly formatted ' + error.requiredFormat;\r\n    }\r\n  },\r\n  minimum: 'Must be {{minimumValue}} or more',\r\n  exclusiveMinimum: 'Must be more than {{exclusiveMinimumValue}}',\r\n  maximum: 'Must be {{maximumValue}} or less',\r\n  exclusiveMaximum: 'Must be less than {{exclusiveMaximumValue}}',\r\n  multipleOf: function (error) {\r\n    if ((1 / error.multipleOfValue) % 10 === 0) {\r\n      const decimals = Math.log10(1 / error.multipleOfValue);\r\n      return `Must have ${decimals} or fewer decimal places.`;\r\n    } else {\r\n      return `Must be a multiple of ${error.multipleOfValue}.`;\r\n    }\r\n  },\r\n  minProperties: 'Must have {{minimumProperties}} or more items (current items: {{currentProperties}})',\r\n  maxProperties: 'Must have {{maximumProperties}} or fewer items (current items: {{currentProperties}})',\r\n  minItems: 'Must have {{minimumItems}} or more items (current items: {{currentItems}})',\r\n  maxItems: 'Must have {{maximumItems}} or fewer items (current items: {{currentItems}})',\r\n  uniqueItems: 'All items must be unique',\r\n  // Note: No default error messages for 'type', 'const', 'enum', or 'dependencies'\r\n};\r\n","export const frValidationMessages: any = { // French error messages\r\n  required: 'Est obligatoire.',\r\n  minLength: 'Doit avoir minimum {{minimumLength}} caractres (actuellement: {{currentLength}})',\r\n  maxLength: 'Doit avoir maximum {{maximumLength}} caractres (actuellement: {{currentLength}})',\r\n  pattern: 'Doit respecter: {{requiredPattern}}',\r\n  format: function (error) {\r\n    switch (error.requiredFormat) {\r\n      case 'date':\r\n        return 'Doit tre une date, tel que \"2000-12-31\"';\r\n      case 'time':\r\n        return 'Doit tre une heure, tel que \"16:20\" ou \"03:14:15.9265\"';\r\n      case 'date-time':\r\n        return 'Doit tre une date et une heure, tel que \"2000-03-14T01:59\" ou \"2000-03-14T01:59:26.535Z\"';\r\n      case 'email':\r\n        return 'Doit tre une adresse e-mail, tel que \"name@example.com\"';\r\n      case 'hostname':\r\n        return 'Doit tre un nom de domaine, tel que \"example.com\"';\r\n      case 'ipv4':\r\n        return 'Doit tre une adresse IPv4, tel que \"127.0.0.1\"';\r\n      case 'ipv6':\r\n        return 'Doit tre une adresse IPv6, tel que \"1234:5678:9ABC:DEF0:1234:5678:9ABC:DEF0\"';\r\n      // TODO: add examples for 'uri', 'uri-reference', and 'uri-template'\r\n      // case 'uri': case 'uri-reference': case 'uri-template':\r\n      case 'url':\r\n        return 'Doit tre une URL, tel que \"http://www.example.com/page.html\"';\r\n      case 'uuid':\r\n        return 'Doit tre un UUID, tel que \"12345678-9ABC-DEF0-1234-56789ABCDEF0\"';\r\n      case 'color':\r\n        return 'Doit tre une couleur, tel que \"#FFFFFF\" or \"rgb(255, 255, 255)\"';\r\n      case 'json-pointer':\r\n        return 'Doit tre un JSON Pointer, tel que \"/pointer/to/something\"';\r\n      case 'relative-json-pointer':\r\n        return 'Doit tre un relative JSON Pointer, tel que \"2/pointer/to/something\"';\r\n      case 'regex':\r\n        return 'Doit tre une expression rgulire, tel que \"(1-)?\\\\d{3}-\\\\d{3}-\\\\d{4}\"';\r\n      default:\r\n        return 'Doit tre avoir le format correct: ' + error.requiredFormat;\r\n    }\r\n  },\r\n  minimum: 'Doit tre suprieur  {{minimumValue}}',\r\n  exclusiveMinimum: 'Doit avoir minimum {{exclusiveMinimumValue}} charactres',\r\n  maximum: 'Doit tre infrieur  {{maximumValue}}',\r\n  exclusiveMaximum: 'Doit avoir maximum {{exclusiveMaximumValue}} charactres',\r\n  multipleOf: function (error) {\r\n    if ((1 / error.multipleOfValue) % 10 === 0) {\r\n      const decimals = Math.log10(1 / error.multipleOfValue);\r\n      return `Doit comporter ${decimals} ou moins de decimales.`;\r\n    } else {\r\n      return `Doit tre un multiple de ${error.multipleOfValue}.`;\r\n    }\r\n  },\r\n  minProperties: 'Doit comporter au minimum {{minimumProperties}} lments',\r\n  maxProperties: 'Doit comporter au maximum {{maximumProperties}} lments',\r\n  minItems: 'Doit comporter au minimum {{minimumItems}} lments',\r\n  maxItems: 'Doit comporter au maximum {{minimumItems}} lments',\r\n  uniqueItems: 'Tous les lments doivent tre uniques',\r\n  // Note: No default error messages for 'type', 'const', 'enum', or 'dependencies'\r\n};\r\n","import { cloneDeep } from 'lodash';\r\n\r\n/**\r\n * 'convertSchemaToDraft6' function\r\n *\r\n * Converts a JSON Schema from draft 1 through 4 format to draft 6 format\r\n *\r\n * Inspired by on geraintluff's JSON Schema 3 to 4 compatibility function:\r\n *   https://github.com/geraintluff/json-schema-compatibility\r\n * Also uses suggestions from AJV's JSON Schema 4 to 6 migration guide:\r\n *   https://github.com/epoberezkin/ajv/releases/tag/5.0.0\r\n * And additional details from the official JSON Schema documentation:\r\n *   http://json-schema.org\r\n *\r\n * @param  { object } originalSchema - JSON schema (draft 1, 2, 3, 4, or 6)\r\n * @param  { OptionObject = {} } options - options: parent schema changed?, schema draft number?\r\n * @return { object } - JSON schema (draft 6)\r\n */\r\nexport interface OptionObject { changed?: boolean; draft?: number; }\r\nexport function convertSchemaToDraft6(schema, options: OptionObject = {}) {\r\n  let draft: number = options.draft || null;\r\n  let changed: boolean = options.changed || false;\r\n\r\n  if (typeof schema !== 'object') { return schema; }\r\n  if (typeof schema.map === 'function') {\r\n    return [ ...schema.map(subSchema => convertSchemaToDraft6(subSchema, { changed, draft })) ];\r\n  }\r\n  let newSchema = { ...schema };\r\n  const simpleTypes = ['array', 'boolean', 'integer', 'null', 'number', 'object', 'string'];\r\n\r\n  if (typeof newSchema.$schema === 'string' &&\r\n    /http\\:\\/\\/json\\-schema\\.org\\/draft\\-0\\d\\/schema\\#/.test(newSchema.$schema)\r\n  ) {\r\n    draft = newSchema.$schema[30];\r\n  }\r\n\r\n  // Convert v1-v2 'contentEncoding' to 'media.binaryEncoding'\r\n  // Note: This is only used in JSON hyper-schema (not regular JSON schema)\r\n  if (newSchema.contentEncoding) {\r\n    newSchema.media = { binaryEncoding: newSchema.contentEncoding };\r\n    delete newSchema.contentEncoding;\r\n    changed = true;\r\n  }\r\n\r\n  // Convert v1-v3 'extends' to 'allOf'\r\n  if (typeof newSchema.extends === 'object') {\r\n    newSchema.allOf = typeof newSchema.extends.map === 'function' ?\r\n      newSchema.extends.map(subSchema => convertSchemaToDraft6(subSchema, { changed, draft })) :\r\n      [ convertSchemaToDraft6(newSchema.extends, { changed, draft }) ];\r\n    delete newSchema.extends;\r\n    changed = true;\r\n  }\r\n\r\n  // Convert v1-v3 'disallow' to 'not'\r\n  if (newSchema.disallow) {\r\n    if (typeof newSchema.disallow === 'string') {\r\n      newSchema.not = { type: newSchema.disallow };\r\n    } else if (typeof newSchema.disallow.map === 'function') {\r\n      newSchema.not = {\r\n        anyOf: newSchema.disallow\r\n          .map(type => typeof type === 'object' ? type : { type })\r\n      };\r\n    }\r\n    delete newSchema.disallow;\r\n    changed = true;\r\n  }\r\n\r\n  // Convert v3 string 'dependencies' properties to arrays\r\n  if (typeof newSchema.dependencies === 'object' &&\r\n    Object.keys(newSchema.dependencies)\r\n      .some(key => typeof newSchema.dependencies[key] === 'string')\r\n  ) {\r\n    newSchema.dependencies = { ...newSchema.dependencies };\r\n    Object.keys(newSchema.dependencies)\r\n      .filter(key => typeof newSchema.dependencies[key] === 'string')\r\n      .forEach(key => newSchema.dependencies[key] = [ newSchema.dependencies[key] ]);\r\n    changed = true;\r\n  }\r\n\r\n  // Convert v1 'maxDecimal' to 'multipleOf'\r\n  if (typeof newSchema.maxDecimal === 'number') {\r\n    newSchema.multipleOf = 1 / Math.pow(10, newSchema.maxDecimal);\r\n    delete newSchema.divisibleBy;\r\n    changed = true;\r\n    if (!draft || draft === 2) { draft = 1; }\r\n  }\r\n\r\n  // Convert v2-v3 'divisibleBy' to 'multipleOf'\r\n  if (typeof newSchema.divisibleBy === 'number') {\r\n    newSchema.multipleOf = newSchema.divisibleBy;\r\n    delete newSchema.divisibleBy;\r\n    changed = true;\r\n  }\r\n\r\n  // Convert v1-v2 boolean 'minimumCanEqual' to 'exclusiveMinimum'\r\n  if (typeof newSchema.minimum === 'number' && newSchema.minimumCanEqual === false) {\r\n    newSchema.exclusiveMinimum = newSchema.minimum;\r\n    delete newSchema.minimum;\r\n    changed = true;\r\n    if (!draft) { draft = 2; }\r\n  } else if (typeof newSchema.minimumCanEqual === 'boolean') {\r\n    delete newSchema.minimumCanEqual;\r\n    changed = true;\r\n    if (!draft) { draft = 2; }\r\n  }\r\n\r\n  // Convert v3-v4 boolean 'exclusiveMinimum' to numeric\r\n  if (typeof newSchema.minimum === 'number' && newSchema.exclusiveMinimum === true) {\r\n    newSchema.exclusiveMinimum = newSchema.minimum;\r\n    delete newSchema.minimum;\r\n    changed = true;\r\n  } else if (typeof newSchema.exclusiveMinimum === 'boolean') {\r\n    delete newSchema.exclusiveMinimum;\r\n    changed = true;\r\n  }\r\n\r\n  // Convert v1-v2 boolean 'maximumCanEqual' to 'exclusiveMaximum'\r\n  if (typeof newSchema.maximum === 'number' && newSchema.maximumCanEqual === false) {\r\n    newSchema.exclusiveMaximum = newSchema.maximum;\r\n    delete newSchema.maximum;\r\n    changed = true;\r\n    if (!draft) { draft = 2; }\r\n  } else if (typeof newSchema.maximumCanEqual === 'boolean') {\r\n    delete newSchema.maximumCanEqual;\r\n    changed = true;\r\n    if (!draft) { draft = 2; }\r\n  }\r\n\r\n  // Convert v3-v4 boolean 'exclusiveMaximum' to numeric\r\n  if (typeof newSchema.maximum === 'number' && newSchema.exclusiveMaximum === true) {\r\n    newSchema.exclusiveMaximum = newSchema.maximum;\r\n    delete newSchema.maximum;\r\n    changed = true;\r\n  } else if (typeof newSchema.exclusiveMaximum === 'boolean') {\r\n    delete newSchema.exclusiveMaximum;\r\n    changed = true;\r\n  }\r\n\r\n  // Search object 'properties' for 'optional', 'required', and 'requires' items,\r\n  // and convert them into object 'required' arrays and 'dependencies' objects\r\n  if (typeof newSchema.properties === 'object') {\r\n    const properties = { ...newSchema.properties };\r\n    const requiredKeys = Array.isArray(newSchema.required) ?\r\n      new Set(newSchema.required) : new Set();\r\n\r\n    // Convert v1-v2 boolean 'optional' properties to 'required' array\r\n    if (draft === 1 || draft === 2 ||\r\n      Object.keys(properties).some(key => properties[key].optional === true)\r\n    ) {\r\n      Object.keys(properties)\r\n        .filter(key => properties[key].optional !== true)\r\n        .forEach(key => requiredKeys.add(key));\r\n      changed = true;\r\n      if (!draft) { draft = 2; }\r\n    }\r\n\r\n    // Convert v3 boolean 'required' properties to 'required' array\r\n    if (Object.keys(properties).some(key => properties[key].required === true)) {\r\n      Object.keys(properties)\r\n        .filter(key => properties[key].required === true)\r\n        .forEach(key => requiredKeys.add(key));\r\n      changed = true;\r\n    }\r\n\r\n    if (requiredKeys.size) { newSchema.required = Array.from(requiredKeys); }\r\n\r\n    // Convert v1-v2 array or string 'requires' properties to 'dependencies' object\r\n    if (Object.keys(properties).some(key => properties[key].requires)) {\r\n      const dependencies = typeof newSchema.dependencies === 'object' ?\r\n        { ...newSchema.dependencies } : {};\r\n      Object.keys(properties)\r\n        .filter(key => properties[key].requires)\r\n        .forEach(key => dependencies[key] =\r\n          typeof properties[key].requires === 'string' ?\r\n            [ properties[key].requires ] : properties[key].requires\r\n        );\r\n      newSchema.dependencies = dependencies;\r\n      changed = true;\r\n      if (!draft) { draft = 2; }\r\n    }\r\n\r\n    newSchema.properties = properties;\r\n  }\r\n\r\n  // Revove v1-v2 boolean 'optional' key\r\n  if (typeof newSchema.optional === 'boolean') {\r\n    delete newSchema.optional;\r\n    changed = true;\r\n    if (!draft) { draft = 2; }\r\n  }\r\n\r\n  // Revove v1-v2 'requires' key\r\n  if (newSchema.requires) {\r\n    delete newSchema.requires;\r\n  }\r\n\r\n  // Revove v3 boolean 'required' key\r\n  if (typeof newSchema.required === 'boolean') {\r\n    delete newSchema.required;\r\n  }\r\n\r\n  // Convert id to $id\r\n  if (typeof newSchema.id === 'string' && !newSchema.$id) {\r\n    if (newSchema.id.slice(-1) === '#') {\r\n      newSchema.id = newSchema.id.slice(0, -1);\r\n    }\r\n    newSchema.$id = newSchema.id + '-CONVERTED-TO-DRAFT-06#';\r\n    delete newSchema.id;\r\n    changed = true;\r\n  }\r\n\r\n  // Check if v1-v3 'any' or object types will be converted\r\n  if (newSchema.type && (typeof newSchema.type.every === 'function' ?\r\n    !newSchema.type.every(type => simpleTypes.includes(type)) :\r\n    !simpleTypes.includes(newSchema.type)\r\n  )) {\r\n    changed = true;\r\n  }\r\n\r\n  // If schema changed, update or remove $schema identifier\r\n  if (typeof newSchema.$schema === 'string' &&\r\n    /http\\:\\/\\/json\\-schema\\.org\\/draft\\-0[1-4]\\/schema\\#/.test(newSchema.$schema)\r\n  ) {\r\n    newSchema.$schema = 'http://json-schema.org/draft-06/schema#';\r\n    changed = true;\r\n  } else if (changed && typeof newSchema.$schema === 'string') {\r\n    const addToDescription = 'Converted to draft 6 from ' + newSchema.$schema;\r\n    if (typeof newSchema.description === 'string' && newSchema.description.length) {\r\n      newSchema.description += '\\n' + addToDescription;\r\n    } else {\r\n      newSchema.description = addToDescription;\r\n    }\r\n    delete newSchema.$schema;\r\n  }\r\n\r\n  // Convert v1-v3 'any' and object types\r\n  if (newSchema.type && (typeof newSchema.type.every === 'function' ?\r\n    !newSchema.type.every(type => simpleTypes.includes(type)) :\r\n    !simpleTypes.includes(newSchema.type)\r\n  )) {\r\n    if (newSchema.type.length === 1) { newSchema.type = newSchema.type[0]; }\r\n    if (typeof newSchema.type === 'string') {\r\n      // Convert string 'any' type to array of all standard types\r\n      if (newSchema.type === 'any') {\r\n        newSchema.type = simpleTypes;\r\n      // Delete non-standard string type\r\n      } else {\r\n        delete newSchema.type;\r\n      }\r\n    } else if (typeof newSchema.type === 'object') {\r\n      if (typeof newSchema.type.every === 'function') {\r\n        // If array of strings, only allow standard types\r\n        if (newSchema.type.every(type => typeof type === 'string')) {\r\n          newSchema.type = newSchema.type.some(type => type === 'any') ?\r\n            newSchema.type = simpleTypes :\r\n            newSchema.type.filter(type => simpleTypes.includes(type));\r\n        // If type is an array with objects, convert the current schema to an 'anyOf' array\r\n        } else if (newSchema.type.length > 1) {\r\n          const arrayKeys = [ 'additionalItems', 'items', 'maxItems', 'minItems', 'uniqueItems', 'contains'];\r\n          const numberKeys = [ 'multipleOf', 'maximum', 'exclusiveMaximum', 'minimum', 'exclusiveMinimum'];\r\n          const objectKeys = [ 'maxProperties', 'minProperties', 'required', 'additionalProperties',\r\n            'properties', 'patternProperties', 'dependencies', 'propertyNames'];\r\n          const stringKeys = [ 'maxLength', 'minLength', 'pattern', 'format'];\r\n          const filterKeys = {\r\n            'array':   [ ...numberKeys, ...objectKeys, ...stringKeys ],\r\n            'integer': [  ...arrayKeys, ...objectKeys, ...stringKeys ],\r\n            'number':  [  ...arrayKeys, ...objectKeys, ...stringKeys ],\r\n            'object':  [  ...arrayKeys, ...numberKeys, ...stringKeys ],\r\n            'string':  [  ...arrayKeys, ...numberKeys, ...objectKeys ],\r\n            'all':     [  ...arrayKeys, ...numberKeys, ...objectKeys, ...stringKeys ],\r\n          };\r\n          const anyOf = [];\r\n          for (const type of newSchema.type) {\r\n            const newType = typeof type === 'string' ? { type } : { ...type };\r\n            Object.keys(newSchema)\r\n              .filter(key => !newType.hasOwnProperty(key) &&\r\n                ![ ...(filterKeys[newType.type] || filterKeys.all), 'type', 'default' ]\r\n                  .includes(key)\r\n              )\r\n              .forEach(key => newType[key] = newSchema[key]);\r\n            anyOf.push(newType);\r\n          }\r\n          newSchema = newSchema.hasOwnProperty('default') ?\r\n            { anyOf, default: newSchema.default } : { anyOf };\r\n        // If type is an object, merge it with the current schema\r\n        } else {\r\n          const typeSchema = newSchema.type;\r\n          delete newSchema.type;\r\n          Object.assign(newSchema, typeSchema);\r\n        }\r\n      }\r\n    } else {\r\n      delete newSchema.type;\r\n    }\r\n  }\r\n\r\n  // Convert sub schemas\r\n  Object.keys(newSchema)\r\n    .filter(key => typeof newSchema[key] === 'object')\r\n    .forEach(key => {\r\n      if (\r\n        [ 'definitions', 'dependencies', 'properties', 'patternProperties' ]\r\n          .includes(key) && typeof newSchema[key].map !== 'function'\r\n      ) {\r\n        const newKey = {};\r\n        Object.keys(newSchema[key]).forEach(subKey => newKey[subKey] =\r\n          convertSchemaToDraft6(newSchema[key][subKey], { changed, draft })\r\n        );\r\n        newSchema[key] = newKey;\r\n      } else if (\r\n        [ 'items', 'additionalItems', 'additionalProperties',\r\n          'allOf', 'anyOf', 'oneOf', 'not' ].includes(key)\r\n      ) {\r\n        newSchema[key] = convertSchemaToDraft6(newSchema[key], { changed, draft });\r\n      } else {\r\n        newSchema[key] = cloneDeep(newSchema[key]);\r\n      }\r\n    });\r\n\r\n  return newSchema;\r\n}\r\n","/**\r\n * 'dateToString' function\r\n *\r\n * @param  { Date | string } date\r\n * @param  { any } options\r\n * @return { string }\r\n */\r\nexport function dateToString(date, options: any = {}) {\r\n  const dateFormat = options.dateFormat || 'YYYY-MM-DD';\r\n  // TODO: Use options.locale to change default format and names\r\n  // const locale = options.locale || 'en-US';\r\n  if (typeof date === 'string') { date = stringToDate(date); }\r\n  if (Object.prototype.toString.call(date) !== '[object Date]') { return null; }\r\n  const longMonths = ['January', 'February', 'March', 'April', 'May', 'June',\r\n    'July', 'August', 'September', 'October', 'November', 'December'];\r\n  const shortMonths = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\r\n  const longDays = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\r\n  const shortDays = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\r\n  return dateFormat\r\n    .replace(/YYYY/ig, date.getFullYear() + '')\r\n    .replace(/YY/ig, (date.getFullYear() + '').slice(-2))\r\n    .replace(/MMMM/ig, longMonths[date.getMonth()])\r\n    .replace(/MMM/ig, shortMonths[date.getMonth()])\r\n    .replace(/MM/ig, ('0' + (date.getMonth() + 1)).slice(-2))\r\n    .replace(/M/ig, (date.getMonth() + 1) + '')\r\n    .replace(/DDDD/ig, longDays[date.getDay()])\r\n    .replace(/DDD/ig, shortDays[date.getDay()])\r\n    .replace(/DD/ig, ('0' + date.getDate()).slice(-2))\r\n    .replace(/D/ig, date.getDate() + '')\r\n    .replace(/S/ig, ordinal(date.getDate()));\r\n}\r\n\r\nexport function ordinal(number: number|string): string {\r\n  if (typeof number === 'number') { number = number + ''; }\r\n  const last = number.slice(-1);\r\n  const nextToLast = number.slice(-2, 1);\r\n  return (nextToLast !== '1' && { '1': 'st', '2': 'nd', '3': 'rd' }[last]) || 'th';\r\n}\r\n\r\n/**\r\n * 'stringToDate' function\r\n *\r\n * @param  { string } dateString\r\n * @return { Date }\r\n */\r\nexport function stringToDate(dateString) {\r\n  const getDate: string = findDate(dateString);\r\n  if (!getDate) { return null; }\r\n  let dateParts: number[] = [];\r\n  // Split x-y-z to [x, y, z]\r\n  if (/^\\d+[^\\d]\\d+[^\\d]\\d+$/.test(getDate)) {\r\n    dateParts = getDate.split(/[^\\d]/).map(part => +part);\r\n  // Split xxxxyyzz to [xxxx, yy, zz]\r\n  } else if (/^\\d{8}$/.test(getDate)) {\r\n    dateParts = [+getDate.slice(0, 4), +getDate.slice(4, 6), +getDate.slice(6)];\r\n  }\r\n  const thisYear = +(new Date().getFullYear() + '').slice(-2);\r\n  // Check for [YYYY, MM, DD]\r\n  if (dateParts[0] > 1000 && dateParts[0] < 2100 && dateParts[1] <= 12 && dateParts[2] <= 31) {\r\n    return new Date(dateParts[0], dateParts[1] - 1, dateParts[2]);\r\n  // Check for [MM, DD, YYYY]\r\n  } else if (dateParts[0] <= 12 && dateParts[1] <= 31 && dateParts[2] > 1000 && dateParts[2] < 2100) {\r\n    return new Date(dateParts[2], dateParts[0] - 1, dateParts[1]);\r\n  // Check for [MM, DD, YY]\r\n  } else if (dateParts[0] <= 12 && dateParts[1] <= 31 && dateParts[2] < 100) {\r\n    const year = (dateParts[2] <= thisYear ? 2000 : 1900) + dateParts[2];\r\n    return new Date(year, dateParts[0] - 1, dateParts[1]);\r\n  // Check for [YY, MM, DD]\r\n  } else if (dateParts[0] < 100 && dateParts[1] <= 12 && dateParts[2] <= 31) {\r\n    const year = (dateParts[0] <= thisYear ? 2000 : 1900) + dateParts[0];\r\n    return new Date(year, dateParts[1] - 1, dateParts[2]);\r\n  }\r\n  return null;\r\n}\r\n\r\n/**\r\n * 'findDate' function\r\n *\r\n * @param  { string } text\r\n * @return { string }\r\n */\r\nexport function findDate(text) {\r\n  if (!text) { return null; }\r\n  let foundDate: any[];\r\n  // Match ...YYYY-MM-DD...\r\n  foundDate = text.match(/(?:19|20)\\d\\d[-_\\\\\\/\\. ](?:0?\\d|1[012])[-_\\\\\\/\\. ](?:[012]?\\d|3[01])(?!\\d)/);\r\n  if (foundDate) { return foundDate[0]; }\r\n  // Match ...MM-DD-YYYY...\r\n  foundDate = text.match(/(?:[012]?\\d|3[01])[-_\\\\\\/\\. ](?:0?\\d|1[012])[-_\\\\\\/\\. ](?:19|20)\\d\\d(?!\\d)/);\r\n  if (foundDate) { return foundDate[0]; }\r\n  // Match MM-DD-YY...\r\n  foundDate = text.match(/^(?:[012]?\\d|3[01])[-_\\\\\\/\\. ](?:0?\\d|1[012])[-_\\\\\\/\\. ]\\d\\d(?!\\d)/);\r\n  if (foundDate) { return foundDate[0]; }\r\n  // Match YY-MM-DD...\r\n  foundDate = text.match(/^\\d\\d[-_\\\\\\/\\. ](?:[012]?\\d|3[01])[-_\\\\\\/\\. ](?:0?\\d|1[012])(?!\\d)/);\r\n  if (foundDate) { return foundDate[0]; }\r\n  // Match YYYYMMDD...\r\n  foundDate = text.match(/^(?:19|20)\\d\\d(?:0\\d|1[012])(?:[012]\\d|3[01])/);\r\n  if (foundDate) { return foundDate[0]; }\r\n}\r\n","import {\r\n  AbstractControl, FormArray, FormControl, FormGroup, ValidatorFn\r\n} from '@angular/forms';\r\n\r\nimport { cloneDeep, filter, map } from 'lodash';\r\n\r\nimport {\r\n  hasValue, inArray, isArray, isEmpty, isDate, isObject, isDefined, isPrimitive,\r\n  toJavaScriptType, toSchemaType, SchemaPrimitiveType\r\n} from './validator.functions';\r\nimport { forEach, hasOwn } from './utility.functions';\r\nimport { Pointer, JsonPointer } from './jsonpointer.functions';\r\nimport { JsonValidators } from './json.validators';\r\nimport {\r\n  combineAllOf, getControlValidators, getSubSchema, removeRecursiveReferences\r\n} from './json-schema.functions';\r\n\r\n/**\r\n * FormGroup function library:\r\n *\r\n * buildFormGroupTemplate:  Builds a FormGroupTemplate from schema\r\n *\r\n * buildFormGroup:          Builds an Angular FormGroup from a FormGroupTemplate\r\n *\r\n * mergeValues:\r\n *\r\n * setRequiredFields:\r\n *\r\n * formatFormData:\r\n *\r\n * getControl:\r\n *\r\n * ---- TODO: ----\r\n * TODO: add buildFormGroupTemplateFromLayout function\r\n * buildFormGroupTemplateFromLayout: Builds a FormGroupTemplate from a form layout\r\n */\r\n\r\n/**\r\n * 'buildFormGroupTemplate' function\r\n *\r\n * Builds a template for an Angular FormGroup from a JSON Schema.\r\n *\r\n * TODO: add support for pattern properties\r\n * https://spacetelescope.github.io/understanding-json-schema/reference/object.html\r\n *\r\n * @param  {any} jsf -\r\n * @param  {any = null} nodeValue -\r\n * @param  {boolean = true} mapArrays -\r\n * @param  {string = ''} schemaPointer -\r\n * @param  {string = ''} dataPointer -\r\n * @param  {any = ''} templatePointer -\r\n * @return {any} -\r\n */\r\nexport function buildFormGroupTemplate(\r\n  jsf: any, nodeValue: any = null, setValues = true,\r\n  schemaPointer = '', dataPointer = '', templatePointer = ''\r\n) {\r\n  const schema = JsonPointer.get(jsf.schema, schemaPointer);\r\n  if (setValues) {\r\n    if (!isDefined(nodeValue) && (\r\n      jsf.formOptions.setSchemaDefaults === true ||\r\n      (jsf.formOptions.setSchemaDefaults === 'auto' && isEmpty(jsf.formValues))\r\n    )) {\r\n      nodeValue = JsonPointer.get(jsf.schema, schemaPointer + '/default');\r\n    }\r\n  } else {\r\n    nodeValue = null;\r\n  }\r\n  // TODO: If nodeValue still not set, check layout for default value\r\n  const schemaType: string | string[] = JsonPointer.get(schema, '/type');\r\n  const controlType =\r\n    (hasOwn(schema, 'properties') || hasOwn(schema, 'additionalProperties')) &&\r\n      schemaType === 'object' ? 'FormGroup' :\r\n    (hasOwn(schema, 'items') || hasOwn(schema, 'additionalItems')) &&\r\n      schemaType === 'array' ? 'FormArray' :\r\n    !schemaType && hasOwn(schema, '$ref') ? '$ref' : 'FormControl';\r\n  const shortDataPointer =\r\n    removeRecursiveReferences(dataPointer, jsf.dataRecursiveRefMap, jsf.arrayMap);\r\n  if (!jsf.dataMap.has(shortDataPointer)) {\r\n    jsf.dataMap.set(shortDataPointer, new Map());\r\n  }\r\n  const nodeOptions = jsf.dataMap.get(shortDataPointer);\r\n  if (!nodeOptions.has('schemaType')) {\r\n    nodeOptions.set('schemaPointer', schemaPointer);\r\n    nodeOptions.set('schemaType', schema.type);\r\n    if (schema.format) {\r\n      nodeOptions.set('schemaFormat', schema.format);\r\n      if (!schema.type) { nodeOptions.set('schemaType', 'string'); }\r\n    }\r\n    if (controlType) {\r\n      nodeOptions.set('templatePointer', templatePointer);\r\n      nodeOptions.set('templateType', controlType);\r\n    }\r\n  }\r\n  let controls: any;\r\n  const validators = getControlValidators(schema);\r\n  switch (controlType) {\r\n\r\n    case 'FormGroup':\r\n      controls = {};\r\n      if (hasOwn(schema, 'ui:order') || hasOwn(schema, 'properties')) {\r\n        const propertyKeys = schema['ui:order'] || Object.keys(schema.properties);\r\n        if (propertyKeys.includes('*') && !hasOwn(schema.properties, '*')) {\r\n          const unnamedKeys = Object.keys(schema.properties)\r\n            .filter(key => !propertyKeys.includes(key));\r\n          for (let i = propertyKeys.length - 1; i >= 0; i--) {\r\n            if (propertyKeys[i] === '*') {\r\n              propertyKeys.splice(i, 1, ...unnamedKeys);\r\n            }\r\n          }\r\n        }\r\n        propertyKeys\r\n          .filter(key => hasOwn(schema.properties, key) ||\r\n            hasOwn(schema, 'additionalProperties')\r\n          )\r\n          .forEach(key => controls[key] = buildFormGroupTemplate(\r\n            jsf, JsonPointer.get(nodeValue, [<string>key]), setValues,\r\n            schemaPointer + (hasOwn(schema.properties, key) ?\r\n              '/properties/' + key : '/additionalProperties'\r\n            ),\r\n            dataPointer + '/' + key,\r\n            templatePointer + '/controls/' + key\r\n          ));\r\n        jsf.formOptions.fieldsRequired = setRequiredFields(schema, controls);\r\n      }\r\n      return { controlType, controls, validators };\r\n\r\n    case 'FormArray':\r\n      controls = [];\r\n      const minItems =\r\n        Math.max(schema.minItems || 0, nodeOptions.get('minItems') || 0);\r\n      const maxItems =\r\n        Math.min(schema.maxItems || 1000, nodeOptions.get('maxItems') || 1000);\r\n      let additionalItemsPointer: string = null;\r\n      if (isArray(schema.items)) { // 'items' is an array = tuple items\r\n        const tupleItems = nodeOptions.get('tupleItems') ||\r\n          (isArray(schema.items) ? Math.min(schema.items.length, maxItems) : 0);\r\n        for (let i = 0; i < tupleItems; i++) {\r\n          if (i < minItems) {\r\n            controls.push(buildFormGroupTemplate(\r\n              jsf, isArray(nodeValue) ? nodeValue[i] : nodeValue, setValues,\r\n              schemaPointer + '/items/' + i,\r\n              dataPointer + '/' + i,\r\n              templatePointer + '/controls/' + i\r\n            ));\r\n          } else {\r\n            const schemaRefPointer = removeRecursiveReferences(\r\n              schemaPointer + '/items/' + i, jsf.schemaRecursiveRefMap\r\n            );\r\n            const itemRefPointer = removeRecursiveReferences(\r\n              shortDataPointer + '/' + i, jsf.dataRecursiveRefMap, jsf.arrayMap\r\n            );\r\n            const itemRecursive = itemRefPointer !== shortDataPointer + '/' + i;\r\n            if (!hasOwn(jsf.templateRefLibrary, itemRefPointer)) {\r\n              jsf.templateRefLibrary[itemRefPointer] = null;\r\n              jsf.templateRefLibrary[itemRefPointer] = buildFormGroupTemplate(\r\n                jsf, null, setValues,\r\n                schemaRefPointer,\r\n                itemRefPointer,\r\n                templatePointer + '/controls/' + i\r\n              );\r\n            }\r\n            controls.push(\r\n              isArray(nodeValue) ?\r\n                buildFormGroupTemplate(\r\n                  jsf, nodeValue[i], setValues,\r\n                  schemaPointer + '/items/' + i,\r\n                  dataPointer + '/' + i,\r\n                  templatePointer + '/controls/' + i\r\n                ) :\r\n              itemRecursive ?\r\n                null : cloneDeep(jsf.templateRefLibrary[itemRefPointer])\r\n            );\r\n          }\r\n        }\r\n\r\n        // If 'additionalItems' is an object = additional list items (after tuple items)\r\n        if (schema.items.length < maxItems && isObject(schema.additionalItems)) {\r\n          additionalItemsPointer = schemaPointer + '/additionalItems';\r\n        }\r\n\r\n      // If 'items' is an object = list items only (no tuple items)\r\n      } else {\r\n        additionalItemsPointer = schemaPointer + '/items';\r\n      }\r\n\r\n      if (additionalItemsPointer) {\r\n        const schemaRefPointer = removeRecursiveReferences(\r\n          additionalItemsPointer, jsf.schemaRecursiveRefMap\r\n        );\r\n        const itemRefPointer = removeRecursiveReferences(\r\n          shortDataPointer + '/-', jsf.dataRecursiveRefMap, jsf.arrayMap\r\n        );\r\n        const itemRecursive = itemRefPointer !== shortDataPointer + '/-';\r\n        if (!hasOwn(jsf.templateRefLibrary, itemRefPointer)) {\r\n          jsf.templateRefLibrary[itemRefPointer] = null;\r\n          jsf.templateRefLibrary[itemRefPointer] = buildFormGroupTemplate(\r\n            jsf, null, setValues,\r\n            schemaRefPointer,\r\n            itemRefPointer,\r\n            templatePointer + '/controls/-'\r\n          );\r\n        }\r\n        // const itemOptions = jsf.dataMap.get(itemRefPointer) || new Map();\r\n        const itemOptions = nodeOptions;\r\n        if (!itemRecursive || hasOwn(validators, 'required')) {\r\n          const arrayLength = Math.min(Math.max(\r\n            itemRecursive ? 0 :\r\n              (itemOptions.get('tupleItems') + itemOptions.get('listItems')) || 0,\r\n            isArray(nodeValue) ? nodeValue.length : 0\r\n          ), maxItems);\r\n          for (let i = controls.length; i < arrayLength; i++) {\r\n            controls.push(\r\n              isArray(nodeValue) ?\r\n                buildFormGroupTemplate(\r\n                  jsf, nodeValue[i], setValues,\r\n                  schemaRefPointer,\r\n                  dataPointer + '/-',\r\n                  templatePointer + '/controls/-'\r\n                ) :\r\n                itemRecursive ?\r\n                  null : cloneDeep(jsf.templateRefLibrary[itemRefPointer])\r\n            );\r\n          }\r\n        }\r\n      }\r\n      return { controlType, controls, validators };\r\n\r\n    case '$ref':\r\n      const schemaRef = JsonPointer.compile(schema.$ref);\r\n      const dataRef = JsonPointer.toDataPointer(schemaRef, schema);\r\n      const refPointer = removeRecursiveReferences(\r\n        dataRef, jsf.dataRecursiveRefMap, jsf.arrayMap\r\n      );\r\n      if (refPointer && !hasOwn(jsf.templateRefLibrary, refPointer)) {\r\n        // Set to null first to prevent recursive reference from causing endless loop\r\n        jsf.templateRefLibrary[refPointer] = null;\r\n        const newTemplate = buildFormGroupTemplate(jsf, setValues, setValues, schemaRef);\r\n        if (newTemplate) {\r\n          jsf.templateRefLibrary[refPointer] = newTemplate;\r\n        } else {\r\n          delete jsf.templateRefLibrary[refPointer];\r\n        }\r\n      }\r\n      return null;\r\n\r\n    case 'FormControl':\r\n      const value = {\r\n        value: setValues && isPrimitive(nodeValue) ? nodeValue : null,\r\n        disabled: nodeOptions.get('disabled') || false\r\n      };\r\n      return { controlType, value, validators };\r\n\r\n    default:\r\n      return null;\r\n  }\r\n}\r\n\r\n/**\r\n * 'buildFormGroup' function\r\n *\r\n * @param {any} template -\r\n * @return {AbstractControl}\r\n*/\r\nexport function buildFormGroup(template: any): AbstractControl {\r\n  const validatorFns: ValidatorFn[] = [];\r\n  let validatorFn: ValidatorFn = null;\r\n  if (hasOwn(template, 'validators')) {\r\n    forEach(template.validators, (parameters, validator) => {\r\n      if (typeof JsonValidators[validator] === 'function') {\r\n        validatorFns.push(JsonValidators[validator].apply(null, parameters));\r\n      }\r\n    });\r\n    if (validatorFns.length &&\r\n      inArray(template.controlType, ['FormGroup', 'FormArray'])\r\n    ) {\r\n      validatorFn = validatorFns.length > 1 ?\r\n        JsonValidators.compose(validatorFns) : validatorFns[0];\r\n    }\r\n  }\r\n  if (hasOwn(template, 'controlType')) {\r\n    switch (template.controlType) {\r\n      case 'FormGroup':\r\n        const groupControls: { [key: string]: AbstractControl } = {};\r\n        forEach(template.controls, (controls, key) => {\r\n          const newControl: AbstractControl = buildFormGroup(controls);\r\n          if (newControl) { groupControls[key] = newControl; }\r\n        });\r\n        return new FormGroup(groupControls, validatorFn);\r\n      case 'FormArray':\r\n        return new FormArray(filter(map(template.controls,\r\n          controls => buildFormGroup(controls)\r\n        )), validatorFn);\r\n      case 'FormControl':\r\n        return new FormControl(template.value, validatorFns);\r\n    }\r\n  }\r\n  return null;\r\n}\r\n\r\n/**\r\n * 'mergeValues' function\r\n *\r\n * @param  {any[]} ...valuesToMerge - Multiple values to merge\r\n * @return {any} - Merged values\r\n */\r\nexport function mergeValues(...valuesToMerge) {\r\n  let mergedValues: any = null;\r\n  for (const currentValue of valuesToMerge) {\r\n    if (!isEmpty(currentValue)) {\r\n      if (typeof currentValue === 'object' &&\r\n        (isEmpty(mergedValues) || typeof mergedValues !== 'object')\r\n      ) {\r\n        if (isArray(currentValue)) {\r\n          mergedValues = [ ...currentValue ];\r\n        } else if (isObject(currentValue)) {\r\n          mergedValues = { ...currentValue };\r\n        }\r\n      } else if (typeof currentValue !== 'object') {\r\n        mergedValues = currentValue;\r\n      } else if (isObject(mergedValues) && isObject(currentValue)) {\r\n        Object.assign(mergedValues, currentValue);\r\n      } else if (isObject(mergedValues) && isArray(currentValue)) {\r\n        const newValues = [];\r\n        for (const value of currentValue) {\r\n          newValues.push(mergeValues(mergedValues, value));\r\n        }\r\n        mergedValues = newValues;\r\n      } else if (isArray(mergedValues) && isObject(currentValue)) {\r\n        const newValues = [];\r\n        for (const value of mergedValues) {\r\n          newValues.push(mergeValues(value, currentValue));\r\n        }\r\n        mergedValues = newValues;\r\n      } else if (isArray(mergedValues) && isArray(currentValue)) {\r\n        const newValues = [];\r\n        for (let i = 0; i < Math.max(mergedValues.length, currentValue.length); i++) {\r\n          if (i < mergedValues.length && i < currentValue.length) {\r\n            newValues.push(mergeValues(mergedValues[i], currentValue[i]));\r\n          } else if (i < mergedValues.length) {\r\n            newValues.push(mergedValues[i]);\r\n          } else if (i < currentValue.length) {\r\n            newValues.push(currentValue[i]);\r\n          }\r\n        }\r\n        mergedValues = newValues;\r\n      }\r\n    }\r\n  }\r\n  return mergedValues;\r\n}\r\n\r\n/**\r\n * 'setRequiredFields' function\r\n *\r\n * @param {schema} schema - JSON Schema\r\n * @param {object} formControlTemplate - Form Control Template object\r\n * @return {boolean} - true if any fields have been set to required, false if not\r\n */\r\nexport function setRequiredFields(schema: any, formControlTemplate: any): boolean {\r\n  let fieldsRequired = false;\r\n  if (hasOwn(schema, 'required') && !isEmpty(schema.required)) {\r\n    fieldsRequired = true;\r\n    let requiredArray = isArray(schema.required) ? schema.required : [schema.required];\r\n    requiredArray = forEach(requiredArray,\r\n      key => JsonPointer.set(formControlTemplate, '/' + key + '/validators/required', [])\r\n    );\r\n  }\r\n  return fieldsRequired;\r\n\r\n  // TODO: Add support for patternProperties\r\n  // https://spacetelescope.github.io/understanding-json-schema/reference/object.html#pattern-properties\r\n}\r\n\r\n/**\r\n * 'formatFormData' function\r\n *\r\n * @param {any} formData - Angular FormGroup data object\r\n * @param {Map<string, any>} dataMap -\r\n * @param {Map<string, string>} recursiveRefMap -\r\n * @param {Map<string, number>} arrayMap -\r\n * @param {boolean = false} fixErrors - if TRUE, tries to fix data\r\n * @return {any} - formatted data object\r\n */\r\nexport function formatFormData(\r\n  formData: any, dataMap: Map<string, any>,\r\n  recursiveRefMap: Map<string, string>, arrayMap: Map<string, number>,\r\n  returnEmptyFields = false, fixErrors = false\r\n): any {\r\n  if (formData === null || typeof formData !== 'object') { return formData; }\r\n  const formattedData = isArray(formData) ? [] : {};\r\n  JsonPointer.forEachDeep(formData, (value, dataPointer) => {\r\n\r\n    // If returnEmptyFields === true,\r\n    // add empty arrays and objects to all allowed keys\r\n    if (returnEmptyFields && isArray(value)) {\r\n      JsonPointer.set(formattedData, dataPointer, []);\r\n    } else if (returnEmptyFields && isObject(value) && !isDate(value)) {\r\n      JsonPointer.set(formattedData, dataPointer, {});\r\n    } else {\r\n      const genericPointer =\r\n        JsonPointer.has(dataMap, [dataPointer, 'schemaType']) ? dataPointer :\r\n          removeRecursiveReferences(dataPointer, recursiveRefMap, arrayMap);\r\n      if (JsonPointer.has(dataMap, [genericPointer, 'schemaType'])) {\r\n        const schemaType: SchemaPrimitiveType | SchemaPrimitiveType[] =\r\n          dataMap.get(genericPointer).get('schemaType');\r\n        if (schemaType === 'null') {\r\n          JsonPointer.set(formattedData, dataPointer, null);\r\n        } else if ((hasValue(value) || returnEmptyFields) &&\r\n          inArray(schemaType, ['string', 'integer', 'number', 'boolean'])\r\n        ) {\r\n          const newValue = (fixErrors || (value === null && returnEmptyFields)) ?\r\n            toSchemaType(value, schemaType) : toJavaScriptType(value, schemaType);\r\n          if (isDefined(newValue) || returnEmptyFields) {\r\n            JsonPointer.set(formattedData, dataPointer, newValue);\r\n          }\r\n\r\n        // If returnEmptyFields === false,\r\n        // only add empty arrays and objects to required keys\r\n        } else if (schemaType === 'object' && !returnEmptyFields) {\r\n          if (!Array.from(dataMap.keys()).some((item) => {return item.includes(dataPointer + '/'); })) {\r\n            JsonPointer.set(formattedData, dataPointer, value);\r\n          }\r\n\r\n          (dataMap.get(genericPointer).get('required') || []).forEach(key => {\r\n            const keySchemaType =\r\n              dataMap.get(`${genericPointer}/${key}`).get('schemaType');\r\n            if (keySchemaType === 'array') {\r\n              JsonPointer.set(formattedData, `${dataPointer}/${key}`, []);\r\n            } else if (keySchemaType === 'object') {\r\n              JsonPointer.set(formattedData, `${dataPointer}/${key}`, {});\r\n            }\r\n          });\r\n        }\r\n\r\n        // Finish incomplete 'date-time' entries\r\n        if (dataMap.get(genericPointer).get('schemaFormat') === 'date-time') {\r\n          // \"2000-03-14T01:59:26.535\" -> \"2000-03-14T01:59:26.535Z\" (add \"Z\")\r\n          if (/^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d[t\\s][0-2]\\d:[0-5]\\d:[0-5]\\d(?:\\.\\d+)?$/i.test(value)) {\r\n            JsonPointer.set(formattedData, dataPointer, `${value}Z`);\r\n          // \"2000-03-14T01:59\" -> \"2000-03-14T01:59:00Z\" (add \":00Z\")\r\n          } else if (/^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d[t\\s][0-2]\\d:[0-5]\\d$/i.test(value)) {\r\n            JsonPointer.set(formattedData, dataPointer, `${value}:00Z`);\r\n          // \"2000-03-14\" -> \"2000-03-14T00:00:00Z\" (add \"T00:00:00Z\")\r\n          } else if (fixErrors && /^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d$/i.test(value)) {\r\n            JsonPointer.set(formattedData, dataPointer, `${value}:00:00:00Z`);\r\n          }\r\n        }\r\n      } else if (typeof value !== 'object' || isDate(value) ||\r\n        (value === null && returnEmptyFields)\r\n      ) {\r\n        console.error('formatFormData error: ' +\r\n          `Schema type not found for form value at ${genericPointer}`);\r\n        console.error('dataMap', dataMap);\r\n        console.error('recursiveRefMap', recursiveRefMap);\r\n        console.error('genericPointer', genericPointer);\r\n      }\r\n    }\r\n  });\r\n  return formattedData;\r\n}\r\n\r\n/**\r\n * 'getControl' function\r\n *\r\n * Uses a JSON Pointer for a data object to retrieve a control from\r\n * an Angular formGroup or formGroup template. (Note: though a formGroup\r\n * template is much simpler, its basic structure is idential to a formGroup).\r\n *\r\n * If the optional third parameter 'returnGroup' is set to TRUE, the group\r\n * containing the control is returned, rather than the control itself.\r\n *\r\n * @param {FormGroup} formGroup - Angular FormGroup to get value from\r\n * @param {Pointer} dataPointer - JSON Pointer (string or array)\r\n * @param {boolean = false} returnGroup - If true, return group containing control\r\n * @return {group} - Located value (or null, if no control found)\r\n */\r\nexport function getControl(\r\n  formGroup: any, dataPointer: Pointer, returnGroup = false\r\n): any {\r\n  if (!isObject(formGroup) || !JsonPointer.isJsonPointer(dataPointer)) {\r\n    if (!JsonPointer.isJsonPointer(dataPointer)) {\r\n      // If dataPointer input is not a valid JSON pointer, check to\r\n      // see if it is instead a valid object path, using dot notaion\r\n      if (typeof dataPointer === 'string') {\r\n        const formControl = formGroup.get(dataPointer);\r\n        if (formControl) { return formControl; }\r\n      }\r\n      console.error(`getControl error: Invalid JSON Pointer: ${dataPointer}`);\r\n    }\r\n    if (!isObject(formGroup)) {\r\n      console.error(`getControl error: Invalid formGroup: ${formGroup}`);\r\n    }\r\n    return null;\r\n  }\r\n  let dataPointerArray = JsonPointer.parse(dataPointer);\r\n  if (returnGroup) { dataPointerArray = dataPointerArray.slice(0, -1); }\r\n\r\n  // If formGroup input is a real formGroup (not a formGroup template)\r\n  // try using formGroup.get() to return the control\r\n  if (typeof formGroup.get === 'function' &&\r\n    dataPointerArray.every(key => key.indexOf('.') === -1)\r\n  ) {\r\n    const formControl = formGroup.get(dataPointerArray.join('.'));\r\n    if (formControl) { return formControl; }\r\n  }\r\n\r\n  // If formGroup input is a formGroup template,\r\n  // or formGroup.get() failed to return the control,\r\n  // search the formGroup object for dataPointer's control\r\n  let subGroup = formGroup;\r\n  for (const key of dataPointerArray) {\r\n    if (hasOwn(subGroup, 'controls')) { subGroup = subGroup.controls; }\r\n    if (isArray(subGroup) && (key === '-')) {\r\n      subGroup = subGroup[subGroup.length - 1];\r\n    } else if (hasOwn(subGroup, key)) {\r\n      subGroup = subGroup[key];\r\n    } else {\r\n      console.error(`getControl error: Unable to find \"${key}\" item in FormGroup.`);\r\n      console.error(dataPointer);\r\n      console.error(formGroup);\r\n      return;\r\n    }\r\n  }\r\n  return subGroup;\r\n}\r\n","// tslint:disable max-line-length\r\n// updated from AJV fast format regular expressions:\r\n// https://github.com/epoberezkin/ajv/blob/master/lib/compile/formats.js\r\n\r\nexport const jsonSchemaFormatTests = {\r\n\r\n  'date': /^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d$/,\r\n\r\n  'time': /^[0-2]\\d:[0-5]\\d:[0-5]\\d(?:\\.\\d+)?(?:z|[+-]\\d\\d:\\d\\d)?$/i,\r\n\r\n  // Modified to allow incomplete entries, such as\r\n  // \"2000-03-14T01:59:26.535\" (needs \"Z\") or \"2000-03-14T01:59\" (needs \":00Z\")\r\n  'date-time': /^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d[t\\s][0-2]\\d:[0-5]\\d(?::[0-5]\\d)?(?:\\.\\d+)?(?:z|[+-]\\d\\d:\\d\\d)?$/i,\r\n\r\n  // email (sources from jsen validator):\r\n  // http://stackoverflow.com/questions/201323/using-a-regular-expression-to-validate-an-email-address#answer-8829363\r\n  // http://www.w3.org/TR/html5/forms.html#valid-e-mail-address (search for 'willful violation')\r\n  'email': /^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,\r\n\r\n  'hostname': /^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i,\r\n\r\n  // optimized https://www.safaribooksonline.com/library/view/regular-expressions-cookbook/9780596802837/ch07s16.html\r\n  'ipv4': /^(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/,\r\n\r\n  // optimized http://stackoverflow.com/questions/53497/regular-expression-that-matches-valid-ipv6-addresses\r\n  'ipv6': /^\\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(?:%.+)?\\s*$/i,\r\n\r\n  // uri: https://github.com/mafintosh/is-my-json-valid/blob/master/formats.js\r\n  'uri': /^(?:[a-z][a-z0-9+-.]*)(?::|\\/)\\/?[^\\s]*$/i,\r\n\r\n  // uri fragment: https://tools.ietf.org/html/rfc3986#appendix-A\r\n  'uri-reference': /^(?:(?:[a-z][a-z0-9+-.]*:)?\\/\\/)?[^\\s]*$/i,\r\n\r\n  // uri-template: https://tools.ietf.org/html/rfc6570\r\n  'uri-template': /^(?:(?:[^\\x00-\\x20\"'<>%\\\\^`{|}]|%[0-9a-f]{2})|\\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?)*\\})*$/i,\r\n\r\n  // For the source: https://gist.github.com/dperini/729294\r\n  // For test cases: https://mathiasbynens.be/demo/url-regex\r\n  // @todo Delete current URL in favour of the commented out URL rule when this ajv issue is fixed https://github.com/eslint/eslint/issues/7983.\r\n  // URL: /^(?:(?:https?|ftp):\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!10(?:\\.\\d{1,3}){3})(?!127(?:\\.\\d{1,3}){3})(?!169\\.254(?:\\.\\d{1,3}){2})(?!192\\.168(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u{00a1}-\\u{ffff}0-9]+-?)*[a-z\\u{00a1}-\\u{ffff}0-9]+)(?:\\.(?:[a-z\\u{00a1}-\\u{ffff}0-9]+-?)*[a-z\\u{00a1}-\\u{ffff}0-9]+)*(?:\\.(?:[a-z\\u{00a1}-\\u{ffff}]{2,})))(?::\\d{2,5})?(?:\\/[^\\s]*)?$/iu,\r\n  'url': /^(?:(?:http[s\\u017F]?|ftp):\\/\\/)(?:(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+(?::(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*)?@)?(?:(?!10(?:\\.[0-9]{1,3}){3})(?!127(?:\\.[0-9]{1,3}){3})(?!169\\.254(?:\\.[0-9]{1,3}){2})(?!192\\.168(?:\\.[0-9]{1,3}){2})(?!172\\.(?:1[6-9]|2[0-9]|3[01])(?:\\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+-?)*(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+)(?:\\.(?:(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+-?)*(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+)*(?:\\.(?:(?:[KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\\/(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*)?$/i,\r\n\r\n  // uuid: http://tools.ietf.org/html/rfc4122\r\n  'uuid': /^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,\r\n\r\n  // optimized https://gist.github.com/olmokramer/82ccce673f86db7cda5e\r\n  'color': /^\\s*(#(?:[\\da-f]{3}){1,2}|rgb\\((?:\\d{1,3},\\s*){2}\\d{1,3}\\)|rgba\\((?:\\d{1,3},\\s*){3}\\d*\\.?\\d+\\)|hsl\\(\\d{1,3}(?:,\\s*\\d{1,3}%){2}\\)|hsla\\(\\d{1,3}(?:,\\s*\\d{1,3}%){2},\\s*\\d*\\.?\\d+\\))\\s*$/gi,\r\n\r\n  // JSON-pointer: https://tools.ietf.org/html/rfc6901\r\n  'json-pointer': /^(?:\\/(?:[^~/]|~0|~1)*)*$|^#(?:\\/(?:[a-z0-9_\\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,\r\n\r\n  'relative-json-pointer': /^(?:0|[1-9][0-9]*)(?:#|(?:\\/(?:[^~/]|~0|~1)*)*)$/,\r\n\r\n  'regex': function(str) {\r\n    if (/[^\\\\]\\\\Z/.test(str)) { return false; }\r\n    try {\r\n      // tslint:disable-next-line no-unused-expression\r\n      new RegExp(str);\r\n      return true;\r\n    } catch(e) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n};\r\n\r\nexport type JsonSchemaFormatNames =\r\n  'date'|'time'|'date-time'|'email'|'hostname'|'ipv4'|'ipv6'|\r\n  'uri'|'uri-reference'|'uri-template'|'url'|'uuid'|'color'|\r\n  'json-pointer'|'relative-json-pointer'|'regex';\r\n","// Warning: Changing the following order may cause errors if the new order\r\n// causes a library to be imported before another library it depends on.\r\n\r\nexport {\r\n  _executeValidators, _executeAsyncValidators, _mergeObjects, _mergeErrors,\r\n  isDefined, hasValue, isEmpty, isString, isNumber, isInteger, isBoolean,\r\n  isFunction, isObject, isArray, isDate, isMap, isSet, isPromise, isObservable,\r\n  getType, isType, isPrimitive, toJavaScriptType, toSchemaType, _toPromise,\r\n  toObservable, inArray, xor, SchemaPrimitiveType, SchemaType, JavaScriptPrimitiveType,\r\n  JavaScriptType, PrimitiveValue, PlainObject, IValidatorFn, AsyncIValidatorFn\r\n} from './validator.functions';\r\n\r\nexport {\r\n  addClasses, copy, forEach, forEachCopy, hasOwn, mergeFilteredObject,\r\n  uniqueItems, commonItems, fixTitle, toTitleCase\r\n} from './utility.functions';\r\n\r\nexport { Pointer, JsonPointer } from './jsonpointer.functions';\r\n\r\nexport { JsonValidators } from './json.validators';\r\n\r\nexport {\r\n  buildSchemaFromLayout, buildSchemaFromData, getFromSchema,\r\n  removeRecursiveReferences, getInputType, checkInlineType, isInputRequired,\r\n  updateInputOptions, getTitleMapFromOneOf, getControlValidators,\r\n  resolveSchemaReferences, getSubSchema, combineAllOf, fixRequiredArrayProperties\r\n} from './json-schema.functions';\r\n\r\nexport { convertSchemaToDraft6 } from './convert-schema-to-draft6.function';\r\n\r\nexport { mergeSchemas } from './merge-schemas.function';\r\n\r\nexport {\r\n  buildFormGroupTemplate, buildFormGroup, formatFormData,\r\n  getControl, setRequiredFields\r\n} from './form-group.functions';\r\n\r\nexport {\r\n  buildLayout, buildLayoutFromSchema, mapLayout, getLayoutNode, buildTitleMap\r\n} from './layout.functions';\r\n\r\nexport { dateToString, stringToDate, findDate } from './date.functions';\r\n\r\nexport { OrderableDirective } from './orderable.directive';\r\n","import { cloneDeep } from 'lodash';\r\n\r\nimport {\r\n  getType, hasValue, inArray, isArray, isEmpty, isFunction, isNumber, isObject,\r\n  isString\r\n} from './validator.functions';\r\nimport {\r\n  forEach, hasOwn, mergeFilteredObject, uniqueItems, commonItems\r\n} from './utility.functions';\r\nimport { mergeSchemas } from './merge-schemas.function';\r\nimport { JsonPointer, Pointer } from './jsonpointer.functions';\r\nimport { JsonValidators } from './json.validators';\r\n\r\n/**\r\n * JSON Schema function library:\r\n *\r\n * buildSchemaFromLayout:   TODO: Write this function\r\n *\r\n * buildSchemaFromData:\r\n *\r\n * getFromSchema:\r\n *\r\n * removeRecursiveReferences:\r\n *\r\n * getInputType:\r\n *\r\n * checkInlineType:\r\n *\r\n * isInputRequired:\r\n *\r\n * updateInputOptions:\r\n *\r\n * getTitleMapFromOneOf:\r\n *\r\n * getControlValidators:\r\n *\r\n * resolveSchemaReferences:\r\n *\r\n * getSubSchema:\r\n *\r\n * combineAllOf:\r\n *\r\n * fixRequiredArrayProperties:\r\n */\r\n\r\n/**\r\n * 'buildSchemaFromLayout' function\r\n *\r\n * TODO: Build a JSON Schema from a JSON Form layout\r\n *\r\n * @param  { any[] } layout - The JSON Form layout\r\n * @return { any } - The new JSON Schema\r\n */\r\nexport function buildSchemaFromLayout(layout) {\r\n  return;\r\n  // let newSchema: any = { };\r\n  // const walkLayout = (layoutItems: any[], callback: Function): any[] => {\r\n  //   let returnArray: any[] = [];\r\n  //   for (let layoutItem of layoutItems) {\r\n  //     const returnItem: any = callback(layoutItem);\r\n  //     if (returnItem) { returnArray = returnArray.concat(callback(layoutItem)); }\r\n  //     if (layoutItem.items) {\r\n  //       returnArray = returnArray.concat(walkLayout(layoutItem.items, callback));\r\n  //     }\r\n  //   }\r\n  //   return returnArray;\r\n  // };\r\n  // walkLayout(layout, layoutItem => {\r\n  //   let itemKey: string;\r\n  //   if (typeof layoutItem === 'string') {\r\n  //     itemKey = layoutItem;\r\n  //   } else if (layoutItem.key) {\r\n  //     itemKey = layoutItem.key;\r\n  //   }\r\n  //   if (!itemKey) { return; }\r\n  //   //\r\n  // });\r\n}\r\n\r\n/**\r\n * 'buildSchemaFromData' function\r\n *\r\n * Build a JSON Schema from a data object\r\n *\r\n * @param  { any } data - The data object\r\n * @param  { boolean = false } requireAllFields - Require all fields?\r\n * @param  { boolean = true } isRoot - is root\r\n * @return { any } - The new JSON Schema\r\n */\r\nexport function buildSchemaFromData(\r\n  data, requireAllFields = false, isRoot = true\r\n) {\r\n  const newSchema: any = {};\r\n  const getFieldType = (value: any): string => {\r\n    const fieldType = getType(value, 'strict');\r\n    return { integer: 'number', null: 'string' }[fieldType] || fieldType;\r\n  };\r\n  const buildSubSchema = (value) =>\r\n    buildSchemaFromData(value, requireAllFields, false);\r\n  if (isRoot) { newSchema.$schema = 'http://json-schema.org/draft-06/schema#'; }\r\n  newSchema.type = getFieldType(data);\r\n  if (newSchema.type === 'object') {\r\n    newSchema.properties = {};\r\n    if (requireAllFields) { newSchema.required = []; }\r\n    for (const key of Object.keys(data)) {\r\n      newSchema.properties[key] = buildSubSchema(data[key]);\r\n      if (requireAllFields) { newSchema.required.push(key); }\r\n    }\r\n  } else if (newSchema.type === 'array') {\r\n    newSchema.items = data.map(buildSubSchema);\r\n    // If all items are the same type, use an object for items instead of an array\r\n    if ((new Set(data.map(getFieldType))).size === 1) {\r\n      newSchema.items = newSchema.items.reduce((a, b) => ({ ...a, ...b }), {});\r\n    }\r\n    if (requireAllFields) { newSchema.minItems = 1; }\r\n  }\r\n  return newSchema;\r\n}\r\n\r\n/**\r\n * 'getFromSchema' function\r\n *\r\n * Uses a JSON Pointer for a value within a data object to retrieve\r\n * the schema for that value within schema for the data object.\r\n *\r\n * The optional third parameter can also be set to return something else:\r\n * 'schema' (default): the schema for the value indicated by the data pointer\r\n * 'parentSchema': the schema for the value's parent object or array\r\n * 'schemaPointer': a pointer to the value's schema within the object's schema\r\n * 'parentSchemaPointer': a pointer to the schema for the value's parent object or array\r\n *\r\n * @param  { any } schema - The schema to get the sub-schema from\r\n * @param  { Pointer } dataPointer - JSON Pointer (string or array)\r\n * @param  { string = 'schema' } returnType - what to return?\r\n * @return { any } - The located sub-schema\r\n */\r\nexport function getFromSchema(schema, dataPointer, returnType = 'schema') {\r\n  const dataPointerArray: any[] = JsonPointer.parse(dataPointer);\r\n  if (dataPointerArray === null) {\r\n    console.error(`getFromSchema error: Invalid JSON Pointer: ${dataPointer}`);\r\n    return null;\r\n  }\r\n  let subSchema = schema;\r\n  const schemaPointer = [];\r\n  const length = dataPointerArray.length;\r\n  if (returnType.slice(0, 6) === 'parent') { dataPointerArray.length--; }\r\n  for (let i = 0; i < length; ++i) {\r\n    const parentSchema = subSchema;\r\n    const key = dataPointerArray[i];\r\n    let subSchemaFound = false;\r\n    if (typeof subSchema !== 'object') {\r\n      console.error(`getFromSchema error: Unable to find \"${key}\" key in schema.`);\r\n      console.error(schema);\r\n      console.error(dataPointer);\r\n      return null;\r\n    }\r\n    if (subSchema.type === 'array' && (!isNaN(key) || key === '-')) {\r\n      if (hasOwn(subSchema, 'items')) {\r\n        if (isObject(subSchema.items)) {\r\n          subSchemaFound = true;\r\n          subSchema = subSchema.items;\r\n          schemaPointer.push('items');\r\n        } else if (isArray(subSchema.items)) {\r\n          if (!isNaN(key) && subSchema.items.length >= +key) {\r\n            subSchemaFound = true;\r\n            subSchema = subSchema.items[+key];\r\n            schemaPointer.push('items', key);\r\n          }\r\n        }\r\n      }\r\n      if (!subSchemaFound && isObject(subSchema.additionalItems)) {\r\n        subSchemaFound = true;\r\n        subSchema = subSchema.additionalItems;\r\n        schemaPointer.push('additionalItems');\r\n      } else if (subSchema.additionalItems !== false) {\r\n        subSchemaFound = true;\r\n        subSchema = { };\r\n        schemaPointer.push('additionalItems');\r\n      }\r\n    } else if (subSchema.type === 'object') {\r\n      if (isObject(subSchema.properties) && hasOwn(subSchema.properties, key)) {\r\n        subSchemaFound = true;\r\n        subSchema = subSchema.properties[key];\r\n        schemaPointer.push('properties', key);\r\n      } else if (isObject(subSchema.additionalProperties)) {\r\n        subSchemaFound = true;\r\n        subSchema = subSchema.additionalProperties;\r\n        schemaPointer.push('additionalProperties');\r\n      } else if (subSchema.additionalProperties !== false) {\r\n        subSchemaFound = true;\r\n        subSchema = { };\r\n        schemaPointer.push('additionalProperties');\r\n      }\r\n    }\r\n    if (!subSchemaFound) {\r\n      console.error(`getFromSchema error: Unable to find \"${key}\" item in schema.`);\r\n      console.error(schema);\r\n      console.error(dataPointer);\r\n      return;\r\n    }\r\n  }\r\n  return returnType.slice(-7) === 'Pointer' ? schemaPointer : subSchema;\r\n}\r\n\r\n/**\r\n * 'removeRecursiveReferences' function\r\n *\r\n * Checks a JSON Pointer against a map of recursive references and returns\r\n * a JSON Pointer to the shallowest equivalent location in the same object.\r\n *\r\n * Using this functions enables an object to be constructed with unlimited\r\n * recursion, while maintaing a fixed set of metadata, such as field data types.\r\n * The object can grow as large as it wants, and deeply recursed nodes can\r\n * just refer to the metadata for their shallow equivalents, instead of having\r\n * to add additional redundant metadata for each recursively added node.\r\n *\r\n * Example:\r\n *\r\n * pointer:         '/stuff/and/more/and/more/and/more/and/more/stuff'\r\n * recursiveRefMap: [['/stuff/and/more/and/more', '/stuff/and/more/']]\r\n * returned:        '/stuff/and/more/stuff'\r\n *\r\n * @param  { Pointer } pointer -\r\n * @param  { Map<string, string> } recursiveRefMap -\r\n * @param  { Map<string, number> = new Map() } arrayMap - optional\r\n * @return { string } -\r\n */\r\nexport function removeRecursiveReferences(\r\n  pointer, recursiveRefMap, arrayMap = new Map()\r\n) {\r\n  if (!pointer) { return ''; }\r\n  let genericPointer =\r\n    JsonPointer.toGenericPointer(JsonPointer.compile(pointer), arrayMap);\r\n  if (genericPointer.indexOf('/') === -1) { return genericPointer; }\r\n  let possibleReferences = true;\r\n  while (possibleReferences) {\r\n    possibleReferences = false;\r\n    recursiveRefMap.forEach((toPointer, fromPointer) => {\r\n      if (JsonPointer.isSubPointer(toPointer, fromPointer)) {\r\n        while (JsonPointer.isSubPointer(fromPointer, genericPointer, true)) {\r\n          genericPointer = JsonPointer.toGenericPointer(\r\n            toPointer + genericPointer.slice(fromPointer.length), arrayMap\r\n          );\r\n          possibleReferences = true;\r\n        }\r\n      }\r\n    });\r\n  }\r\n  return genericPointer;\r\n}\r\n\r\n/**\r\n * 'getInputType' function\r\n *\r\n * @param  { any } schema\r\n * @param  { any = null } layoutNode\r\n * @return { string }\r\n */\r\nexport function getInputType(schema, layoutNode: any = null) {\r\n  // x-schema-form = Angular Schema Form compatibility\r\n  // widget & component = React Jsonschema Form compatibility\r\n  const controlType = JsonPointer.getFirst([\r\n    [schema, '/x-schema-form/type'],\r\n    [schema, '/x-schema-form/widget/component'],\r\n    [schema, '/x-schema-form/widget'],\r\n    [schema, '/widget/component'],\r\n    [schema, '/widget']\r\n  ]);\r\n  if (isString(controlType)) { return checkInlineType(controlType, schema, layoutNode); }\r\n  let schemaType = schema.type;\r\n  if (schemaType) {\r\n    if (isArray(schemaType)) { // If multiple types listed, use most inclusive type\r\n      schemaType =\r\n        inArray('object', schemaType) && hasOwn(schema, 'properties') ? 'object' :\r\n        inArray('array', schemaType) && hasOwn(schema, 'items') ? 'array' :\r\n        inArray('array', schemaType) && hasOwn(schema, 'additionalItems') ? 'array' :\r\n        inArray('string', schemaType) ? 'string' :\r\n        inArray('number', schemaType) ? 'number' :\r\n        inArray('integer', schemaType) ? 'integer' :\r\n        inArray('boolean', schemaType) ? 'boolean' : 'unknown';\r\n    }\r\n    if (schemaType === 'boolean') { return 'checkbox'; }\r\n    if (schemaType === 'object') {\r\n      if (hasOwn(schema, 'properties') || hasOwn(schema, 'additionalProperties')) {\r\n        return 'section';\r\n      }\r\n      // TODO: Figure out how to handle additionalProperties\r\n      if (hasOwn(schema, '$ref')) { return '$ref'; }\r\n    }\r\n    if (schemaType === 'array') {\r\n      const itemsObject = JsonPointer.getFirst([\r\n        [schema, '/items'],\r\n        [schema, '/additionalItems']\r\n      ]) || {};\r\n      return hasOwn(itemsObject, 'enum') && schema.maxItems !== 1 ?\r\n        checkInlineType('checkboxes', schema, layoutNode) : 'array';\r\n    }\r\n    if (schemaType === 'null') { return 'none'; }\r\n    if (JsonPointer.has(layoutNode, '/options/titleMap') ||\r\n      hasOwn(schema, 'enum') || getTitleMapFromOneOf(schema, null, true)\r\n    ) { return 'select'; }\r\n    if (schemaType === 'number' || schemaType === 'integer') {\r\n      return (schemaType === 'integer' || hasOwn(schema, 'multipleOf')) &&\r\n        hasOwn(schema, 'maximum') && hasOwn(schema, 'minimum') ? 'range' : schemaType;\r\n    }\r\n    if (schemaType === 'string') {\r\n      return {\r\n        'color': 'color',\r\n        'date': 'date',\r\n        'date-time': 'datetime-local',\r\n        'email': 'email',\r\n        'uri': 'url',\r\n      }[schema.format] || 'text';\r\n    }\r\n  }\r\n  if (hasOwn(schema, '$ref')) { return '$ref'; }\r\n  if (isArray(schema.oneOf) || isArray(schema.anyOf)) { return 'one-of'; }\r\n  console.error(`getInputType error: Unable to determine input type for ${schemaType}`);\r\n  console.error('schema', schema);\r\n  if (layoutNode) { console.error('layoutNode', layoutNode); }\r\n  return 'none';\r\n}\r\n\r\n/**\r\n * 'checkInlineType' function\r\n *\r\n * Checks layout and schema nodes for 'inline: true', and converts\r\n * 'radios' or 'checkboxes' to 'radios-inline' or 'checkboxes-inline'\r\n *\r\n * @param  { string } controlType -\r\n * @param  { any } schema -\r\n * @param  { any = null } layoutNode -\r\n * @return { string }\r\n */\r\nexport function checkInlineType(controlType, schema, layoutNode: any = null) {\r\n  if (!isString(controlType) || (\r\n    controlType.slice(0, 8) !== 'checkbox' && controlType.slice(0, 5) !== 'radio'\r\n  )) {\r\n    return controlType;\r\n  }\r\n  if (\r\n    JsonPointer.getFirst([\r\n      [layoutNode, '/inline'],\r\n      [layoutNode, '/options/inline'],\r\n      [schema, '/inline'],\r\n      [schema, '/x-schema-form/inline'],\r\n      [schema, '/x-schema-form/options/inline'],\r\n      [schema, '/x-schema-form/widget/inline'],\r\n      [schema, '/x-schema-form/widget/component/inline'],\r\n      [schema, '/x-schema-form/widget/component/options/inline'],\r\n      [schema, '/widget/inline'],\r\n      [schema, '/widget/component/inline'],\r\n      [schema, '/widget/component/options/inline'],\r\n    ]) === true\r\n  ) {\r\n    return controlType.slice(0, 5) === 'radio' ?\r\n      'radios-inline' : 'checkboxes-inline';\r\n  } else {\r\n    return controlType;\r\n  }\r\n}\r\n\r\n/**\r\n * 'isInputRequired' function\r\n *\r\n * Checks a JSON Schema to see if an item is required\r\n *\r\n * @param  { any } schema - the schema to check\r\n * @param  { string } schemaPointer - the pointer to the item to check\r\n * @return { boolean } - true if the item is required, false if not\r\n */\r\nexport function isInputRequired(schema, schemaPointer) {\r\n  if (!isObject(schema)) {\r\n    console.error('isInputRequired error: Input schema must be an object.');\r\n    return false;\r\n  }\r\n  const listPointerArray = JsonPointer.parse(schemaPointer);\r\n  if (isArray(listPointerArray)) {\r\n    if (!listPointerArray.length) { return schema.required === true; }\r\n    const keyName = listPointerArray.pop();\r\n    const nextToLastKey = listPointerArray[listPointerArray.length - 1];\r\n    if (['properties', 'additionalProperties', 'patternProperties', 'items', 'additionalItems']\r\n      .includes(nextToLastKey)\r\n    ) {\r\n      listPointerArray.pop();\r\n    }\r\n    const parentSchema = JsonPointer.get(schema, listPointerArray) || {};\r\n    if (isArray(parentSchema.required)) {\r\n      return parentSchema.required.includes(keyName);\r\n    }\r\n    if (parentSchema.type === 'array') {\r\n      return hasOwn(parentSchema, 'minItems') &&\r\n        isNumber(keyName) &&\r\n        +parentSchema.minItems > +keyName;\r\n    }\r\n  }\r\n  return false;\r\n}\r\n\r\n/**\r\n * 'updateInputOptions' function\r\n *\r\n * @param  { any } layoutNode\r\n * @param  { any } schema\r\n * @param  { any } jsf\r\n * @return { void }\r\n */\r\nexport function updateInputOptions(layoutNode, schema, jsf) {\r\n  if (!isObject(layoutNode) || !isObject(layoutNode.options)) { return; }\r\n\r\n  // Set all option values in layoutNode.options\r\n  const newOptions: any = { };\r\n  const fixUiKeys = key => key.slice(0, 3).toLowerCase() === 'ui:' ? key.slice(3) : key;\r\n  mergeFilteredObject(newOptions, jsf.formOptions.defautWidgetOptions, [], fixUiKeys);\r\n  [ [ JsonPointer.get(schema, '/ui:widget/options'), [] ],\r\n    [ JsonPointer.get(schema, '/ui:widget'), [] ],\r\n    [ schema, [\r\n      'additionalProperties', 'additionalItems', 'properties', 'items',\r\n      'required', 'type', 'x-schema-form', '$ref'\r\n    ] ],\r\n    [ JsonPointer.get(schema, '/x-schema-form/options'), [] ],\r\n    [ JsonPointer.get(schema, '/x-schema-form'), ['items', 'options'] ],\r\n    [ layoutNode, [\r\n      '_id', '$ref', 'arrayItem', 'arrayItemType', 'dataPointer', 'dataType',\r\n      'items', 'key', 'name', 'options', 'recursiveReference', 'type', 'widget'\r\n    ] ],\r\n    [ layoutNode.options, [] ],\r\n  ].forEach(([ object, excludeKeys ]) =>\r\n    mergeFilteredObject(newOptions, object, excludeKeys, fixUiKeys)\r\n  );\r\n  if (!hasOwn(newOptions, 'titleMap')) {\r\n    let newTitleMap: any = null;\r\n    newTitleMap = getTitleMapFromOneOf(schema, newOptions.flatList);\r\n    if (newTitleMap) { newOptions.titleMap = newTitleMap; }\r\n    if (!hasOwn(newOptions, 'titleMap') && !hasOwn(newOptions, 'enum') && hasOwn(schema, 'items')) {\r\n      if (JsonPointer.has(schema, '/items/titleMap')) {\r\n        newOptions.titleMap = schema.items.titleMap;\r\n      } else if (JsonPointer.has(schema, '/items/enum')) {\r\n        newOptions.enum = schema.items.enum;\r\n        if (!hasOwn(newOptions, 'enumNames') && JsonPointer.has(schema, '/items/enumNames')) {\r\n          newOptions.enumNames = schema.items.enumNames;\r\n        }\r\n      } else if (JsonPointer.has(schema, '/items/oneOf')) {\r\n        newTitleMap = getTitleMapFromOneOf(schema.items, newOptions.flatList);\r\n        if (newTitleMap) { newOptions.titleMap = newTitleMap; }\r\n      }\r\n    }\r\n  }\r\n\r\n  // If schema type is integer, enforce by setting multipleOf = 1\r\n  if (schema.type === 'integer' && !hasValue(newOptions.multipleOf)) {\r\n    newOptions.multipleOf = 1;\r\n  }\r\n\r\n  // Copy any typeahead word lists to options.typeahead.source\r\n  if (JsonPointer.has(newOptions, '/autocomplete/source')) {\r\n    newOptions.typeahead = newOptions.autocomplete;\r\n  } else if (JsonPointer.has(newOptions, '/tagsinput/source')) {\r\n    newOptions.typeahead = newOptions.tagsinput;\r\n  } else if (JsonPointer.has(newOptions, '/tagsinput/typeahead/source')) {\r\n    newOptions.typeahead = newOptions.tagsinput.typeahead;\r\n  }\r\n\r\n  layoutNode.options = newOptions;\r\n}\r\n\r\n/**\r\n * 'getTitleMapFromOneOf' function\r\n *\r\n * @param  { schema } schema\r\n * @param  { boolean = null } flatList\r\n * @param  { boolean = false } validateOnly\r\n * @return { validators }\r\n */\r\nexport function getTitleMapFromOneOf(\r\n  schema: any = {}, flatList: boolean = null, validateOnly = false\r\n) {\r\n  let titleMap = null;\r\n  const oneOf = schema.oneOf || schema.anyOf || null;\r\n  if (isArray(oneOf) && oneOf.every(item => item.title)) {\r\n    if (oneOf.every(item => isArray(item.enum) && item.enum.length === 1)) {\r\n      if (validateOnly) { return true; }\r\n      titleMap = oneOf.map(item => ({ name: item.title, value: item.enum[0] }));\r\n    } else if (oneOf.every(item => item.const)) {\r\n      if (validateOnly) { return true; }\r\n      titleMap = oneOf.map(item => ({ name: item.title, value: item.const }));\r\n    }\r\n\r\n    // if flatList !== false and some items have colons, make grouped map\r\n    if (flatList !== false && (titleMap || [])\r\n      .filter(title => ((title || {}).name || '').indexOf(': ')).length > 1\r\n    ) {\r\n\r\n      // Split name on first colon to create grouped map (name -> group: name)\r\n      const newTitleMap = titleMap.map(title => {\r\n        const [group, name] = title.name.split(/: (.+)/);\r\n        return group && name ? { ...title, group, name } : title;\r\n      });\r\n\r\n      // If flatList === true or at least one group has multiple items, use grouped map\r\n      if (flatList === true || newTitleMap.some((title, index) => index &&\r\n        hasOwn(title, 'group') && title.group === newTitleMap[index - 1].group\r\n      )) {\r\n        titleMap = newTitleMap;\r\n      }\r\n    }\r\n  }\r\n  return validateOnly ? false : titleMap;\r\n}\r\n\r\n/**\r\n * 'getControlValidators' function\r\n *\r\n * @param { any } schema\r\n * @return { validators }\r\n */\r\nexport function getControlValidators(schema) {\r\n  if (!isObject(schema)) { return null; }\r\n  const validators: any = { };\r\n  if (hasOwn(schema, 'type')) {\r\n    switch (schema.type) {\r\n      case 'string':\r\n        forEach(['pattern', 'format', 'minLength', 'maxLength'], (prop) => {\r\n          if (hasOwn(schema, prop)) { validators[prop] = [schema[prop]]; }\r\n        });\r\n      break;\r\n      case 'number': case 'integer':\r\n        forEach(['Minimum', 'Maximum'], (ucLimit) => {\r\n          const eLimit = 'exclusive' + ucLimit;\r\n          const limit = ucLimit.toLowerCase();\r\n          if (hasOwn(schema, limit)) {\r\n            const exclusive = hasOwn(schema, eLimit) && schema[eLimit] === true;\r\n            validators[limit] = [schema[limit], exclusive];\r\n          }\r\n        });\r\n        forEach(['multipleOf', 'type'], (prop) => {\r\n          if (hasOwn(schema, prop)) { validators[prop] = [schema[prop]]; }\r\n        });\r\n      break;\r\n      case 'object':\r\n        forEach(['minProperties', 'maxProperties', 'dependencies'], (prop) => {\r\n          if (hasOwn(schema, prop)) { validators[prop] = [schema[prop]]; }\r\n        });\r\n      break;\r\n      case 'array':\r\n        forEach(['minItems', 'maxItems', 'uniqueItems'], (prop) => {\r\n          if (hasOwn(schema, prop)) { validators[prop] = [schema[prop]]; }\r\n        });\r\n      break;\r\n    }\r\n  }\r\n  if (hasOwn(schema, 'enum')) { validators.enum = [schema.enum]; }\r\n  return validators;\r\n}\r\n\r\n/**\r\n * 'resolveSchemaReferences' function\r\n *\r\n * Find all $ref links in schema and save links and referenced schemas in\r\n * schemaRefLibrary, schemaRecursiveRefMap, and dataRecursiveRefMap\r\n *\r\n * @param { any } schema\r\n * @param { any } schemaRefLibrary\r\n * @param { Map<string, string> } schemaRecursiveRefMap\r\n * @param { Map<string, string> } dataRecursiveRefMap\r\n * @param { Map<string, number> } arrayMap\r\n * @return { any }\r\n */\r\nexport function resolveSchemaReferences(\r\n  schema, schemaRefLibrary, schemaRecursiveRefMap, dataRecursiveRefMap, arrayMap\r\n) {\r\n  if (!isObject(schema)) {\r\n    console.error('resolveSchemaReferences error: schema must be an object.');\r\n    return;\r\n  }\r\n  const refLinks = new Set<string>();\r\n  const refMapSet = new Set<string>();\r\n  const refMap = new Map<string, string>();\r\n  const recursiveRefMap = new Map<string, string>();\r\n  const refLibrary: any = {};\r\n\r\n  // Search schema for all $ref links, and build full refLibrary\r\n  JsonPointer.forEachDeep(schema, (subSchema, subSchemaPointer) => {\r\n    if (hasOwn(subSchema, '$ref') && isString(subSchema['$ref'])) {\r\n      const refPointer = JsonPointer.compile(subSchema['$ref']);\r\n      refLinks.add(refPointer);\r\n      refMapSet.add(subSchemaPointer + '~~' + refPointer);\r\n      refMap.set(subSchemaPointer, refPointer);\r\n    }\r\n  });\r\n  refLinks.forEach(ref => refLibrary[ref] = getSubSchema(schema, ref));\r\n\r\n  // Follow all ref links and save in refMapSet,\r\n  // to find any multi-link recursive refernces\r\n  let checkRefLinks = true;\r\n  while (checkRefLinks) {\r\n    checkRefLinks = false;\r\n    Array.from(refMap).forEach(([fromRef1, toRef1]) => Array.from(refMap)\r\n      .filter(([fromRef2, toRef2]) =>\r\n        JsonPointer.isSubPointer(toRef1, fromRef2, true) &&\r\n        !JsonPointer.isSubPointer(toRef2, toRef1, true) &&\r\n        !refMapSet.has(fromRef1 + fromRef2.slice(toRef1.length) + '~~' + toRef2)\r\n      )\r\n      .forEach(([fromRef2, toRef2]) => {\r\n        refMapSet.add(fromRef1 + fromRef2.slice(toRef1.length) + '~~' + toRef2);\r\n        checkRefLinks = true;\r\n      })\r\n    );\r\n  }\r\n\r\n  // Build full recursiveRefMap\r\n  // First pass - save all internally recursive refs from refMapSet\r\n  Array.from(refMapSet)\r\n    .map(refLink => refLink.split('~~'))\r\n    .filter(([fromRef, toRef]) => JsonPointer.isSubPointer(toRef, fromRef))\r\n    .forEach(([fromRef, toRef]) => recursiveRefMap.set(fromRef, toRef));\r\n  // Second pass - create recursive versions of any other refs that link to recursive refs\r\n  Array.from(refMap)\r\n    .filter(([fromRef1, toRef1]) => Array.from(recursiveRefMap.keys())\r\n      .every(fromRef2 => !JsonPointer.isSubPointer(fromRef1, fromRef2, true))\r\n    )\r\n    .forEach(([fromRef1, toRef1]) => Array.from(recursiveRefMap)\r\n      .filter(([fromRef2, toRef2]) =>\r\n        !recursiveRefMap.has(fromRef1 + fromRef2.slice(toRef1.length)) &&\r\n        JsonPointer.isSubPointer(toRef1, fromRef2, true) &&\r\n        !JsonPointer.isSubPointer(toRef1, fromRef1, true)\r\n      )\r\n      .forEach(([fromRef2, toRef2]) => recursiveRefMap.set(\r\n        fromRef1 + fromRef2.slice(toRef1.length),\r\n        fromRef1 + toRef2.slice(toRef1.length)\r\n      ))\r\n    );\r\n\r\n  // Create compiled schema by replacing all non-recursive $ref links with\r\n  // thieir linked schemas and, where possible, combining schemas in allOf arrays.\r\n  let compiledSchema = { ...schema };\r\n  delete compiledSchema.definitions;\r\n  compiledSchema =\r\n    getSubSchema(compiledSchema, '', refLibrary, recursiveRefMap);\r\n\r\n  // Make sure all remaining schema $refs are recursive, and build final\r\n  // schemaRefLibrary, schemaRecursiveRefMap, dataRecursiveRefMap, & arrayMap\r\n  JsonPointer.forEachDeep(compiledSchema, (subSchema, subSchemaPointer) => {\r\n    if (isString(subSchema['$ref'])) {\r\n      let refPointer = JsonPointer.compile(subSchema['$ref']);\r\n      if (!JsonPointer.isSubPointer(refPointer, subSchemaPointer, true)) {\r\n        refPointer = removeRecursiveReferences(subSchemaPointer, recursiveRefMap);\r\n        JsonPointer.set(compiledSchema, subSchemaPointer, { $ref: `#${refPointer}` });\r\n      }\r\n      if (!hasOwn(schemaRefLibrary, 'refPointer')) {\r\n        schemaRefLibrary[refPointer] = !refPointer.length ? compiledSchema :\r\n          getSubSchema(compiledSchema, refPointer, schemaRefLibrary, recursiveRefMap);\r\n      }\r\n      if (!schemaRecursiveRefMap.has(subSchemaPointer)) {\r\n        schemaRecursiveRefMap.set(subSchemaPointer, refPointer);\r\n      }\r\n      const fromDataRef = JsonPointer.toDataPointer(subSchemaPointer, compiledSchema);\r\n      if (!dataRecursiveRefMap.has(fromDataRef)) {\r\n        const toDataRef = JsonPointer.toDataPointer(refPointer, compiledSchema);\r\n        dataRecursiveRefMap.set(fromDataRef, toDataRef);\r\n      }\r\n    }\r\n    if (subSchema.type === 'array' &&\r\n      (hasOwn(subSchema, 'items') || hasOwn(subSchema, 'additionalItems'))\r\n    ) {\r\n      const dataPointer = JsonPointer.toDataPointer(subSchemaPointer, compiledSchema);\r\n      if (!arrayMap.has(dataPointer)) {\r\n        const tupleItems = isArray(subSchema.items) ? subSchema.items.length : 0;\r\n        arrayMap.set(dataPointer, tupleItems);\r\n      }\r\n    }\r\n  }, true);\r\n  return compiledSchema;\r\n}\r\n\r\n/**\r\n * 'getSubSchema' function\r\n *\r\n * @param  { any } schema\r\n * @param  { Pointer } pointer\r\n * @param  { object } schemaRefLibrary\r\n * @param  { Map<string, string> } schemaRecursiveRefMap\r\n * @param  { string[] = [] } usedPointers\r\n * @return { any }\r\n */\r\nexport function getSubSchema(\r\n  schema, pointer, schemaRefLibrary = null,\r\n  schemaRecursiveRefMap: Map<string, string> = null, usedPointers: string[] = []\r\n) {\r\n  if (!schemaRefLibrary || !schemaRecursiveRefMap) {\r\n    return JsonPointer.getCopy(schema, pointer);\r\n  }\r\n  if (typeof pointer !== 'string') { pointer = JsonPointer.compile(pointer); }\r\n  usedPointers = [ ...usedPointers, pointer ];\r\n  let newSchema: any = null;\r\n  if (pointer === '') {\r\n    newSchema = cloneDeep(schema);\r\n  } else {\r\n    const shortPointer = removeRecursiveReferences(pointer, schemaRecursiveRefMap);\r\n    if (shortPointer !== pointer) { usedPointers = [ ...usedPointers, shortPointer ]; }\r\n    newSchema = JsonPointer.getFirstCopy([\r\n      [schemaRefLibrary, [shortPointer]],\r\n      [schema, pointer],\r\n      [schema, shortPointer]\r\n    ]);\r\n  }\r\n  return JsonPointer.forEachDeepCopy(newSchema, (subSchema, subPointer) => {\r\n    if (isObject(subSchema)) {\r\n\r\n      // Replace non-recursive $ref links with referenced schemas\r\n      if (isString(subSchema.$ref)) {\r\n        const refPointer = JsonPointer.compile(subSchema.$ref);\r\n        if (refPointer.length && usedPointers.every(ptr =>\r\n          !JsonPointer.isSubPointer(refPointer, ptr, true)\r\n        )) {\r\n          const refSchema = getSubSchema(\r\n            schema, refPointer, schemaRefLibrary, schemaRecursiveRefMap, usedPointers\r\n          );\r\n          if (Object.keys(subSchema).length === 1) {\r\n            return refSchema;\r\n          } else {\r\n            const extraKeys = { ...subSchema };\r\n            delete extraKeys.$ref;\r\n            return mergeSchemas(refSchema, extraKeys);\r\n          }\r\n        }\r\n      }\r\n\r\n      // TODO: Convert schemas with 'type' arrays to 'oneOf'\r\n\r\n      // Combine allOf subSchemas\r\n      if (isArray(subSchema.allOf)) { return combineAllOf(subSchema); }\r\n\r\n      // Fix incorrectly placed array object required lists\r\n      if (subSchema.type === 'array' && isArray(subSchema.required)) {\r\n        return fixRequiredArrayProperties(subSchema);\r\n      }\r\n    }\r\n    return subSchema;\r\n  }, true, <string>pointer);\r\n}\r\n\r\n/**\r\n * 'combineAllOf' function\r\n *\r\n * Attempt to convert an allOf schema object into\r\n * a non-allOf schema object with equivalent rules.\r\n *\r\n * @param  { any } schema - allOf schema object\r\n * @return { any } - converted schema object\r\n */\r\nexport function combineAllOf(schema) {\r\n  if (!isObject(schema) || !isArray(schema.allOf)) { return schema; }\r\n  let mergedSchema = mergeSchemas(...schema.allOf);\r\n  if (Object.keys(schema).length > 1) {\r\n    const extraKeys = { ...schema };\r\n    delete extraKeys.allOf;\r\n    mergedSchema = mergeSchemas(mergedSchema, extraKeys);\r\n  }\r\n  return mergedSchema;\r\n}\r\n\r\n/**\r\n * 'fixRequiredArrayProperties' function\r\n *\r\n * Fixes an incorrectly placed required list inside an array schema, by moving\r\n * it into items.properties or additionalItems.properties, where it belongs.\r\n *\r\n * @param  { any } schema - allOf schema object\r\n * @return { any } - converted schema object\r\n */\r\nexport function fixRequiredArrayProperties(schema) {\r\n  if (schema.type === 'array' && isArray(schema.required)) {\r\n    const itemsObject = hasOwn(schema.items, 'properties') ? 'items' :\r\n      hasOwn(schema.additionalItems, 'properties') ? 'additionalItems' : null;\r\n    if (itemsObject && !hasOwn(schema[itemsObject], 'required') && (\r\n      hasOwn(schema[itemsObject], 'additionalProperties') ||\r\n      schema.required.every(key => hasOwn(schema[itemsObject].properties, key))\r\n    )) {\r\n      schema = cloneDeep(schema);\r\n      schema[itemsObject].required = schema.required;\r\n      delete schema.required;\r\n    }\r\n  }\r\n  return schema;\r\n}\r\n","import { AbstractControl, ValidationErrors, ValidatorFn } from '@angular/forms';\r\nimport { Observable, forkJoin } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\n\r\nimport { isEqual } from 'lodash';\r\n\r\nimport {\r\n  _executeValidators, _executeAsyncValidators, _mergeObjects, _mergeErrors,\r\n  isEmpty, isDefined, hasValue, isString, isNumber, isBoolean, isArray,\r\n  getType, isType, toJavaScriptType, toObservable, xor, SchemaPrimitiveType,\r\n  PlainObject, IValidatorFn, AsyncIValidatorFn\r\n} from './validator.functions';\r\nimport { forEachCopy } from './utility.functions';\r\nimport { jsonSchemaFormatTests, JsonSchemaFormatNames } from './format-regex.constants';\r\n\r\n/**\r\n * 'JsonValidators' class\r\n *\r\n * Provides an extended set of validators to be used by form controls,\r\n * compatible with standard JSON Schema validation options.\r\n * http://json-schema.org/latest/json-schema-validation.html\r\n *\r\n * Note: This library is designed as a drop-in replacement for the Angular\r\n * Validators library, and except for one small breaking change to the 'pattern'\r\n * validator (described below) it can even be imported as a substitute, like so:\r\n *\r\n *   import { JsonValidators as Validators } from 'json-validators';\r\n *\r\n * and it should work with existing code as a complete replacement.\r\n *\r\n * The one exception is the 'pattern' validator, which has been changed to\r\n * matche partial values by default (the standard 'pattern' validator wrapped\r\n * all patterns in '^' and '$', forcing them to always match an entire value).\r\n * However, the old behavior can be restored by simply adding '^' and '$'\r\n * around your patterns, or by passing an optional second parameter of TRUE.\r\n * This change is to make the 'pattern' validator match the behavior of a\r\n * JSON Schema pattern, which allows partial matches, rather than the behavior\r\n * of an HTML input control pattern, which does not.\r\n *\r\n * This library replaces Angular's validators and combination functions\r\n * with the following validators and transformation functions:\r\n *\r\n * Validators:\r\n *   For all formControls:     required (*), type, enum, const\r\n *   For text formControls:    minLength (*), maxLength (*), pattern (*), format\r\n *   For numeric formControls: maximum, exclusiveMaximum,\r\n *                             minimum, exclusiveMinimum, multipleOf\r\n *   For formGroup objects:    minProperties, maxProperties, dependencies\r\n *   For formArray arrays:     minItems, maxItems, uniqueItems, contains\r\n *   Not used by JSON Schema:  min (*), max (*), requiredTrue (*), email (*)\r\n * (Validators originally included with Angular are maked with (*).)\r\n *\r\n * NOTE / TODO: The dependencies validator is not complete.\r\n * NOTE / TODO: The contains validator is not complete.\r\n *\r\n * Validators not used by JSON Schema (but included for compatibility)\r\n * and their JSON Schema equivalents:\r\n *\r\n *   Angular validator | JSON Schema equivalent\r\n *   ------------------|-----------------------\r\n *     min(number)     |   minimum(number)\r\n *     max(number)     |   maximum(number)\r\n *     requiredTrue()  |   const(true)\r\n *     email()         |   format('email')\r\n *\r\n * Validator transformation functions:\r\n *   composeAnyOf, composeOneOf, composeAllOf, composeNot\r\n * (Angular's original combination funciton, 'compose', is also included for\r\n * backward compatibility, though it is functionally equivalent to composeAllOf,\r\n * asside from its more generic error message.)\r\n *\r\n * All validators have also been extended to accept an optional second argument\r\n * which, if passed a TRUE value, causes the validator to perform the opposite\r\n * of its original finction. (This is used internally to enable 'not' and\r\n * 'composeOneOf' to function and return useful error messages.)\r\n *\r\n * The 'required' validator has also been overloaded so that if called with\r\n * a boolean parameter (or no parameters) it returns the original validator\r\n * function (rather than executing it). However, if it is called with an\r\n * AbstractControl parameter (as was previously required), it behaves\r\n * exactly as before.\r\n *\r\n * This enables all validators (including 'required') to be constructed in\r\n * exactly the same way, so they can be automatically applied using the\r\n * equivalent key names and values taken directly from a JSON Schema.\r\n *\r\n * This source code is partially derived from Angular,\r\n * which is Copyright (c) 2014-2017 Google, Inc.\r\n * Use of this source code is therefore governed by the same MIT-style license\r\n * that can be found in the LICENSE file at https://angular.io/license\r\n *\r\n * Original Angular Validators:\r\n * https://github.com/angular/angular/blob/master/packages/forms/src/validators.ts\r\n */\r\nexport class JsonValidators {\r\n\r\n  /**\r\n   * Validator functions:\r\n   *\r\n   * For all formControls:     required, type, enum, const\r\n   * For text formControls:    minLength, maxLength, pattern, format\r\n   * For numeric formControls: maximum, exclusiveMaximum,\r\n   *                           minimum, exclusiveMinimum, multipleOf\r\n   * For formGroup objects:    minProperties, maxProperties, dependencies\r\n   * For formArray arrays:     minItems, maxItems, uniqueItems, contains\r\n   *\r\n   * TODO: finish dependencies validator\r\n   */\r\n\r\n  /**\r\n   * 'required' validator\r\n   *\r\n   * This validator is overloaded, compared to the default required validator.\r\n   * If called with no parameters, or TRUE, this validator returns the\r\n   * 'required' validator function (rather than executing it). This matches\r\n   * the behavior of all other validators in this library.\r\n   *\r\n   * If this validator is called with an AbstractControl parameter\r\n   * (as was previously required) it behaves the same as Angular's default\r\n   * required validator, and returns an error if the control is empty.\r\n   *\r\n   * Old behavior: (if input type = AbstractControl)\r\n   * @param {AbstractControl} control - required control\r\n   * @return {{[key: string]: boolean}} - returns error message if no input\r\n   *\r\n   * New behavior: (if no input, or input type = boolean)\r\n   * @param {boolean = true} required? - true to validate, false to disable\r\n   * @return {IValidatorFn} - returns the 'required' validator function itself\r\n   */\r\n  static required(input: AbstractControl): ValidationErrors|null;\r\n  static required(input?: boolean): IValidatorFn;\r\n\r\n  static required(input?: AbstractControl|boolean): ValidationErrors|null|IValidatorFn {\r\n    if (input === undefined) { input = true; }\r\n    switch (input) {\r\n      case true: // Return required function (do not execute it yet)\r\n        return (control: AbstractControl, invert = false): ValidationErrors|null => {\r\n          if (invert) { return null; } // if not required, always return valid\r\n          return hasValue(control.value) ? null : { 'required': true };\r\n        };\r\n      case false: // Do nothing (if field is not required, it is always valid)\r\n        return JsonValidators.nullValidator;\r\n      default: // Execute required function\r\n        return hasValue((<AbstractControl>input).value) ? null : { 'required': true };\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 'type' validator\r\n   *\r\n   * Requires a control to only accept values of a specified type,\r\n   * or one of an array of types.\r\n   *\r\n   * Note: SchemaPrimitiveType = 'string'|'number'|'integer'|'boolean'|'null'\r\n   *\r\n   * @param {SchemaPrimitiveType|SchemaPrimitiveType[]} type - type(s) to accept\r\n   * @return {IValidatorFn}\r\n   */\r\n  static type(requiredType: SchemaPrimitiveType|SchemaPrimitiveType[]): IValidatorFn {\r\n    if (!hasValue(requiredType)) { return JsonValidators.nullValidator; }\r\n    return (control: AbstractControl, invert = false): ValidationErrors|null => {\r\n      if (isEmpty(control.value)) { return null; }\r\n      const currentValue: any = control.value;\r\n      const isValid = isArray(requiredType) ?\r\n        (<SchemaPrimitiveType[]>requiredType).some(type => isType(currentValue, type)) :\r\n        isType(currentValue, <SchemaPrimitiveType>requiredType);\r\n      return xor(isValid, invert) ?\r\n        null : { 'type': { requiredType, currentValue } };\r\n    };\r\n  }\r\n\r\n  /**\r\n   * 'enum' validator\r\n   *\r\n   * Requires a control to have a value from an enumerated list of values.\r\n   *\r\n   * Converts types as needed to allow string inputs to still correctly\r\n   * match number, boolean, and null enum values.\r\n   *\r\n   * @param {any[]} allowedValues - array of acceptable values\r\n   * @return {IValidatorFn}\r\n   */\r\n  static enum(allowedValues: any[]): IValidatorFn {\r\n    if (!isArray(allowedValues)) { return JsonValidators.nullValidator; }\r\n    return (control: AbstractControl, invert = false): ValidationErrors|null => {\r\n      if (isEmpty(control.value)) { return null; }\r\n      const currentValue: any = control.value;\r\n      const isEquals = (enumValue, inputValue) =>\r\n        enumValue === inputValue ||\r\n        (isNumber(enumValue) && +inputValue === +enumValue) ||\r\n        (isBoolean(enumValue, 'strict') &&\r\n          toJavaScriptType(inputValue, 'boolean') === enumValue) ||\r\n        (enumValue === null && !hasValue(inputValue)) ||\r\n        isEqual(enumValue, inputValue);\r\n      const isValid = isArray(currentValue) ?\r\n        currentValue.every(inputValue => allowedValues.some(enumValue =>\r\n          isEquals(enumValue, inputValue)\r\n        )) :\r\n        allowedValues.some(enumValue => isEquals(enumValue, currentValue));\r\n      return xor(isValid, invert) ?\r\n        null : { 'enum': { allowedValues, currentValue } };\r\n    };\r\n  }\r\n\r\n  /**\r\n   * 'const' validator\r\n   *\r\n   * Requires a control to have a specific value.\r\n   *\r\n   * Converts types as needed to allow string inputs to still correctly\r\n   * match number, boolean, and null values.\r\n   *\r\n   * TODO: modify to work with objects\r\n   *\r\n   * @param {any[]} requiredValue - required value\r\n   * @return {IValidatorFn}\r\n   */\r\n  static const(requiredValue: any): IValidatorFn {\r\n    if (!hasValue(requiredValue)) { return JsonValidators.nullValidator; }\r\n    return (control: AbstractControl, invert = false): ValidationErrors|null => {\r\n      if (isEmpty(control.value)) { return null; }\r\n      const currentValue: any = control.value;\r\n      const isEquals = (constValue, inputValue) =>\r\n        constValue === inputValue ||\r\n        isNumber(constValue) && +inputValue === +constValue ||\r\n        isBoolean(constValue, 'strict') &&\r\n          toJavaScriptType(inputValue, 'boolean') === constValue ||\r\n        constValue === null && !hasValue(inputValue);\r\n      const isValid = isEquals(requiredValue, currentValue);\r\n      return xor(isValid, invert) ?\r\n        null : { 'const': { requiredValue, currentValue } };\r\n    };\r\n  }\r\n\r\n  /**\r\n   * 'minLength' validator\r\n   *\r\n   * Requires a control's text value to be greater than a specified length.\r\n   *\r\n   * @param {number} minimumLength - minimum allowed string length\r\n   * @param {boolean = false} invert - instead return error object only if valid\r\n   * @return {IValidatorFn}\r\n   */\r\n  static minLength(minimumLength: number): IValidatorFn {\r\n    if (!hasValue(minimumLength)) { return JsonValidators.nullValidator; }\r\n    return (control: AbstractControl, invert = false): ValidationErrors|null => {\r\n      if (isEmpty(control.value)) { return null; }\r\n      const currentLength = isString(control.value) ? control.value.length : 0;\r\n      const isValid = currentLength >= minimumLength;\r\n      return xor(isValid, invert) ?\r\n        null : { 'minLength': { minimumLength, currentLength } };\r\n    };\r\n  }\r\n\r\n  /**\r\n   * 'maxLength' validator\r\n   *\r\n   * Requires a control's text value to be less than a specified length.\r\n   *\r\n   * @param {number} maximumLength - maximum allowed string length\r\n   * @param {boolean = false} invert - instead return error object only if valid\r\n   * @return {IValidatorFn}\r\n   */\r\n  static maxLength(maximumLength: number): IValidatorFn {\r\n    if (!hasValue(maximumLength)) { return JsonValidators.nullValidator; }\r\n    return (control: AbstractControl, invert = false): ValidationErrors|null => {\r\n      const currentLength = isString(control.value) ? control.value.length : 0;\r\n      const isValid = currentLength <= maximumLength;\r\n      return xor(isValid, invert) ?\r\n        null : { 'maxLength': { maximumLength, currentLength } };\r\n    };\r\n  }\r\n\r\n  /**\r\n   * 'pattern' validator\r\n   *\r\n   * Note: NOT the same as Angular's default pattern validator.\r\n   *\r\n   * Requires a control's value to match a specified regular expression pattern.\r\n   *\r\n   * This validator changes the behavior of default pattern validator\r\n   * by replacing RegExp(`^${pattern}$`) with RegExp(`${pattern}`),\r\n   * which allows for partial matches.\r\n   *\r\n   * To return to the default funcitonality, and match the entire string,\r\n   * pass TRUE as the optional second parameter.\r\n   *\r\n   * @param {string} pattern - regular expression pattern\r\n   * @param {boolean = false} wholeString - match whole value string?\r\n   * @return {IValidatorFn}\r\n   */\r\n  static pattern(pattern: string|RegExp, wholeString = false): IValidatorFn {\r\n    if (!hasValue(pattern)) { return JsonValidators.nullValidator; }\r\n    return (control: AbstractControl, invert = false): ValidationErrors|null => {\r\n      if (isEmpty(control.value)) { return null; }\r\n      let regex: RegExp;\r\n      let requiredPattern: string;\r\n      if (typeof pattern === 'string') {\r\n        requiredPattern = (wholeString) ? `^${pattern}$` : pattern;\r\n        regex = new RegExp(requiredPattern);\r\n      } else {\r\n        requiredPattern = pattern.toString();\r\n        regex = pattern;\r\n      }\r\n      const currentValue: string = control.value;\r\n      const isValid = isString(currentValue) ? regex.test(currentValue) : false;\r\n      return xor(isValid, invert) ?\r\n        null : { 'pattern': { requiredPattern, currentValue } };\r\n    };\r\n  }\r\n\r\n  /**\r\n   * 'format' validator\r\n   *\r\n   * Requires a control to have a value of a certain format.\r\n   *\r\n   * This validator currently checks the following formsts:\r\n   *   date, time, date-time, email, hostname, ipv4, ipv6,\r\n   *   uri, uri-reference, uri-template, url, uuid, color,\r\n   *   json-pointer, relative-json-pointer, regex\r\n   *\r\n   * Fast format regular expressions copied from AJV:\r\n   * https://github.com/epoberezkin/ajv/blob/master/lib/compile/formats.js\r\n   *\r\n   * @param {JsonSchemaFormatNames} requiredFormat - format to check\r\n   * @return {IValidatorFn}\r\n   */\r\n  static format(requiredFormat: JsonSchemaFormatNames): IValidatorFn {\r\n    if (!hasValue(requiredFormat)) { return JsonValidators.nullValidator; }\r\n    return (control: AbstractControl, invert = false): ValidationErrors|null => {\r\n      if (isEmpty(control.value)) { return null; }\r\n      let isValid: boolean;\r\n      const currentValue: string|Date = control.value;\r\n      if (isString(currentValue)) {\r\n        const formatTest: Function|RegExp = jsonSchemaFormatTests[requiredFormat];\r\n        if (typeof formatTest === 'object') {\r\n          isValid = (<RegExp>formatTest).test(<string>currentValue);\r\n        } else if (typeof formatTest === 'function') {\r\n          isValid = (<Function>formatTest)(<string>currentValue);\r\n        } else {\r\n          console.error(`format validator error: \"${requiredFormat}\" is not a recognized format.`);\r\n          isValid = true;\r\n        }\r\n      } else {\r\n        // Allow JavaScript Date objects\r\n        isValid = ['date', 'time', 'date-time'].includes(requiredFormat) &&\r\n          Object.prototype.toString.call(currentValue) === '[object Date]';\r\n      }\r\n      return xor(isValid, invert) ?\r\n        null : { 'format': { requiredFormat, currentValue } };\r\n    };\r\n  }\r\n\r\n  /**\r\n   * 'minimum' validator\r\n   *\r\n   * Requires a control's numeric value to be greater than or equal to\r\n   * a minimum amount.\r\n   *\r\n   * Any non-numeric value is also valid (according to the HTML forms spec,\r\n   * a non-numeric value doesn't have a minimum).\r\n   * https://www.w3.org/TR/html5/forms.html#attr-input-max\r\n   *\r\n   * @param {number} minimum - minimum allowed value\r\n   * @return {IValidatorFn}\r\n   */\r\n  static minimum(minimumValue: number): IValidatorFn {\r\n    if (!hasValue(minimumValue)) { return JsonValidators.nullValidator; }\r\n    return (control: AbstractControl, invert = false): ValidationErrors|null => {\r\n      if (isEmpty(control.value)) { return null; }\r\n      const currentValue = control.value;\r\n      const isValid = !isNumber(currentValue) || currentValue >= minimumValue;\r\n      return xor(isValid, invert) ?\r\n        null : { 'minimum': { minimumValue, currentValue } };\r\n    };\r\n  }\r\n\r\n  /**\r\n   * 'exclusiveMinimum' validator\r\n   *\r\n   * Requires a control's numeric value to be less than a maximum amount.\r\n   *\r\n   * Any non-numeric value is also valid (according to the HTML forms spec,\r\n   * a non-numeric value doesn't have a maximum).\r\n   * https://www.w3.org/TR/html5/forms.html#attr-input-max\r\n   *\r\n   * @param {number} exclusiveMinimumValue - maximum allowed value\r\n   * @return {IValidatorFn}\r\n   */\r\n  static exclusiveMinimum(exclusiveMinimumValue: number): IValidatorFn {\r\n    if (!hasValue(exclusiveMinimumValue)) { return JsonValidators.nullValidator; }\r\n    return (control: AbstractControl, invert = false): ValidationErrors|null => {\r\n      if (isEmpty(control.value)) { return null; }\r\n      const currentValue = control.value;\r\n      const isValid = !isNumber(currentValue) || +currentValue < exclusiveMinimumValue;\r\n      return xor(isValid, invert) ?\r\n        null : { 'exclusiveMinimum': { exclusiveMinimumValue, currentValue } };\r\n    };\r\n  }\r\n\r\n  /**\r\n   * 'maximum' validator\r\n   *\r\n   * Requires a control's numeric value to be less than or equal to\r\n   * a maximum amount.\r\n   *\r\n   * Any non-numeric value is also valid (according to the HTML forms spec,\r\n   * a non-numeric value doesn't have a maximum).\r\n   * https://www.w3.org/TR/html5/forms.html#attr-input-max\r\n   *\r\n   * @param {number} maximumValue - maximum allowed value\r\n   * @return {IValidatorFn}\r\n   */\r\n  static maximum(maximumValue: number): IValidatorFn {\r\n    if (!hasValue(maximumValue)) { return JsonValidators.nullValidator; }\r\n    return (control: AbstractControl, invert = false): ValidationErrors|null => {\r\n      if (isEmpty(control.value)) { return null; }\r\n      const currentValue = control.value;\r\n      const isValid = !isNumber(currentValue) || +currentValue <= maximumValue;\r\n      return xor(isValid, invert) ?\r\n        null : { 'maximum': { maximumValue, currentValue } };\r\n    };\r\n  }\r\n\r\n  /**\r\n   * 'exclusiveMaximum' validator\r\n   *\r\n   * Requires a control's numeric value to be less than a maximum amount.\r\n   *\r\n   * Any non-numeric value is also valid (according to the HTML forms spec,\r\n   * a non-numeric value doesn't have a maximum).\r\n   * https://www.w3.org/TR/html5/forms.html#attr-input-max\r\n   *\r\n   * @param {number} exclusiveMaximumValue - maximum allowed value\r\n   * @return {IValidatorFn}\r\n   */\r\n  static exclusiveMaximum(exclusiveMaximumValue: number): IValidatorFn {\r\n    if (!hasValue(exclusiveMaximumValue)) { return JsonValidators.nullValidator; }\r\n    return (control: AbstractControl, invert = false): ValidationErrors|null => {\r\n      if (isEmpty(control.value)) { return null; }\r\n      const currentValue = control.value;\r\n      const isValid = !isNumber(currentValue) || +currentValue < exclusiveMaximumValue;\r\n      return xor(isValid, invert) ?\r\n        null : { 'exclusiveMaximum': { exclusiveMaximumValue, currentValue } };\r\n    };\r\n  }\r\n\r\n  /**\r\n   * 'multipleOf' validator\r\n   *\r\n   * Requires a control to have a numeric value that is a multiple\r\n   * of a specified number.\r\n   *\r\n   * @param {number} multipleOfValue - number value must be a multiple of\r\n   * @return {IValidatorFn}\r\n   */\r\n  static multipleOf(multipleOfValue: number): IValidatorFn {\r\n    if (!hasValue(multipleOfValue)) { return JsonValidators.nullValidator; }\r\n    return (control: AbstractControl, invert = false): ValidationErrors|null => {\r\n      if (isEmpty(control.value)) { return null; }\r\n      const currentValue = control.value;\r\n      const isValid = isNumber(currentValue) &&\r\n        currentValue % multipleOfValue === 0;\r\n      return xor(isValid, invert) ?\r\n        null : { 'multipleOf': { multipleOfValue, currentValue } };\r\n    };\r\n  }\r\n\r\n  /**\r\n   * 'minProperties' validator\r\n   *\r\n   * Requires a form group to have a minimum number of properties (i.e. have\r\n   * values entered in a minimum number of controls within the group).\r\n   *\r\n   * @param {number} minimumProperties - minimum number of properties allowed\r\n   * @return {IValidatorFn}\r\n   */\r\n  static minProperties(minimumProperties: number): IValidatorFn {\r\n    if (!hasValue(minimumProperties)) { return JsonValidators.nullValidator; }\r\n    return (control: AbstractControl, invert = false): ValidationErrors|null => {\r\n      if (isEmpty(control.value)) { return null; }\r\n      const currentProperties = Object.keys(control.value).length || 0;\r\n      const isValid = currentProperties >= minimumProperties;\r\n      return xor(isValid, invert) ?\r\n        null : { 'minProperties': { minimumProperties, currentProperties } };\r\n    };\r\n  }\r\n\r\n  /**\r\n   * 'maxProperties' validator\r\n   *\r\n   * Requires a form group to have a maximum number of properties (i.e. have\r\n   * values entered in a maximum number of controls within the group).\r\n   *\r\n   * Note: Has no effect if the form group does not contain more than the\r\n   * maximum number of controls.\r\n   *\r\n   * @param {number} maximumProperties - maximum number of properties allowed\r\n   * @return {IValidatorFn}\r\n   */\r\n  static maxProperties(maximumProperties: number): IValidatorFn {\r\n    if (!hasValue(maximumProperties)) { return JsonValidators.nullValidator; }\r\n    return (control: AbstractControl, invert = false): ValidationErrors|null => {\r\n      const currentProperties = Object.keys(control.value).length || 0;\r\n      const isValid = currentProperties <= maximumProperties;\r\n      return xor(isValid, invert) ?\r\n        null : { 'maxProperties': { maximumProperties, currentProperties } };\r\n    };\r\n  }\r\n\r\n  /**\r\n   * 'dependencies' validator\r\n   *\r\n   * Requires the controls in a form group to meet additional validation\r\n   * criteria, depending on the values of other controls in the group.\r\n   *\r\n   * Examples:\r\n   * https://spacetelescope.github.io/understanding-json-schema/reference/object.html#dependencies\r\n   *\r\n   * @param {any} dependencies - required dependencies\r\n   * @return {IValidatorFn}\r\n   */\r\n  static dependencies(dependencies: any): IValidatorFn {\r\n    if (getType(dependencies) !== 'object' || isEmpty(dependencies)) {\r\n      return JsonValidators.nullValidator;\r\n    }\r\n    return (control: AbstractControl, invert = false): ValidationErrors|null => {\r\n      if (isEmpty(control.value)) { return null; }\r\n      const allErrors = _mergeObjects(\r\n        forEachCopy(dependencies, (value, requiringField) => {\r\n          if (!hasValue(control.value[requiringField])) { return null; }\r\n          let requiringFieldErrors: ValidationErrors = { };\r\n          let requiredFields: string[];\r\n          let properties: ValidationErrors = { };\r\n          if (getType(dependencies[requiringField]) === 'array') {\r\n            requiredFields = dependencies[requiringField];\r\n          } else if (getType(dependencies[requiringField]) === 'object') {\r\n            requiredFields = dependencies[requiringField]['required'] || [];\r\n            properties = dependencies[requiringField]['properties'] || { };\r\n          }\r\n\r\n          // Validate property dependencies\r\n          for (const requiredField of requiredFields) {\r\n            if (xor(!hasValue(control.value[requiredField]), invert)) {\r\n              requiringFieldErrors[requiredField] = { 'required': true };\r\n            }\r\n          }\r\n\r\n          // Validate schema dependencies\r\n          requiringFieldErrors = _mergeObjects(requiringFieldErrors,\r\n            forEachCopy(properties, (requirements, requiredField) => {\r\n              const requiredFieldErrors = _mergeObjects(\r\n                forEachCopy(requirements, (requirement, parameter) => {\r\n                  let validator: IValidatorFn = null;\r\n                  if (requirement === 'maximum' || requirement === 'minimum') {\r\n                    const exclusive = !!requirements['exclusiveM' + requirement.slice(1)];\r\n                    validator = JsonValidators[requirement](parameter, exclusive);\r\n                  } else if (typeof JsonValidators[requirement] === 'function') {\r\n                    validator = JsonValidators[requirement](parameter);\r\n                  }\r\n                  return !isDefined(validator) ?\r\n                    null : validator(control.value[requiredField]);\r\n                })\r\n              );\r\n              return isEmpty(requiredFieldErrors) ?\r\n                null : { [requiredField]: requiredFieldErrors };\r\n            })\r\n          );\r\n          return isEmpty(requiringFieldErrors) ?\r\n            null : { [requiringField]: requiringFieldErrors };\r\n        })\r\n      );\r\n      return isEmpty(allErrors) ? null : allErrors;\r\n    };\r\n  }\r\n\r\n  /**\r\n   * 'minItems' validator\r\n   *\r\n   * Requires a form array to have a minimum number of values.\r\n   *\r\n   * @param {number} minimumItems - minimum number of items allowed\r\n   * @return {IValidatorFn}\r\n   */\r\n  static minItems(minimumItems: number): IValidatorFn {\r\n    if (!hasValue(minimumItems)) { return JsonValidators.nullValidator; }\r\n    return (control: AbstractControl, invert = false): ValidationErrors|null => {\r\n      if (isEmpty(control.value)) { return null; }\r\n      const currentItems = isArray(control.value) ? control.value.length : 0;\r\n      const isValid = currentItems >= minimumItems;\r\n      return xor(isValid, invert) ?\r\n        null : { 'minItems': { minimumItems, currentItems } };\r\n    };\r\n  }\r\n\r\n  /**\r\n   * 'maxItems' validator\r\n   *\r\n   * Requires a form array to have a maximum number of values.\r\n   *\r\n   * @param {number} maximumItems - maximum number of items allowed\r\n   * @return {IValidatorFn}\r\n   */\r\n  static maxItems(maximumItems: number): IValidatorFn {\r\n    if (!hasValue(maximumItems)) { return JsonValidators.nullValidator; }\r\n    return (control: AbstractControl, invert = false): ValidationErrors|null => {\r\n      const currentItems = isArray(control.value) ? control.value.length : 0;\r\n      const isValid = currentItems <= maximumItems;\r\n      return xor(isValid, invert) ?\r\n        null : { 'maxItems': { maximumItems, currentItems } };\r\n    };\r\n  }\r\n\r\n  /**\r\n   * 'uniqueItems' validator\r\n   *\r\n   * Requires values in a form array to be unique.\r\n   *\r\n   * @param {boolean = true} unique? - true to validate, false to disable\r\n   * @return {IValidatorFn}\r\n   */\r\n  static uniqueItems(unique = true): IValidatorFn {\r\n    if (!unique) { return JsonValidators.nullValidator; }\r\n    return (control: AbstractControl, invert = false): ValidationErrors|null => {\r\n      if (isEmpty(control.value)) { return null; }\r\n      const sorted: any[] = control.value.slice().sort();\r\n      const duplicateItems = [];\r\n      for (let i = 1; i < sorted.length; i++) {\r\n        if (sorted[i - 1] === sorted[i] && duplicateItems.includes(sorted[i])) {\r\n          duplicateItems.push(sorted[i]);\r\n        }\r\n      }\r\n      const isValid = !duplicateItems.length;\r\n      return xor(isValid, invert) ?\r\n        null : { 'uniqueItems': { duplicateItems } };\r\n    };\r\n  }\r\n\r\n  /**\r\n   * 'contains' validator\r\n   *\r\n   * TODO: Complete this validator\r\n   *\r\n   * Requires values in a form array to be unique.\r\n   *\r\n   * @param {boolean = true} unique? - true to validate, false to disable\r\n   * @return {IValidatorFn}\r\n   */\r\n  static contains(requiredItem = true): IValidatorFn {\r\n    if (!requiredItem) { return JsonValidators.nullValidator; }\r\n    return (control: AbstractControl, invert = false): ValidationErrors|null => {\r\n      if (isEmpty(control.value) || !isArray(control.value)) { return null; }\r\n      const currentItems = control.value;\r\n      // const isValid = currentItems.some(item =>\r\n      //\r\n      // );\r\n      const isValid = true;\r\n      return xor(isValid, invert) ?\r\n        null : { 'contains': { requiredItem, currentItems } };\r\n    };\r\n  }\r\n\r\n  /**\r\n   * No-op validator. Included for backward compatibility.\r\n   */\r\n  static nullValidator(control: AbstractControl): ValidationErrors|null {\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * Validator transformation functions:\r\n   * composeAnyOf, composeOneOf, composeAllOf, composeNot,\r\n   * compose, composeAsync\r\n   *\r\n   * TODO: Add composeAnyOfAsync, composeOneOfAsync,\r\n   *           composeAllOfAsync, composeNotAsync\r\n   */\r\n\r\n  /**\r\n   * 'composeAnyOf' validator combination function\r\n   *\r\n   * Accepts an array of validators and returns a single validator that\r\n   * evaluates to valid if any one or more of the submitted validators are\r\n   * valid. If every validator is invalid, it returns combined errors from\r\n   * all validators.\r\n   *\r\n   * @param {IValidatorFn[]} validators - array of validators to combine\r\n   * @return {IValidatorFn} - single combined validator function\r\n   */\r\n  static composeAnyOf(validators: IValidatorFn[]): IValidatorFn {\r\n    if (!validators) { return null; }\r\n    const presentValidators = validators.filter(isDefined);\r\n    if (presentValidators.length === 0) { return null; }\r\n    return (control: AbstractControl, invert = false): ValidationErrors|null => {\r\n      const arrayOfErrors =\r\n        _executeValidators(control, presentValidators, invert).filter(isDefined);\r\n      const isValid = validators.length > arrayOfErrors.length;\r\n      return xor(isValid, invert) ?\r\n        null : _mergeObjects(...arrayOfErrors, { 'anyOf': !invert });\r\n    };\r\n  }\r\n\r\n  /**\r\n   * 'composeOneOf' validator combination function\r\n   *\r\n   * Accepts an array of validators and returns a single validator that\r\n   * evaluates to valid only if exactly one of the submitted validators\r\n   * is valid. Otherwise returns combined information from all validators,\r\n   * both valid and invalid.\r\n   *\r\n   * @param {IValidatorFn[]} validators - array of validators to combine\r\n   * @return {IValidatorFn} - single combined validator function\r\n   */\r\n  static composeOneOf(validators: IValidatorFn[]): IValidatorFn {\r\n    if (!validators) { return null; }\r\n    const presentValidators = validators.filter(isDefined);\r\n    if (presentValidators.length === 0) { return null; }\r\n    return (control: AbstractControl, invert = false): ValidationErrors|null => {\r\n      const arrayOfErrors =\r\n        _executeValidators(control, presentValidators);\r\n      const validControls =\r\n        validators.length - arrayOfErrors.filter(isDefined).length;\r\n      const isValid = validControls === 1;\r\n      if (xor(isValid, invert)) { return null; }\r\n      const arrayOfValids =\r\n        _executeValidators(control, presentValidators, invert);\r\n      return _mergeObjects(...arrayOfErrors, ...arrayOfValids, { 'oneOf': !invert });\r\n    };\r\n  }\r\n\r\n  /**\r\n   * 'composeAllOf' validator combination function\r\n   *\r\n   * Accepts an array of validators and returns a single validator that\r\n   * evaluates to valid only if all the submitted validators are individually\r\n   * valid. Otherwise it returns combined errors from all invalid validators.\r\n   *\r\n   * @param {IValidatorFn[]} validators - array of validators to combine\r\n   * @return {IValidatorFn} - single combined validator function\r\n   */\r\n  static composeAllOf(validators: IValidatorFn[]): IValidatorFn {\r\n    if (!validators) { return null; }\r\n    const presentValidators = validators.filter(isDefined);\r\n    if (presentValidators.length === 0) { return null; }\r\n    return (control: AbstractControl, invert = false): ValidationErrors|null => {\r\n      const combinedErrors = _mergeErrors(\r\n        _executeValidators(control, presentValidators, invert)\r\n      );\r\n      const isValid = combinedErrors === null;\r\n      return (xor(isValid, invert)) ?\r\n        null : _mergeObjects(combinedErrors, { 'allOf': !invert });\r\n    };\r\n  }\r\n\r\n  /**\r\n   * 'composeNot' validator inversion function\r\n   *\r\n   * Accepts a single validator function and inverts its result.\r\n   * Returns valid if the submitted validator is invalid, and\r\n   * returns invalid if the submitted validator is valid.\r\n   * (Note: this function can itself be inverted\r\n   *   - e.g. composeNot(composeNot(validator)) -\r\n   *   but this can be confusing and is therefore not recommended.)\r\n   *\r\n   * @param {IValidatorFn[]} validators - validator(s) to invert\r\n   * @return {IValidatorFn} - new validator function that returns opposite result\r\n   */\r\n  static composeNot(validator: IValidatorFn): IValidatorFn {\r\n    if (!validator) { return null; }\r\n    return (control: AbstractControl, invert = false): ValidationErrors|null => {\r\n      if (isEmpty(control.value)) { return null; }\r\n      const error = validator(control, !invert);\r\n      const isValid = error === null;\r\n      return (xor(isValid, invert)) ?\r\n        null : _mergeObjects(error, { 'not': !invert });\r\n    };\r\n  }\r\n\r\n  /**\r\n   * 'compose' validator combination function\r\n   *\r\n   * @param {IValidatorFn[]} validators - array of validators to combine\r\n   * @return {IValidatorFn} - single combined validator function\r\n   */\r\n  static compose(validators: IValidatorFn[]): IValidatorFn {\r\n    if (!validators) { return null; }\r\n    const presentValidators = validators.filter(isDefined);\r\n    if (presentValidators.length === 0) { return null; }\r\n    return (control: AbstractControl, invert = false): ValidationErrors|null =>\r\n      _mergeErrors(_executeValidators(control, presentValidators, invert));\r\n  }\r\n\r\n  /**\r\n   * 'composeAsync' async validator combination function\r\n   *\r\n   * @param {AsyncIValidatorFn[]} async validators - array of async validators\r\n   * @return {AsyncIValidatorFn} - single combined async validator function\r\n   */\r\n  static composeAsync(validators: AsyncIValidatorFn[]): AsyncIValidatorFn {\r\n    if (!validators) { return null; }\r\n    const presentValidators = validators.filter(isDefined);\r\n    if (presentValidators.length === 0) { return null; }\r\n    return (control: AbstractControl) => {\r\n      const observables =\r\n        _executeAsyncValidators(control, presentValidators).map(toObservable);\r\n      return map.call(forkJoin(observables), _mergeErrors);\r\n    };\r\n  }\r\n\r\n  // Additional angular validators (not used by Angualr JSON Schema Form)\r\n  // From https://github.com/angular/angular/blob/master/packages/forms/src/validators.ts\r\n\r\n  /**\r\n   * Validator that requires controls to have a value greater than a number.\r\n   */\r\n  static min(min: number): ValidatorFn {\r\n    if (!hasValue(min)) { return JsonValidators.nullValidator; }\r\n    return (control: AbstractControl): ValidationErrors|null => {\r\n      // don't validate empty values to allow optional controls\r\n      if (isEmpty(control.value) || isEmpty(min)) { return null; }\r\n      const value = parseFloat(control.value);\r\n      const actual = control.value;\r\n      // Controls with NaN values after parsing should be treated as not having a\r\n      // minimum, per the HTML forms spec: https://www.w3.org/TR/html5/forms.html#attr-input-min\r\n      return isNaN(value) || value >= min ? null : { 'min': { min, actual } };\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Validator that requires controls to have a value less than a number.\r\n   */\r\n  static max(max: number): ValidatorFn {\r\n    if (!hasValue(max)) { return JsonValidators.nullValidator; }\r\n    return (control: AbstractControl): ValidationErrors|null => {\r\n      // don't validate empty values to allow optional controls\r\n      if (isEmpty(control.value) || isEmpty(max)) { return null; }\r\n      const value = parseFloat(control.value);\r\n      const actual = control.value;\r\n      // Controls with NaN values after parsing should be treated as not having a\r\n      // maximum, per the HTML forms spec: https://www.w3.org/TR/html5/forms.html#attr-input-max\r\n      return isNaN(value) || value <= max ? null : { 'max': { max, actual } };\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Validator that requires control value to be true.\r\n   */\r\n  static requiredTrue(control: AbstractControl): ValidationErrors|null {\r\n    if (!control) { return JsonValidators.nullValidator; }\r\n    return control.value === true ? null : { 'required': true };\r\n  }\r\n\r\n  /**\r\n   * Validator that performs email validation.\r\n   */\r\n  static email(control: AbstractControl): ValidationErrors|null {\r\n    if (!control) { return JsonValidators.nullValidator; }\r\n    const EMAIL_REGEXP =\r\n      // tslint:disable-next-line max-line-length\r\n      /^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/;\r\n    return EMAIL_REGEXP.test(control.value) ? null : { 'email': true };\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\nimport {\r\n  isDefined, isEmpty, isObject, isArray, isMap, isNumber, isString\r\n} from './validator.functions';\r\nimport { hasOwn, copy } from './utility.functions';\r\n\r\n/**\r\n * 'JsonPointer' class\r\n *\r\n * Some utilities for using JSON Pointers with JSON objects\r\n * https://tools.ietf.org/html/rfc6901\r\n *\r\n * get, getCopy, getFirst, set, setCopy, insert, insertCopy, remove, has, dict,\r\n * forEachDeep, forEachDeepCopy, escape, unescape, parse, compile, toKey,\r\n * isJsonPointer, isSubPointer, toIndexedPointer, toGenericPointer,\r\n * toControlPointer, toSchemaPointer, toDataPointer, parseObjectPath\r\n *\r\n * Some functions based on manuelstofer's json-pointer utilities\r\n * https://github.com/manuelstofer/json-pointer\r\n */\r\nexport type Pointer = string | string[];\r\n\r\n@Injectable()\r\nexport class JsonPointer {\r\n\r\n  /**\r\n   * 'get' function\r\n   *\r\n   * Uses a JSON Pointer to retrieve a value from an object.\r\n   *\r\n   * @param  { object } object - Object to get value from\r\n   * @param  { Pointer } pointer - JSON Pointer (string or array)\r\n   * @param  { number = 0 } startSlice - Zero-based index of first Pointer key to use\r\n   * @param  { number } endSlice - Zero-based index of last Pointer key to use\r\n   * @param  { boolean = false } getBoolean - Return only true or false?\r\n   * @param  { boolean = false } errors - Show error if not found?\r\n   * @return { object } - Located value (or true or false if getBoolean = true)\r\n   */\r\n  static get(\r\n    object, pointer, startSlice = 0, endSlice: number = null,\r\n    getBoolean = false, errors = false\r\n  ) {\r\n    if (object === null) { return getBoolean ? false : undefined; }\r\n    let keyArray: any[] = this.parse(pointer, errors);\r\n    if (typeof object === 'object' && keyArray !== null) {\r\n      let subObject = object;\r\n      if (startSlice >= keyArray.length || endSlice <= -keyArray.length) { return object; }\r\n      if (startSlice <= -keyArray.length) { startSlice = 0; }\r\n      if (!isDefined(endSlice) || endSlice >= keyArray.length) { endSlice = keyArray.length; }\r\n      keyArray = keyArray.slice(startSlice, endSlice);\r\n      for (let key of keyArray) {\r\n        if (key === '-' && isArray(subObject) && subObject.length) {\r\n          key = subObject.length - 1;\r\n        }\r\n        if (isMap(subObject) && subObject.has(key)) {\r\n          subObject = subObject.get(key);\r\n        } else if (typeof subObject === 'object' && subObject !== null &&\r\n          hasOwn(subObject, key)\r\n        ) {\r\n          subObject = subObject[key];\r\n        } else {\r\n          if (errors) {\r\n            console.error(`get error: \"${key}\" key not found in object.`);\r\n            console.error(pointer);\r\n            console.error(object);\r\n          }\r\n          return getBoolean ? false : undefined;\r\n        }\r\n      }\r\n      return getBoolean ? true : subObject;\r\n    }\r\n    if (errors && keyArray === null) {\r\n      console.error(`get error: Invalid JSON Pointer: ${pointer}`);\r\n    }\r\n    if (errors && typeof object !== 'object') {\r\n      console.error('get error: Invalid object:');\r\n      console.error(object);\r\n    }\r\n    return getBoolean ? false : undefined;\r\n  }\r\n\r\n  /**\r\n   * 'getCopy' function\r\n   *\r\n   * Uses a JSON Pointer to deeply clone a value from an object.\r\n   *\r\n   * @param  { object } object - Object to get value from\r\n   * @param  { Pointer } pointer - JSON Pointer (string or array)\r\n   * @param  { number = 0 } startSlice - Zero-based index of first Pointer key to use\r\n   * @param  { number } endSlice - Zero-based index of last Pointer key to use\r\n   * @param  { boolean = false } getBoolean - Return only true or false?\r\n   * @param  { boolean = false } errors - Show error if not found?\r\n   * @return { object } - Located value (or true or false if getBoolean = true)\r\n   */\r\n  static getCopy(\r\n    object, pointer, startSlice = 0, endSlice: number = null,\r\n    getBoolean = false, errors = false\r\n  ) {\r\n    const objectToCopy =\r\n      this.get(object, pointer, startSlice, endSlice, getBoolean, errors);\r\n    return this.forEachDeepCopy(objectToCopy);\r\n  }\r\n\r\n  /**\r\n   * 'getFirst' function\r\n   *\r\n   * Takes an array of JSON Pointers and objects,\r\n   * checks each object for a value specified by the pointer,\r\n   * and returns the first value found.\r\n   *\r\n   * @param  { [object, pointer][] } items - Array of objects and pointers to check\r\n   * @param  { any = null } defaultValue - Value to return if nothing found\r\n   * @param  { boolean = false } getCopy - Return a copy instead?\r\n   * @return { any } - First value found\r\n   */\r\n  static getFirst(items, defaultValue: any = null, getCopy = false) {\r\n    if (isEmpty(items)) { return; }\r\n    if (isArray(items)) {\r\n      for (const item of items) {\r\n        if (isEmpty(item)) { continue; }\r\n        if (isArray(item) && item.length >= 2) {\r\n          if (isEmpty(item[0]) || isEmpty(item[1])) { continue; }\r\n          const value = getCopy ?\r\n            this.getCopy(item[0], item[1]) :\r\n            this.get(item[0], item[1]);\r\n          if (value) { return value; }\r\n          continue;\r\n        }\r\n        console.error('getFirst error: Input not in correct format.\\n' +\r\n          'Should be: [ [ object1, pointer1 ], [ object 2, pointer2 ], etc... ]');\r\n        return;\r\n      }\r\n      return defaultValue;\r\n    }\r\n    if (isMap(items)) {\r\n      for (const [object, pointer] of items) {\r\n        if (object === null || !this.isJsonPointer(pointer)) { continue; }\r\n        const value = getCopy ?\r\n          this.getCopy(object, pointer) :\r\n          this.get(object, pointer);\r\n        if (value) { return value; }\r\n      }\r\n      return defaultValue;\r\n    }\r\n    console.error('getFirst error: Input not in correct format.\\n' +\r\n      'Should be: [ [ object1, pointer1 ], [ object 2, pointer2 ], etc... ]');\r\n    return defaultValue;\r\n  }\r\n\r\n  /**\r\n   * 'getFirstCopy' function\r\n   *\r\n   * Similar to getFirst, but always returns a copy.\r\n   *\r\n   * @param  { [object, pointer][] } items - Array of objects and pointers to check\r\n   * @param  { any = null } defaultValue - Value to return if nothing found\r\n   * @return { any } - Copy of first value found\r\n   */\r\n  static getFirstCopy(items, defaultValue: any = null) {\r\n    const firstCopy = this.getFirst(items, defaultValue, true);\r\n    return firstCopy;\r\n  }\r\n\r\n  /**\r\n   * 'set' function\r\n   *\r\n   * Uses a JSON Pointer to set a value on an object.\r\n   * Also creates any missing sub objects or arrays to contain that value.\r\n   *\r\n   * If the optional fourth parameter is TRUE and the inner-most container\r\n   * is an array, the function will insert the value as a new item at the\r\n   * specified location in the array, rather than overwriting the existing\r\n   * value (if any) at that location.\r\n   *\r\n   * So set([1, 2, 3], '/1', 4) => [1, 4, 3]\r\n   * and\r\n   * So set([1, 2, 3], '/1', 4, true) => [1, 4, 2, 3]\r\n   *\r\n   * @param  { object } object - The object to set value in\r\n   * @param  { Pointer } pointer - The JSON Pointer (string or array)\r\n   * @param  { any } value - The new value to set\r\n   * @param  { boolean } insert - insert value?\r\n   * @return { object } - The original object, modified with the set value\r\n   */\r\n  static set(object, pointer, value, insert = false) {\r\n    const keyArray = this.parse(pointer);\r\n    if (keyArray !== null && keyArray.length) {\r\n      let subObject = object;\r\n      for (let i = 0; i < keyArray.length - 1; ++i) {\r\n        let key = keyArray[i];\r\n        if (key === '-' && isArray(subObject)) {\r\n          key = subObject.length;\r\n        }\r\n        if (isMap(subObject) && subObject.has(key)) {\r\n          subObject = subObject.get(key);\r\n        } else {\r\n          if (!hasOwn(subObject, key)) {\r\n            subObject[key] = (keyArray[i + 1].match(/^(\\d+|-)$/)) ? [] : {};\r\n          }\r\n          subObject = subObject[key];\r\n        }\r\n      }\r\n      const lastKey = keyArray[keyArray.length - 1];\r\n      if (isArray(subObject) && lastKey === '-') {\r\n        subObject.push(value);\r\n      } else if (insert && isArray(subObject) && !isNaN(+lastKey)) {\r\n        subObject.splice(lastKey, 0, value);\r\n      } else if (isMap(subObject)) {\r\n        subObject.set(lastKey, value);\r\n      } else {\r\n        subObject[lastKey] = value;\r\n      }\r\n      return object;\r\n    }\r\n    console.error(`set error: Invalid JSON Pointer: ${pointer}`);\r\n    return object;\r\n  }\r\n\r\n  /**\r\n   * 'setCopy' function\r\n   *\r\n   * Copies an object and uses a JSON Pointer to set a value on the copy.\r\n   * Also creates any missing sub objects or arrays to contain that value.\r\n   *\r\n   * If the optional fourth parameter is TRUE and the inner-most container\r\n   * is an array, the function will insert the value as a new item at the\r\n   * specified location in the array, rather than overwriting the existing value.\r\n   *\r\n   * @param  { object } object - The object to copy and set value in\r\n   * @param  { Pointer } pointer - The JSON Pointer (string or array)\r\n   * @param  { any } value - The value to set\r\n   * @param  { boolean } insert - insert value?\r\n   * @return { object } - The new object with the set value\r\n   */\r\n  static setCopy(object, pointer, value, insert = false) {\r\n    const keyArray = this.parse(pointer);\r\n    if (keyArray !== null) {\r\n      const newObject = copy(object);\r\n      let subObject = newObject;\r\n      for (let i = 0; i < keyArray.length - 1; ++i) {\r\n        let key = keyArray[i];\r\n        if (key === '-' && isArray(subObject)) {\r\n          key = subObject.length;\r\n        }\r\n        if (isMap(subObject) && subObject.has(key)) {\r\n          subObject.set(key, copy(subObject.get(key)));\r\n          subObject = subObject.get(key);\r\n        } else {\r\n          if (!hasOwn(subObject, key)) {\r\n            subObject[key] = (keyArray[i + 1].match(/^(\\d+|-)$/)) ? [] : {};\r\n          }\r\n          subObject[key] = copy(subObject[key]);\r\n          subObject = subObject[key];\r\n        }\r\n      }\r\n      const lastKey = keyArray[keyArray.length - 1];\r\n      if (isArray(subObject) && lastKey === '-') {\r\n        subObject.push(value);\r\n      } else if (insert && isArray(subObject) && !isNaN(+lastKey)) {\r\n        subObject.splice(lastKey, 0, value);\r\n      } else if (isMap(subObject)) {\r\n        subObject.set(lastKey, value);\r\n      } else {\r\n        subObject[lastKey] = value;\r\n      }\r\n      return newObject;\r\n    }\r\n    console.error(`setCopy error: Invalid JSON Pointer: ${pointer}`);\r\n    return object;\r\n  }\r\n\r\n  /**\r\n   * 'insert' function\r\n   *\r\n   * Calls 'set' with insert = TRUE\r\n   *\r\n   * @param  { object } object - object to insert value in\r\n   * @param  { Pointer } pointer - JSON Pointer (string or array)\r\n   * @param  { any } value - value to insert\r\n   * @return { object }\r\n   */\r\n  static insert(object, pointer, value) {\r\n    const updatedObject = this.set(object, pointer, value, true);\r\n    return updatedObject;\r\n  }\r\n\r\n  /**\r\n   * 'insertCopy' function\r\n   *\r\n   * Calls 'setCopy' with insert = TRUE\r\n   *\r\n   * @param  { object } object - object to insert value in\r\n   * @param  { Pointer } pointer - JSON Pointer (string or array)\r\n   * @param  { any } value - value to insert\r\n   * @return { object }\r\n   */\r\n  static insertCopy(object, pointer, value) {\r\n    const updatedObject = this.setCopy(object, pointer, value, true);\r\n    return updatedObject;\r\n  }\r\n\r\n  /**\r\n   * 'remove' function\r\n   *\r\n   * Uses a JSON Pointer to remove a key and its attribute from an object\r\n   *\r\n   * @param  { object } object - object to delete attribute from\r\n   * @param  { Pointer } pointer - JSON Pointer (string or array)\r\n   * @return { object }\r\n   */\r\n  static remove(object, pointer) {\r\n    const keyArray = this.parse(pointer);\r\n    if (keyArray !== null && keyArray.length) {\r\n      let lastKey = keyArray.pop();\r\n      const parentObject = this.get(object, keyArray);\r\n      if (isArray(parentObject)) {\r\n        if (lastKey === '-') { lastKey = parentObject.length - 1; }\r\n        parentObject.splice(lastKey, 1);\r\n      } else if (isObject(parentObject)) {\r\n        delete parentObject[lastKey];\r\n      }\r\n      return object;\r\n    }\r\n    console.error(`remove error: Invalid JSON Pointer: ${pointer}`);\r\n    return object;\r\n  }\r\n\r\n  /**\r\n   * 'has' function\r\n   *\r\n   * Tests if an object has a value at the location specified by a JSON Pointer\r\n   *\r\n   * @param  { object } object - object to chek for value\r\n   * @param  { Pointer } pointer - JSON Pointer (string or array)\r\n   * @return { boolean }\r\n   */\r\n  static has(object, pointer) {\r\n    const hasValue = this.get(object, pointer, 0, null, true);\r\n    return hasValue;\r\n  }\r\n\r\n  /**\r\n   * 'dict' function\r\n   *\r\n   * Returns a (pointer -> value) dictionary for an object\r\n   *\r\n   * @param  { object } object - The object to create a dictionary from\r\n   * @return { object } - The resulting dictionary object\r\n   */\r\n  static dict(object) {\r\n    const results: any = {};\r\n    this.forEachDeep(object, (value, pointer) => {\r\n      if (typeof value !== 'object') { results[pointer] = value; }\r\n    });\r\n    return results;\r\n  }\r\n\r\n  /**\r\n   * 'forEachDeep' function\r\n   *\r\n   * Iterates over own enumerable properties of an object or items in an array\r\n   * and invokes an iteratee function for each key/value or index/value pair.\r\n   * By default, iterates over items within objects and arrays after calling\r\n   * the iteratee function on the containing object or array itself.\r\n   *\r\n   * The iteratee is invoked with three arguments: (value, pointer, rootObject),\r\n   * where pointer is a JSON pointer indicating the location of the current\r\n   * value within the root object, and rootObject is the root object initially\r\n   * submitted to th function.\r\n   *\r\n   * If a third optional parameter 'bottomUp' is set to TRUE, the iterator\r\n   * function will be called on sub-objects and arrays after being\r\n   * called on their contents, rather than before, which is the default.\r\n   *\r\n   * This function can also optionally be called directly on a sub-object by\r\n   * including optional 4th and 5th parameterss to specify the initial\r\n   * root object and pointer.\r\n   *\r\n   * @param  { object } object - the initial object or array\r\n   * @param  { (v: any, p?: string, o?: any) => any } function - iteratee function\r\n   * @param  { boolean = false } bottomUp - optional, set to TRUE to reverse direction\r\n   * @param  { object = object } rootObject - optional, root object or array\r\n   * @param  { string = '' } pointer - optional, JSON Pointer to object within rootObject\r\n   * @return { object } - The modified object\r\n   */\r\n  static forEachDeep(\r\n    object, fn: (v: any, p?: string, o?: any) => any = (v) => v,\r\n    bottomUp = false, pointer = '', rootObject = object\r\n  ) {\r\n    if (typeof fn !== 'function') {\r\n      console.error(`forEachDeep error: Iterator is not a function:`, fn);\r\n      return;\r\n    }\r\n    if (!bottomUp) { fn(object, pointer, rootObject); }\r\n    if (isObject(object) || isArray(object)) {\r\n      for (const key of Object.keys(object)) {\r\n        const newPointer = pointer + '/' + this.escape(key);\r\n        this.forEachDeep(object[key], fn, bottomUp, newPointer, rootObject);\r\n      }\r\n    }\r\n    if (bottomUp) { fn(object, pointer, rootObject); }\r\n  }\r\n\r\n  /**\r\n   * 'forEachDeepCopy' function\r\n   *\r\n   * Similar to forEachDeep, but returns a copy of the original object, with\r\n   * the same keys and indexes, but with values replaced with the result of\r\n   * the iteratee function.\r\n   *\r\n   * @param  { object } object - the initial object or array\r\n   * @param  { (v: any, k?: string, o?: any, p?: any) => any } function - iteratee function\r\n   * @param  { boolean = false } bottomUp - optional, set to TRUE to reverse direction\r\n   * @param  { object = object } rootObject - optional, root object or array\r\n   * @param  { string = '' } pointer - optional, JSON Pointer to object within rootObject\r\n   * @return { object } - The copied object\r\n   */\r\n  static forEachDeepCopy(\r\n    object, fn: (v: any, p?: string, o?: any) => any = (v) => v,\r\n    bottomUp = false, pointer = '', rootObject = object\r\n  ) {\r\n    if (typeof fn !== 'function') {\r\n      console.error(`forEachDeepCopy error: Iterator is not a function:`, fn);\r\n      return null;\r\n    }\r\n    if (isObject(object) || isArray(object)) {\r\n      let newObject = isArray(object) ? [ ...object ] : { ...object };\r\n      if (!bottomUp) { newObject = fn(newObject, pointer, rootObject); }\r\n      for (const key of Object.keys(newObject)) {\r\n        const newPointer = pointer + '/' + this.escape(key);\r\n        newObject[key] = this.forEachDeepCopy(\r\n          newObject[key], fn, bottomUp, newPointer, rootObject\r\n        );\r\n      }\r\n      if (bottomUp) { newObject = fn(newObject, pointer, rootObject); }\r\n      return newObject;\r\n    } else {\r\n      return fn(object, pointer, rootObject);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 'escape' function\r\n   *\r\n   * Escapes a string reference key\r\n   *\r\n   * @param  { string } key - string key to escape\r\n   * @return { string } - escaped key\r\n   */\r\n  static escape(key) {\r\n    const escaped = key.toString().replace(/~/g, '~0').replace(/\\//g, '~1');\r\n    return escaped;\r\n  }\r\n\r\n  /**\r\n   * 'unescape' function\r\n   *\r\n   * Unescapes a string reference key\r\n   *\r\n   * @param  { string } key - string key to unescape\r\n   * @return { string } - unescaped key\r\n   */\r\n  static unescape(key) {\r\n    const unescaped = key.toString().replace(/~1/g, '/').replace(/~0/g, '~');\r\n    return unescaped;\r\n  }\r\n\r\n  /**\r\n   * 'parse' function\r\n   *\r\n   * Converts a string JSON Pointer into a array of keys\r\n   * (if input is already an an array of keys, it is returned unchanged)\r\n   *\r\n   * @param  { Pointer } pointer - JSON Pointer (string or array)\r\n   * @param  { boolean = false } errors - Show error if invalid pointer?\r\n   * @return { string[] } - JSON Pointer array of keys\r\n   */\r\n  static parse(pointer, errors = false) {\r\n    if (!this.isJsonPointer(pointer)) {\r\n      if (errors) { console.error(`parse error: Invalid JSON Pointer: ${pointer}`); }\r\n      return null;\r\n    }\r\n    if (isArray(pointer)) { return <string[]>pointer; }\r\n    if (typeof pointer === 'string') {\r\n      if ((<string>pointer)[0] === '#') { pointer = pointer.slice(1); }\r\n      if (<string>pointer === '' || <string>pointer === '/') { return []; }\r\n      return (<string>pointer).slice(1).split('/').map(this.unescape);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 'compile' function\r\n   *\r\n   * Converts an array of keys into a JSON Pointer string\r\n   * (if input is already a string, it is normalized and returned)\r\n   *\r\n   * The optional second parameter is a default which will replace any empty keys.\r\n   *\r\n   * @param  { Pointer } pointer - JSON Pointer (string or array)\r\n   * @param  { string | number = '' } defaultValue - Default value\r\n   * @param  { boolean = false } errors - Show error if invalid pointer?\r\n   * @return { string } - JSON Pointer string\r\n   */\r\n  static compile(pointer, defaultValue = '', errors = false) {\r\n    if (pointer === '#') { return ''; }\r\n    if (!this.isJsonPointer(pointer)) {\r\n      if (errors) { console.error(`compile error: Invalid JSON Pointer: ${pointer}`); }\r\n      return null;\r\n    }\r\n    if (isArray(pointer)) {\r\n      if ((<string[]>pointer).length === 0) { return ''; }\r\n      return '/' + (<string[]>pointer).map(\r\n        key => key === '' ? defaultValue : this.escape(key)\r\n      ).join('/');\r\n    }\r\n    if (typeof pointer === 'string') {\r\n      if (pointer[0] === '#') { pointer = pointer.slice(1); }\r\n      return pointer;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 'toKey' function\r\n   *\r\n   * Extracts name of the final key from a JSON Pointer.\r\n   *\r\n   * @param  { Pointer } pointer - JSON Pointer (string or array)\r\n   * @param  { boolean = false } errors - Show error if invalid pointer?\r\n   * @return { string } - the extracted key\r\n   */\r\n  static toKey(pointer, errors = false) {\r\n    const keyArray = this.parse(pointer, errors);\r\n    if (keyArray === null) { return null; }\r\n    if (!keyArray.length) { return ''; }\r\n    return keyArray[keyArray.length - 1];\r\n  }\r\n\r\n  /**\r\n   * 'isJsonPointer' function\r\n   *\r\n   * Checks a string or array value to determine if it is a valid JSON Pointer.\r\n   * Returns true if a string is empty, or starts with '/' or '#/'.\r\n   * Returns true if an array contains only string values.\r\n   *\r\n   * @param  { any } value - value to check\r\n   * @return { boolean } - true if value is a valid JSON Pointer, otherwise false\r\n   */\r\n  static isJsonPointer(value) {\r\n    if (isArray(value)) {\r\n      return value.every(key => typeof key === 'string');\r\n    } else if (isString(value)) {\r\n      if (value === '' || value === '#') { return true; }\r\n      if (value[0] === '/' || value.slice(0, 2) === '#/') {\r\n        return !/(~[^01]|~$)/g.test(value);\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * 'isSubPointer' function\r\n   *\r\n   * Checks whether one JSON Pointer is a subset of another.\r\n   *\r\n   * @param  { Pointer } shortPointer - potential subset JSON Pointer\r\n   * @param  { Pointer } longPointer - potential superset JSON Pointer\r\n   * @param  { boolean = false } trueIfMatching - return true if pointers match?\r\n   * @param  { boolean = false } errors - Show error if invalid pointer?\r\n   * @return { boolean } - true if shortPointer is a subset of longPointer, false if not\r\n   */\r\n  static isSubPointer(\r\n    shortPointer, longPointer, trueIfMatching = false, errors = false\r\n  ) {\r\n    if (!this.isJsonPointer(shortPointer) || !this.isJsonPointer(longPointer)) {\r\n      if (errors) {\r\n        let invalid = '';\r\n        if (!this.isJsonPointer(shortPointer)) { invalid += ` 1: ${shortPointer}`; }\r\n        if (!this.isJsonPointer(longPointer)) { invalid += ` 2: ${longPointer}`; }\r\n        console.error(`isSubPointer error: Invalid JSON Pointer ${invalid}`);\r\n      }\r\n      return;\r\n    }\r\n    shortPointer = this.compile(shortPointer, '', errors);\r\n    longPointer = this.compile(longPointer, '', errors);\r\n    return shortPointer === longPointer ? trueIfMatching :\r\n      `${shortPointer}/` === longPointer.slice(0, shortPointer.length + 1);\r\n  }\r\n\r\n  /**\r\n   * 'toIndexedPointer' function\r\n   *\r\n   * Merges an array of numeric indexes and a generic pointer to create an\r\n   * indexed pointer for a specific item.\r\n   *\r\n   * For example, merging the generic pointer '/foo/-/bar/-/baz' and\r\n   * the array [4, 2] would result in the indexed pointer '/foo/4/bar/2/baz'\r\n   *\r\n   * @function\r\n   * @param  { Pointer } genericPointer - The generic pointer\r\n   * @param  { number[] } indexArray - The array of numeric indexes\r\n   * @param  { Map<string, number> } arrayMap - An optional array map\r\n   * @return { string } - The merged pointer with indexes\r\n   */\r\n  static toIndexedPointer(\r\n    genericPointer, indexArray, arrayMap: Map<string, number> = null\r\n  ) {\r\n    if (this.isJsonPointer(genericPointer) && isArray(indexArray)) {\r\n      let indexedPointer = this.compile(genericPointer);\r\n      if (isMap(arrayMap)) {\r\n        let arrayIndex = 0;\r\n        return indexedPointer.replace(/\\/\\-(?=\\/|$)/g, (key, stringIndex) =>\r\n          arrayMap.has((<string>indexedPointer).slice(0, stringIndex)) ?\r\n            '/' + indexArray[arrayIndex++] : key\r\n        );\r\n      } else {\r\n        for (const pointerIndex of indexArray) {\r\n          indexedPointer = indexedPointer.replace('/-', '/' + pointerIndex);\r\n        }\r\n        return indexedPointer;\r\n      }\r\n    }\r\n    if (!this.isJsonPointer(genericPointer)) {\r\n      console.error(`toIndexedPointer error: Invalid JSON Pointer: ${genericPointer}`);\r\n    }\r\n    if (!isArray(indexArray)) {\r\n      console.error(`toIndexedPointer error: Invalid indexArray: ${indexArray}`);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 'toGenericPointer' function\r\n   *\r\n   * Compares an indexed pointer to an array map and removes list array\r\n   * indexes (but leaves tuple arrray indexes and all object keys, including\r\n   * numeric keys) to create a generic pointer.\r\n   *\r\n   * For example, using the indexed pointer '/foo/1/bar/2/baz/3' and\r\n   * the arrayMap [['/foo', 0], ['/foo/-/bar', 3], ['/foo/-/bar/-/baz', 0]]\r\n   * would result in the generic pointer '/foo/-/bar/2/baz/-'\r\n   * Using the indexed pointer '/foo/1/bar/4/baz/3' and the same arrayMap\r\n   * would result in the generic pointer '/foo/-/bar/-/baz/-'\r\n   * (the bar array has 3 tuple items, so index 2 is retained, but 4 is removed)\r\n   *\r\n   * The structure of the arrayMap is: [['path to array', number of tuple items]...]\r\n   *\r\n   * @function\r\n   * @param  { Pointer } indexedPointer - The indexed pointer (array or string)\r\n   * @param  { Map<string, number> } arrayMap - The optional array map (for preserving tuple indexes)\r\n   * @return { string } - The generic pointer with indexes removed\r\n   */\r\n  static toGenericPointer(indexedPointer, arrayMap = new Map<string, number>()) {\r\n    if (this.isJsonPointer(indexedPointer) && isMap(arrayMap)) {\r\n      const pointerArray = this.parse(indexedPointer);\r\n      for (let i = 1; i < pointerArray.length; i++) {\r\n        const subPointer = this.compile(pointerArray.slice(0, i));\r\n        if (arrayMap.has(subPointer) &&\r\n          arrayMap.get(subPointer) <= +pointerArray[i]\r\n        ) {\r\n          pointerArray[i] = '-';\r\n        }\r\n      }\r\n      return this.compile(pointerArray);\r\n    }\r\n    if (!this.isJsonPointer(indexedPointer)) {\r\n      console.error(`toGenericPointer error: invalid JSON Pointer: ${indexedPointer}`);\r\n    }\r\n    if (!isMap(arrayMap)) {\r\n      console.error(`toGenericPointer error: invalid arrayMap: ${arrayMap}`);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 'toControlPointer' function\r\n   *\r\n   * Accepts a JSON Pointer for a data object and returns a JSON Pointer for the\r\n   * matching control in an Angular FormGroup.\r\n   *\r\n   * @param  { Pointer } dataPointer - JSON Pointer (string or array) to a data object\r\n   * @param  { FormGroup } formGroup - Angular FormGroup to get value from\r\n   * @param  { boolean = false } controlMustExist - Only return if control exists?\r\n   * @return { Pointer } - JSON Pointer (string) to the formGroup object\r\n   */\r\n  static toControlPointer(dataPointer, formGroup, controlMustExist = false) {\r\n    const dataPointerArray = this.parse(dataPointer);\r\n    const controlPointerArray: string[] = [];\r\n    let subGroup = formGroup;\r\n    if (dataPointerArray !== null) {\r\n      for (const key of dataPointerArray) {\r\n        if (hasOwn(subGroup, 'controls')) {\r\n          controlPointerArray.push('controls');\r\n          subGroup = subGroup.controls;\r\n        }\r\n        if (isArray(subGroup) && (key === '-')) {\r\n          controlPointerArray.push((subGroup.length - 1).toString());\r\n          subGroup = subGroup[subGroup.length - 1];\r\n        } else if (hasOwn(subGroup, key)) {\r\n          controlPointerArray.push(key);\r\n          subGroup = subGroup[key];\r\n        } else if (controlMustExist) {\r\n          console.error(`toControlPointer error: Unable to find \"${key}\" item in FormGroup.`);\r\n          console.error(dataPointer);\r\n          console.error(formGroup);\r\n          return;\r\n        } else {\r\n          controlPointerArray.push(key);\r\n          subGroup = { controls: {} };\r\n        }\r\n      }\r\n      return this.compile(controlPointerArray);\r\n    }\r\n    console.error(`toControlPointer error: Invalid JSON Pointer: ${dataPointer}`);\r\n  }\r\n\r\n  /**\r\n   * 'toSchemaPointer' function\r\n   *\r\n   * Accepts a JSON Pointer to a value inside a data object and a JSON schema\r\n   * for that object.\r\n   *\r\n   * Returns a Pointer to the sub-schema for the value inside the object's schema.\r\n   *\r\n   * @param  { Pointer } dataPointer - JSON Pointer (string or array) to an object\r\n   * @param  { any } schema - JSON schema for the object\r\n   * @return { Pointer } - JSON Pointer (string) to the object's schema\r\n   */\r\n  static toSchemaPointer(dataPointer, schema) {\r\n    if (this.isJsonPointer(dataPointer) && typeof schema === 'object') {\r\n      const pointerArray = this.parse(dataPointer);\r\n      if (!pointerArray.length) { return ''; }\r\n      const firstKey = pointerArray.shift();\r\n      if (schema.type === 'object' || schema.properties || schema.additionalProperties) {\r\n        if ((schema.properties || {})[firstKey]) {\r\n          return `/properties/${this.escape(firstKey)}` +\r\n            this.toSchemaPointer(pointerArray, schema.properties[firstKey]);\r\n        } else  if (schema.additionalProperties) {\r\n          return '/additionalProperties' +\r\n            this.toSchemaPointer(pointerArray, schema.additionalProperties);\r\n        }\r\n      }\r\n      if ((schema.type === 'array' || schema.items) &&\r\n        (isNumber(firstKey) || firstKey === '-' || firstKey === '')\r\n      ) {\r\n        const arrayItem = firstKey === '-' || firstKey === '' ? 0 : +firstKey;\r\n        if (isArray(schema.items)) {\r\n          if (arrayItem < schema.items.length) {\r\n            return '/items/' + arrayItem +\r\n              this.toSchemaPointer(pointerArray, schema.items[arrayItem]);\r\n          } else if (schema.additionalItems) {\r\n            return '/additionalItems' +\r\n              this.toSchemaPointer(pointerArray, schema.additionalItems);\r\n          }\r\n        } else if (isObject(schema.items)) {\r\n          return '/items' + this.toSchemaPointer(pointerArray, schema.items);\r\n        } else if (isObject(schema.additionalItems)) {\r\n          return '/additionalItems' +\r\n            this.toSchemaPointer(pointerArray, schema.additionalItems);\r\n        }\r\n      }\r\n      console.error(`toSchemaPointer error: Data pointer ${dataPointer} ` +\r\n        `not compatible with schema ${schema}`);\r\n      return null;\r\n    }\r\n    if (!this.isJsonPointer(dataPointer)) {\r\n      console.error(`toSchemaPointer error: Invalid JSON Pointer: ${dataPointer}`);\r\n    }\r\n    if (typeof schema !== 'object') {\r\n      console.error(`toSchemaPointer error: Invalid JSON Schema: ${schema}`);\r\n    }\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * 'toDataPointer' function\r\n   *\r\n   * Accepts a JSON Pointer to a sub-schema inside a JSON schema and the schema.\r\n   *\r\n   * If possible, returns a generic Pointer to the corresponding value inside\r\n   * the data object described by the JSON schema.\r\n   *\r\n   * Returns null if the sub-schema is in an ambiguous location (such as\r\n   * definitions or additionalProperties) where the corresponding value\r\n   * location cannot be determined.\r\n   *\r\n   * @param  { Pointer } schemaPointer - JSON Pointer (string or array) to a JSON schema\r\n   * @param  { any } schema - the JSON schema\r\n   * @param  { boolean = false } errors - Show errors?\r\n   * @return { Pointer } - JSON Pointer (string) to the value in the data object\r\n   */\r\n  static toDataPointer(schemaPointer, schema, errors = false) {\r\n    if (this.isJsonPointer(schemaPointer) && typeof schema === 'object' &&\r\n      this.has(schema, schemaPointer)\r\n    ) {\r\n      const pointerArray = this.parse(schemaPointer);\r\n      if (!pointerArray.length) { return ''; }\r\n      const dataPointer = '';\r\n      const firstKey = pointerArray.shift();\r\n      if (firstKey === 'properties' ||\r\n        (firstKey === 'items' && isArray(schema.items))\r\n      ) {\r\n        const secondKey = pointerArray.shift();\r\n        const pointerSuffix = this.toDataPointer(pointerArray, schema[firstKey][secondKey]);\r\n        return pointerSuffix === null ? null : '/' + secondKey + pointerSuffix;\r\n      } else if (firstKey === 'additionalItems' ||\r\n        (firstKey === 'items' && isObject(schema.items))\r\n      ) {\r\n        const pointerSuffix = this.toDataPointer(pointerArray, schema[firstKey]);\r\n        return pointerSuffix === null ? null : '/-' + pointerSuffix;\r\n      } else if (['allOf', 'anyOf', 'oneOf'].includes(firstKey)) {\r\n        const secondKey = pointerArray.shift();\r\n        return this.toDataPointer(pointerArray, schema[firstKey][secondKey]);\r\n      } else if (firstKey === 'not') {\r\n        return this.toDataPointer(pointerArray, schema[firstKey]);\r\n      } else if (['contains', 'definitions', 'dependencies', 'additionalItems',\r\n        'additionalProperties', 'patternProperties', 'propertyNames'].includes(firstKey)\r\n      ) {\r\n        if (errors) { console.error(`toDataPointer error: Ambiguous location`); }\r\n      }\r\n      return '';\r\n    }\r\n    if (errors) {\r\n      if (!this.isJsonPointer(schemaPointer)) {\r\n        console.error(`toDataPointer error: Invalid JSON Pointer: ${schemaPointer}`);\r\n      }\r\n      if (typeof schema !== 'object') {\r\n        console.error(`toDataPointer error: Invalid JSON Schema: ${schema}`);\r\n      }\r\n      if (typeof schema !== 'object') {\r\n        console.error(`toDataPointer error: Pointer ${schemaPointer} invalid for Schema: ${schema}`);\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * 'parseObjectPath' function\r\n   *\r\n   * Parses a JavaScript object path into an array of keys, which\r\n   * can then be passed to compile() to convert into a string JSON Pointer.\r\n   *\r\n   * Based on mike-marcacci's excellent objectpath parse function:\r\n   * https://github.com/mike-marcacci/objectpath\r\n   *\r\n   * @param  { Pointer } path - The object path to parse\r\n   * @return { string[] } - The resulting array of keys\r\n   */\r\n  static parseObjectPath(path) {\r\n    if (isArray(path)) { return <string[]>path; }\r\n    if (this.isJsonPointer(path)) { return this.parse(path); }\r\n    if (typeof path === 'string') {\r\n      let index = 0;\r\n      const parts: string[] = [];\r\n      while (index < path.length) {\r\n        const nextDot = path.indexOf('.', index);\r\n        const nextOB = path.indexOf('[', index); // next open bracket\r\n        if (nextDot === -1 && nextOB === -1) { // last item\r\n          parts.push(path.slice(index));\r\n          index = path.length;\r\n        } else if (nextDot !== -1 && (nextDot < nextOB || nextOB === -1)) { // dot notation\r\n          parts.push(path.slice(index, nextDot));\r\n          index = nextDot + 1;\r\n        } else { // bracket notation\r\n          if (nextOB > index) {\r\n            parts.push(path.slice(index, nextOB));\r\n            index = nextOB;\r\n          }\r\n          const quote = path.charAt(nextOB + 1);\r\n          if (quote === '\"' || quote === '\\'') { // enclosing quotes\r\n            let nextCB = path.indexOf(quote + ']', nextOB); // next close bracket\r\n            while (nextCB !== -1 && path.charAt(nextCB - 1) === '\\\\') {\r\n              nextCB = path.indexOf(quote + ']', nextCB + 2);\r\n            }\r\n            if (nextCB === -1) { nextCB = path.length; }\r\n            parts.push(path.slice(index + 2, nextCB)\r\n              .replace(new RegExp('\\\\' + quote, 'g'), quote));\r\n            index = nextCB + 2;\r\n          } else { // no enclosing quotes\r\n            let nextCB = path.indexOf(']', nextOB); // next close bracket\r\n            if (nextCB === -1) { nextCB = path.length; }\r\n            parts.push(path.slice(index + 1, nextCB));\r\n            index = nextCB + 1;\r\n          }\r\n          if (path.charAt(index) === '.') { index++; }\r\n        }\r\n      }\r\n      return parts;\r\n    }\r\n    console.error('parseObjectPath error: Input object path must be a string.');\r\n  }\r\n}\r\n","import { BehaviorSubject } from 'rxjs';\r\n\r\nimport { cloneDeep, uniqueId } from 'lodash';\r\n\r\nimport { TitleMapItem } from '../json-schema-form.service';\r\nimport {\r\n  inArray, isArray, isEmpty, isNumber, isObject, isDefined, isString\r\n} from './validator.functions';\r\nimport { copy, fixTitle, forEach, hasOwn } from './utility.functions';\r\nimport { Pointer, JsonPointer } from './jsonpointer.functions';\r\nimport {\r\n  getFromSchema, getInputType, getSubSchema, checkInlineType, isInputRequired,\r\n  removeRecursiveReferences, updateInputOptions\r\n} from './json-schema.functions';\r\nimport { buildFormGroupTemplate, getControl } from './form-group.functions';\r\n\r\n/**\r\n * Layout function library:\r\n *\r\n * buildLayout:            Builds a complete layout from an input layout and schema\r\n *\r\n * buildLayoutFromSchema:  Builds a complete layout entirely from an input schema\r\n *\r\n * mapLayout:\r\n *\r\n * getLayoutNode:\r\n *\r\n * buildTitleMap:\r\n */\r\n\r\n/**\r\n * 'buildLayout' function\r\n *\r\n * @param  { any } jsf\r\n * @param  { any } widgetLibrary\r\n * @return { any[] }\r\n */\r\nexport function buildLayout(jsf, widgetLibrary) {\r\n  let hasSubmitButton = !JsonPointer.get(jsf, '/formOptions/addSubmit');\r\n  const formLayout = mapLayout(jsf.layout, (layoutItem, index, layoutPointer) => {\r\n    const currentIndex = index;\r\n    const newNode: any = {\r\n      _id: uniqueId(),\r\n      options: {},\r\n    };\r\n    if (isObject(layoutItem)) {\r\n      Object.assign(newNode, layoutItem);\r\n      Object.keys(newNode)\r\n        .filter(option => !inArray(option, [\r\n          '_id', '$ref', 'arrayItem', 'arrayItemType', 'dataPointer', 'dataType',\r\n          'items', 'key', 'name', 'options', 'recursiveReference', 'type', 'widget'\r\n        ]))\r\n        .forEach(option => {\r\n          newNode.options[option] = newNode[option];\r\n          delete newNode[option];\r\n        });\r\n      if (!hasOwn(newNode, 'type') && isString(newNode.widget)) {\r\n        newNode.type = newNode.widget;\r\n        delete newNode.widget;\r\n      }\r\n      if (!hasOwn(newNode.options, 'title')) {\r\n        if (hasOwn(newNode.options, 'legend')) {\r\n          newNode.options.title = newNode.options.legend;\r\n          delete newNode.options.legend;\r\n        }\r\n      }\r\n      if (!hasOwn(newNode.options, 'validationMessages')) {\r\n        if (hasOwn(newNode.options, 'errorMessages')) {\r\n          newNode.options.validationMessages = newNode.options.errorMessages;\r\n          delete newNode.options.errorMessages;\r\n\r\n        // Convert Angular Schema Form (AngularJS) 'validationMessage' to\r\n        // Angular JSON Schema Form 'validationMessages'\r\n        // TV4 codes from https://github.com/geraintluff/tv4/blob/master/source/api.js\r\n        } else if (hasOwn(newNode.options, 'validationMessage')) {\r\n          if (typeof newNode.options.validationMessage === 'string') {\r\n            newNode.options.validationMessages = newNode.options.validationMessage;\r\n          } else {\r\n            newNode.options.validationMessages = {};\r\n            Object.keys(newNode.options.validationMessage).forEach(key => {\r\n              const code = key + '';\r\n              const newKey =\r\n                code ===  '0'  ? 'type' :\r\n                code ===  '1'  ? 'enum' :\r\n                code === '100' ? 'multipleOf' :\r\n                code === '101' ? 'minimum' :\r\n                code === '102' ? 'exclusiveMinimum' :\r\n                code === '103' ? 'maximum' :\r\n                code === '104' ? 'exclusiveMaximum' :\r\n                code === '200' ? 'minLength' :\r\n                code === '201' ? 'maxLength' :\r\n                code === '202' ? 'pattern' :\r\n                code === '300' ? 'minProperties' :\r\n                code === '301' ? 'maxProperties' :\r\n                code === '302' ? 'required' :\r\n                code === '304' ? 'dependencies' :\r\n                code === '400' ? 'minItems' :\r\n                code === '401' ? 'maxItems' :\r\n                code === '402' ? 'uniqueItems' :\r\n                code === '500' ? 'format' : code + '';\r\n              newNode.options.validationMessages[newKey] = newNode.options.validationMessage[key];\r\n            });\r\n          }\r\n          delete newNode.options.validationMessage;\r\n        }\r\n      }\r\n    } else if (JsonPointer.isJsonPointer(layoutItem)) {\r\n      newNode.dataPointer = layoutItem;\r\n    } else if (isString(layoutItem)) {\r\n      newNode.key = layoutItem;\r\n    } else {\r\n      console.error('buildLayout error: Form layout element not recognized:');\r\n      console.error(layoutItem);\r\n      return null;\r\n    }\r\n    let nodeSchema: any = null;\r\n\r\n    // If newNode does not have a dataPointer, try to find an equivalent\r\n    if (!hasOwn(newNode, 'dataPointer')) {\r\n\r\n      // If newNode has a key, change it to a dataPointer\r\n      if (hasOwn(newNode, 'key')) {\r\n        newNode.dataPointer = newNode.key === '*' ? newNode.key :\r\n          JsonPointer.compile(JsonPointer.parseObjectPath(newNode.key), '-');\r\n        delete newNode.key;\r\n\r\n      // If newNode is an array, search for dataPointer in child nodes\r\n      } else if (hasOwn(newNode, 'type') && newNode.type.slice(-5) === 'array') {\r\n        const findDataPointer = (items) => {\r\n          if (items === null || typeof items !== 'object') { return; }\r\n          if (hasOwn(items, 'dataPointer')) { return items.dataPointer; }\r\n          if (isArray(items.items)) {\r\n            for (const item of items.items) {\r\n              if (hasOwn(item, 'dataPointer') && item.dataPointer.indexOf('/-') !== -1) {\r\n                return item.dataPointer;\r\n              }\r\n              if (hasOwn(item, 'items')) {\r\n                const searchItem = findDataPointer(item);\r\n                if (searchItem) { return searchItem; }\r\n              }\r\n            }\r\n          }\r\n        };\r\n        const childDataPointer = findDataPointer(newNode);\r\n        if (childDataPointer) {\r\n          newNode.dataPointer =\r\n            childDataPointer.slice(0, childDataPointer.lastIndexOf('/-'));\r\n        }\r\n      }\r\n    }\r\n\r\n    if (hasOwn(newNode, 'dataPointer')) {\r\n      if (newNode.dataPointer === '*') {\r\n        return buildLayoutFromSchema(jsf, widgetLibrary, jsf.formValues);\r\n      }\r\n      const nodeValue =\r\n        JsonPointer.get(jsf.formValues, newNode.dataPointer.replace(/\\/-/g, '/1'));\r\n\r\n      // TODO: Create function getFormValues(jsf, dataPointer, forRefLibrary)\r\n      // check formOptions.setSchemaDefaults and formOptions.setLayoutDefaults\r\n      // then set apropriate values from initialVaues, schema, or layout\r\n\r\n      newNode.dataPointer =\r\n        JsonPointer.toGenericPointer(newNode.dataPointer, jsf.arrayMap);\r\n      const LastKey = JsonPointer.toKey(newNode.dataPointer);\r\n      if (!newNode.name && isString(LastKey) && LastKey !== '-') {\r\n        newNode.name = LastKey;\r\n      }\r\n      const shortDataPointer = removeRecursiveReferences(\r\n        newNode.dataPointer, jsf.dataRecursiveRefMap, jsf.arrayMap\r\n      );\r\n      const recursive = !shortDataPointer.length ||\r\n        shortDataPointer !== newNode.dataPointer;\r\n      let schemaPointer: string;\r\n      if (!jsf.dataMap.has(shortDataPointer)) {\r\n        jsf.dataMap.set(shortDataPointer, new Map());\r\n      }\r\n      const nodeDataMap = jsf.dataMap.get(shortDataPointer);\r\n      if (nodeDataMap.has('schemaPointer')) {\r\n        schemaPointer = nodeDataMap.get('schemaPointer');\r\n      } else {\r\n        schemaPointer = JsonPointer.toSchemaPointer(shortDataPointer, jsf.schema);\r\n        nodeDataMap.set('schemaPointer', schemaPointer);\r\n      }\r\n      nodeDataMap.set('disabled', !!newNode.options.disabled);\r\n      nodeSchema = JsonPointer.get(jsf.schema, schemaPointer);\r\n      if (nodeSchema) {\r\n        if (!hasOwn(newNode, 'type')) {\r\n          newNode.type = getInputType(nodeSchema, newNode);\r\n        } else if (!widgetLibrary.hasWidget(newNode.type)) {\r\n          const oldWidgetType = newNode.type;\r\n          newNode.type = getInputType(nodeSchema, newNode);\r\n          console.error(`error: widget type \"${oldWidgetType}\" ` +\r\n            `not found in library. Replacing with \"${newNode.type}\".`);\r\n        } else {\r\n          newNode.type = checkInlineType(newNode.type, nodeSchema, newNode);\r\n        }\r\n        if (nodeSchema.type === 'object' && isArray(nodeSchema.required)) {\r\n          nodeDataMap.set('required', nodeSchema.required);\r\n        }\r\n        newNode.dataType =\r\n          nodeSchema.type || (hasOwn(nodeSchema, '$ref') ? '$ref' : null);\r\n        updateInputOptions(newNode, nodeSchema, jsf);\r\n\r\n        // Present checkboxes as single control, rather than array\r\n        if (newNode.type === 'checkboxes' && hasOwn(nodeSchema, 'items')) {\r\n          updateInputOptions(newNode, nodeSchema.items, jsf);\r\n        } else if (newNode.dataType === 'array') {\r\n          newNode.options.maxItems = Math.min(\r\n            nodeSchema.maxItems || 1000, newNode.options.maxItems || 1000\r\n          );\r\n          newNode.options.minItems = Math.max(\r\n            nodeSchema.minItems || 0, newNode.options.minItems || 0\r\n          );\r\n          newNode.options.listItems = Math.max(\r\n            newNode.options.listItems || 0, isArray(nodeValue) ? nodeValue.length : 0\r\n          );\r\n          newNode.options.tupleItems =\r\n            isArray(nodeSchema.items) ? nodeSchema.items.length : 0;\r\n          if (newNode.options.maxItems < newNode.options.tupleItems) {\r\n            newNode.options.tupleItems = newNode.options.maxItems;\r\n            newNode.options.listItems = 0;\r\n          } else if (newNode.options.maxItems <\r\n            newNode.options.tupleItems + newNode.options.listItems\r\n          ) {\r\n            newNode.options.listItems =\r\n              newNode.options.maxItems - newNode.options.tupleItems;\r\n          } else if (newNode.options.minItems >\r\n            newNode.options.tupleItems + newNode.options.listItems\r\n          ) {\r\n            newNode.options.listItems =\r\n              newNode.options.minItems - newNode.options.tupleItems;\r\n          }\r\n          if (!nodeDataMap.has('maxItems')) {\r\n            nodeDataMap.set('maxItems', newNode.options.maxItems);\r\n            nodeDataMap.set('minItems', newNode.options.minItems);\r\n            nodeDataMap.set('tupleItems', newNode.options.tupleItems);\r\n            nodeDataMap.set('listItems', newNode.options.listItems);\r\n          }\r\n          if (!jsf.arrayMap.has(shortDataPointer)) {\r\n            jsf.arrayMap.set(shortDataPointer, newNode.options.tupleItems);\r\n          }\r\n        }\r\n        if (isInputRequired(jsf.schema, schemaPointer)) {\r\n          newNode.options.required = true;\r\n          jsf.fieldsRequired = true;\r\n        }\r\n      } else {\r\n        // TODO: create item in FormGroup model from layout key (?)\r\n        updateInputOptions(newNode, {}, jsf);\r\n      }\r\n\r\n      if (!newNode.options.title && !/^\\d+$/.test(newNode.name)) {\r\n        newNode.options.title = fixTitle(newNode.name);\r\n      }\r\n\r\n      if (hasOwn(newNode.options, 'copyValueTo')) {\r\n        if (typeof newNode.options.copyValueTo === 'string') {\r\n          newNode.options.copyValueTo = [newNode.options.copyValueTo];\r\n        }\r\n        if (isArray(newNode.options.copyValueTo)) {\r\n          newNode.options.copyValueTo = newNode.options.copyValueTo.map(item =>\r\n            JsonPointer.compile(JsonPointer.parseObjectPath(item), '-')\r\n          );\r\n        }\r\n      }\r\n\r\n      newNode.widget = widgetLibrary.getWidget(newNode.type);\r\n      nodeDataMap.set('inputType', newNode.type);\r\n      nodeDataMap.set('widget', newNode.widget);\r\n\r\n      if (newNode.dataType === 'array' &&\r\n        (hasOwn(newNode, 'items') || hasOwn(newNode, 'additionalItems'))\r\n      ) {\r\n        const itemRefPointer = removeRecursiveReferences(\r\n          newNode.dataPointer + '/-', jsf.dataRecursiveRefMap, jsf.arrayMap\r\n        );\r\n        if (!jsf.dataMap.has(itemRefPointer)) {\r\n          jsf.dataMap.set(itemRefPointer, new Map());\r\n        }\r\n        jsf.dataMap.get(itemRefPointer).set('inputType', 'section');\r\n\r\n        // Fix insufficiently nested array item groups\r\n        if (newNode.items.length > 1) {\r\n          const arrayItemGroup = [];\r\n          const arrayItemGroupTemplate = [];\r\n          let newIndex = 0;\r\n          for (let i = newNode.items.length - 1; i >= 0; i--) {\r\n            const subItem = newNode.items[i];\r\n            if (hasOwn(subItem, 'dataPointer') &&\r\n              subItem.dataPointer.slice(0, itemRefPointer.length) === itemRefPointer\r\n            ) {\r\n              const arrayItem = newNode.items.splice(i, 1)[0];\r\n              arrayItem.dataPointer = newNode.dataPointer + '/-' +\r\n                arrayItem.dataPointer.slice(itemRefPointer.length);\r\n              arrayItemGroup.unshift(arrayItem);\r\n              newIndex++;\r\n            } else {\r\n              subItem.arrayItem = true;\r\n              // TODO: Check schema to get arrayItemType and removable\r\n              subItem.arrayItemType = 'list';\r\n              subItem.removable = newNode.options.removable !== false;\r\n            }\r\n          }\r\n          if (arrayItemGroup.length) {\r\n            newNode.items.push({\r\n              _id: uniqueId(),\r\n              arrayItem: true,\r\n              arrayItemType: newNode.options.tupleItems > newNode.items.length ?\r\n                'tuple' : 'list',\r\n              items: arrayItemGroup,\r\n              options: { removable: newNode.options.removable !== false, },\r\n              dataPointer: newNode.dataPointer + '/-',\r\n              type: 'section',\r\n              widget: widgetLibrary.getWidget('section'),\r\n            });\r\n          }\r\n        } else {\r\n          // TODO: Fix to hndle multiple items\r\n          newNode.items[0].arrayItem = true;\r\n          if (!newNode.items[0].dataPointer) {\r\n            newNode.items[0].dataPointer =\r\n              JsonPointer.toGenericPointer(itemRefPointer, jsf.arrayMap);\r\n          }\r\n          if (!JsonPointer.has(newNode, '/items/0/options/removable')) {\r\n            newNode.items[0].options.removable = true;\r\n          }\r\n          if (newNode.options.orderable === false) {\r\n            newNode.items[0].options.orderable = false;\r\n          }\r\n          newNode.items[0].arrayItemType =\r\n            newNode.options.tupleItems ? 'tuple' : 'list';\r\n        }\r\n\r\n        if (isArray(newNode.items)) {\r\n          const arrayListItems =\r\n            newNode.items.filter(item => item.type !== '$ref').length -\r\n              newNode.options.tupleItems;\r\n          if (arrayListItems > newNode.options.listItems) {\r\n            newNode.options.listItems = arrayListItems;\r\n            nodeDataMap.set('listItems', arrayListItems);\r\n          }\r\n        }\r\n\r\n        if (!hasOwn(jsf.layoutRefLibrary, itemRefPointer)) {\r\n          jsf.layoutRefLibrary[itemRefPointer] =\r\n            cloneDeep(newNode.items[newNode.items.length - 1]);\r\n          if (recursive) {\r\n            jsf.layoutRefLibrary[itemRefPointer].recursiveReference = true;\r\n          }\r\n          forEach(jsf.layoutRefLibrary[itemRefPointer], (item, key) => {\r\n            if (hasOwn(item, '_id')) { item._id = null; }\r\n            if (recursive) {\r\n              if (hasOwn(item, 'dataPointer')) {\r\n                item.dataPointer = item.dataPointer.slice(itemRefPointer.length);\r\n              }\r\n            }\r\n          }, 'top-down');\r\n        }\r\n\r\n        // Add any additional default items\r\n        if (!newNode.recursiveReference || newNode.options.required) {\r\n          const arrayLength = Math.min(Math.max(\r\n            newNode.options.tupleItems + newNode.options.listItems,\r\n            isArray(nodeValue) ? nodeValue.length : 0\r\n          ), newNode.options.maxItems);\r\n          for (let i = newNode.items.length; i < arrayLength; i++) {\r\n            newNode.items.push(getLayoutNode({\r\n              $ref: itemRefPointer,\r\n              dataPointer: newNode.dataPointer,\r\n              recursiveReference: newNode.recursiveReference,\r\n            }, jsf, widgetLibrary));\r\n          }\r\n        }\r\n\r\n        // If needed, add button to add items to array\r\n        if (newNode.options.addable !== false &&\r\n          newNode.options.minItems < newNode.options.maxItems &&\r\n          (newNode.items[newNode.items.length - 1] || {}).type !== '$ref'\r\n        ) {\r\n          let buttonText = 'Add';\r\n          if (newNode.options.title) {\r\n            if (/^add\\b/i.test(newNode.options.title)) {\r\n              buttonText = newNode.options.title;\r\n            } else {\r\n              buttonText += ' ' + newNode.options.title;\r\n            }\r\n          } else if (newNode.name && !/^\\d+$/.test(newNode.name)) {\r\n            if (/^add\\b/i.test(newNode.name)) {\r\n              buttonText += ' ' + fixTitle(newNode.name);\r\n            } else {\r\n              buttonText = fixTitle(newNode.name);\r\n            }\r\n\r\n          // If newNode doesn't have a title, look for title of parent array item\r\n          } else {\r\n            const parentSchema =\r\n              getFromSchema(jsf.schema, newNode.dataPointer, 'parentSchema');\r\n            if (hasOwn(parentSchema, 'title')) {\r\n              buttonText += ' to ' + parentSchema.title;\r\n            } else {\r\n              const pointerArray = JsonPointer.parse(newNode.dataPointer);\r\n              buttonText += ' to ' + fixTitle(pointerArray[pointerArray.length - 2]);\r\n            }\r\n          }\r\n          newNode.items.push({\r\n            _id: uniqueId(),\r\n            arrayItem: true,\r\n            arrayItemType: 'list',\r\n            dataPointer: newNode.dataPointer + '/-',\r\n            options: {\r\n              listItems: newNode.options.listItems,\r\n              maxItems: newNode.options.maxItems,\r\n              minItems: newNode.options.minItems,\r\n              removable: false,\r\n              title: buttonText,\r\n              tupleItems: newNode.options.tupleItems,\r\n            },\r\n            recursiveReference: recursive,\r\n            type: '$ref',\r\n            widget: widgetLibrary.getWidget('$ref'),\r\n            $ref: itemRefPointer,\r\n          });\r\n          if (isString(JsonPointer.get(newNode, '/style/add'))) {\r\n            newNode.items[newNode.items.length - 1].options.fieldStyle =\r\n              newNode.style.add;\r\n            delete newNode.style.add;\r\n            if (isEmpty(newNode.style)) { delete newNode.style; }\r\n          }\r\n        }\r\n      } else {\r\n        newNode.arrayItem = false;\r\n      }\r\n    } else if (hasOwn(newNode, 'type') || hasOwn(newNode, 'items')) {\r\n      const parentType: string =\r\n        JsonPointer.get(jsf.layout, layoutPointer, 0, -2).type;\r\n      if (!hasOwn(newNode, 'type')) {\r\n        newNode.type =\r\n          inArray(parentType, ['tabs', 'tabarray']) ? 'tab' : 'array';\r\n      }\r\n      newNode.arrayItem = parentType === 'array';\r\n      newNode.widget = widgetLibrary.getWidget(newNode.type);\r\n      updateInputOptions(newNode, {}, jsf);\r\n    }\r\n    if (newNode.type === 'submit') { hasSubmitButton = true; }\r\n    return newNode;\r\n  });\r\n  if (jsf.hasRootReference) {\r\n    const fullLayout = cloneDeep(formLayout);\r\n    if (fullLayout[fullLayout.length - 1].type === 'submit') { fullLayout.pop(); }\r\n    jsf.layoutRefLibrary[''] = {\r\n      _id: null,\r\n      dataPointer: '',\r\n      dataType: 'object',\r\n      items: fullLayout,\r\n      name: '',\r\n      options: cloneDeep(jsf.formOptions.defautWidgetOptions),\r\n      recursiveReference: true,\r\n      required: false,\r\n      type: 'section',\r\n      widget: widgetLibrary.getWidget('section'),\r\n    };\r\n  }\r\n  if (!hasSubmitButton) {\r\n    formLayout.push({\r\n      _id: uniqueId(),\r\n      options: { title: 'Submit' },\r\n      type: 'submit',\r\n      widget: widgetLibrary.getWidget('submit'),\r\n    });\r\n  }\r\n  return formLayout;\r\n}\r\n\r\n/**\r\n * 'buildLayoutFromSchema' function\r\n *\r\n * @param  { any } jsf -\r\n * @param  { any } widgetLibrary -\r\n * @param  { any } nodeValue -\r\n * @param  { string = '' } schemaPointer -\r\n * @param  { string = '' } dataPointer -\r\n * @param  { boolean = false } arrayItem -\r\n * @param  { string = null } arrayItemType -\r\n * @param  { boolean = null } removable -\r\n * @param  { boolean = false } forRefLibrary -\r\n * @param  { string = '' } dataPointerPrefix -\r\n * @return { any }\r\n */\r\nexport function buildLayoutFromSchema(\r\n  jsf, widgetLibrary, nodeValue = null, schemaPointer = '',\r\n  dataPointer = '', arrayItem = false, arrayItemType: string = null,\r\n  removable: boolean = null, forRefLibrary = false, dataPointerPrefix = ''\r\n) {\r\n  const schema = JsonPointer.get(jsf.schema, schemaPointer);\r\n  if (!hasOwn(schema, 'type') && !hasOwn(schema, '$ref') &&\r\n    !hasOwn(schema, 'x-schema-form')\r\n  ) { return null; }\r\n  const newNodeType: string = getInputType(schema);\r\n  if (!isDefined(nodeValue) && (\r\n    jsf.formOptions.setSchemaDefaults === true ||\r\n    (jsf.formOptions.setSchemaDefaults === 'auto' && isEmpty(jsf.formValues))\r\n  )) {\r\n    nodeValue = JsonPointer.get(jsf.schema, schemaPointer + '/default');\r\n  }\r\n  let newNode: any = {\r\n    _id: forRefLibrary ? null : uniqueId(),\r\n    arrayItem: arrayItem,\r\n    dataPointer: JsonPointer.toGenericPointer(dataPointer, jsf.arrayMap),\r\n    dataType: schema.type || (hasOwn(schema, '$ref') ? '$ref' : null),\r\n    options: {},\r\n    required: isInputRequired(jsf.schema, schemaPointer),\r\n    type: newNodeType,\r\n    widget: widgetLibrary.getWidget(newNodeType),\r\n  };\r\n  const lastDataKey = JsonPointer.toKey(newNode.dataPointer);\r\n  if (lastDataKey !== '-') { newNode.name = lastDataKey; }\r\n  if (newNode.arrayItem) {\r\n    newNode.arrayItemType = arrayItemType;\r\n    newNode.options.removable = removable !== false;\r\n  }\r\n  const shortDataPointer = removeRecursiveReferences(\r\n    dataPointerPrefix + dataPointer, jsf.dataRecursiveRefMap, jsf.arrayMap\r\n  );\r\n  const recursive = !shortDataPointer.length ||\r\n    shortDataPointer !== dataPointerPrefix + dataPointer;\r\n  if (!jsf.dataMap.has(shortDataPointer)) {\r\n    jsf.dataMap.set(shortDataPointer, new Map());\r\n  }\r\n  const nodeDataMap = jsf.dataMap.get(shortDataPointer);\r\n  if (!nodeDataMap.has('inputType')) {\r\n    nodeDataMap.set('schemaPointer', schemaPointer);\r\n    nodeDataMap.set('inputType', newNode.type);\r\n    nodeDataMap.set('widget', newNode.widget);\r\n    nodeDataMap.set('disabled', !!newNode.options.disabled);\r\n  }\r\n  updateInputOptions(newNode, schema, jsf);\r\n  if (!newNode.options.title && newNode.name && !/^\\d+$/.test(newNode.name)) {\r\n    newNode.options.title = fixTitle(newNode.name);\r\n  }\r\n\r\n  if (newNode.dataType === 'object') {\r\n    if (isArray(schema.required) && !nodeDataMap.has('required')) {\r\n      nodeDataMap.set('required', schema.required);\r\n    }\r\n    if (isObject(schema.properties)) {\r\n      const newSection: any[] = [];\r\n      const propertyKeys = schema['ui:order'] || Object.keys(schema.properties);\r\n      if (propertyKeys.includes('*') && !hasOwn(schema.properties, '*')) {\r\n        const unnamedKeys = Object.keys(schema.properties)\r\n          .filter(key => !propertyKeys.includes(key));\r\n        for (let i = propertyKeys.length - 1; i >= 0; i--) {\r\n          if (propertyKeys[i] === '*') {\r\n            propertyKeys.splice(i, 1, ...unnamedKeys);\r\n          }\r\n        }\r\n      }\r\n      propertyKeys\r\n        .filter(key => hasOwn(schema.properties, key) ||\r\n          hasOwn(schema, 'additionalProperties')\r\n        )\r\n        .forEach(key => {\r\n          const keySchemaPointer = hasOwn(schema.properties, key) ?\r\n            '/properties/' + key : '/additionalProperties';\r\n          const innerItem = buildLayoutFromSchema(\r\n            jsf, widgetLibrary, isObject(nodeValue) ? nodeValue[key] : null,\r\n            schemaPointer + keySchemaPointer,\r\n            dataPointer + '/' + key,\r\n            false, null, null, forRefLibrary, dataPointerPrefix\r\n          );\r\n          if (innerItem) {\r\n            if (isInputRequired(schema, '/' + key)) {\r\n              innerItem.options.required = true;\r\n              jsf.fieldsRequired = true;\r\n            }\r\n            newSection.push(innerItem);\r\n          }\r\n        });\r\n      if (dataPointer === '' && !forRefLibrary) {\r\n        newNode = newSection;\r\n      } else {\r\n        newNode.items = newSection;\r\n      }\r\n    }\r\n    // TODO: Add patternProperties and additionalProperties inputs?\r\n    // ... possibly provide a way to enter both key names and values?\r\n    // if (isObject(schema.patternProperties)) { }\r\n    // if (isObject(schema.additionalProperties)) { }\r\n\r\n  } else if (newNode.dataType === 'array') {\r\n    newNode.items = [];\r\n    const templateArray: any[] = [];\r\n    newNode.options.maxItems = Math.min(\r\n      schema.maxItems || 1000, newNode.options.maxItems || 1000\r\n    );\r\n    newNode.options.minItems = Math.max(\r\n      schema.minItems || 0, newNode.options.minItems || 0\r\n    );\r\n    if (!newNode.options.minItems && isInputRequired(jsf.schema, schemaPointer)) {\r\n      newNode.options.minItems = 1;\r\n    }\r\n    if (!hasOwn(newNode.options, 'listItems')) { newNode.options.listItems = 1; }\r\n    newNode.options.tupleItems = isArray(schema.items) ? schema.items.length : 0;\r\n    if (newNode.options.maxItems <= newNode.options.tupleItems) {\r\n      newNode.options.tupleItems = newNode.options.maxItems;\r\n      newNode.options.listItems = 0;\r\n    } else if (newNode.options.maxItems <\r\n      newNode.options.tupleItems + newNode.options.listItems\r\n    ) {\r\n      newNode.options.listItems = newNode.options.maxItems - newNode.options.tupleItems;\r\n    } else if (newNode.options.minItems >\r\n      newNode.options.tupleItems + newNode.options.listItems\r\n    ) {\r\n      newNode.options.listItems = newNode.options.minItems - newNode.options.tupleItems;\r\n    }\r\n    if (!nodeDataMap.has('maxItems')) {\r\n      nodeDataMap.set('maxItems', newNode.options.maxItems);\r\n      nodeDataMap.set('minItems', newNode.options.minItems);\r\n      nodeDataMap.set('tupleItems', newNode.options.tupleItems);\r\n      nodeDataMap.set('listItems', newNode.options.listItems);\r\n    }\r\n    if (!jsf.arrayMap.has(shortDataPointer)) {\r\n      jsf.arrayMap.set(shortDataPointer, newNode.options.tupleItems);\r\n    }\r\n    removable = newNode.options.removable !== false;\r\n    let additionalItemsSchemaPointer: string = null;\r\n\r\n    // If 'items' is an array = tuple items\r\n    if (isArray(schema.items)) {\r\n      newNode.items = [];\r\n      for (let i = 0; i < newNode.options.tupleItems; i++) {\r\n        let newItem: any;\r\n        const itemRefPointer = removeRecursiveReferences(\r\n          shortDataPointer + '/' + i, jsf.dataRecursiveRefMap, jsf.arrayMap\r\n        );\r\n        const itemRecursive = !itemRefPointer.length ||\r\n          itemRefPointer !== shortDataPointer + '/' + i;\r\n\r\n        // If removable, add tuple item layout to layoutRefLibrary\r\n        if (removable && i >= newNode.options.minItems) {\r\n          if (!hasOwn(jsf.layoutRefLibrary, itemRefPointer)) {\r\n            // Set to null first to prevent recursive reference from causing endless loop\r\n            jsf.layoutRefLibrary[itemRefPointer] = null;\r\n            jsf.layoutRefLibrary[itemRefPointer] = buildLayoutFromSchema(\r\n              jsf, widgetLibrary, isArray(nodeValue) ? nodeValue[i] : null,\r\n              schemaPointer + '/items/' + i,\r\n              itemRecursive ? '' : dataPointer + '/' + i,\r\n              true, 'tuple', true, true, itemRecursive ? dataPointer + '/' + i : ''\r\n            );\r\n            if (itemRecursive) {\r\n              jsf.layoutRefLibrary[itemRefPointer].recursiveReference = true;\r\n            }\r\n          }\r\n          newItem = getLayoutNode({\r\n            $ref: itemRefPointer,\r\n            dataPointer: dataPointer + '/' + i,\r\n            recursiveReference: itemRecursive,\r\n          }, jsf, widgetLibrary, isArray(nodeValue) ? nodeValue[i] : null);\r\n        } else {\r\n          newItem = buildLayoutFromSchema(\r\n            jsf, widgetLibrary, isArray(nodeValue) ? nodeValue[i] : null,\r\n            schemaPointer + '/items/' + i,\r\n            dataPointer + '/' + i,\r\n            true, 'tuple', false, forRefLibrary, dataPointerPrefix\r\n          );\r\n        }\r\n        if (newItem) { newNode.items.push(newItem); }\r\n      }\r\n\r\n      // If 'additionalItems' is an object = additional list items, after tuple items\r\n      if (isObject(schema.additionalItems)) {\r\n        additionalItemsSchemaPointer = schemaPointer + '/additionalItems';\r\n      }\r\n\r\n    // If 'items' is an object = list items only (no tuple items)\r\n    } else if (isObject(schema.items)) {\r\n      additionalItemsSchemaPointer = schemaPointer + '/items';\r\n    }\r\n\r\n    if (additionalItemsSchemaPointer) {\r\n      const itemRefPointer = removeRecursiveReferences(\r\n        shortDataPointer + '/-', jsf.dataRecursiveRefMap, jsf.arrayMap\r\n      );\r\n      const itemRecursive = !itemRefPointer.length ||\r\n        itemRefPointer !== shortDataPointer + '/-';\r\n      const itemSchemaPointer = removeRecursiveReferences(\r\n        additionalItemsSchemaPointer, jsf.schemaRecursiveRefMap, jsf.arrayMap\r\n      );\r\n      // Add list item layout to layoutRefLibrary\r\n      if (itemRefPointer.length && !hasOwn(jsf.layoutRefLibrary, itemRefPointer)) {\r\n        // Set to null first to prevent recursive reference from causing endless loop\r\n        jsf.layoutRefLibrary[itemRefPointer] = null;\r\n        jsf.layoutRefLibrary[itemRefPointer] = buildLayoutFromSchema(\r\n          jsf, widgetLibrary, null,\r\n          itemSchemaPointer,\r\n          itemRecursive ? '' : dataPointer + '/-',\r\n          true, 'list', removable, true, itemRecursive ? dataPointer + '/-' : ''\r\n        );\r\n        if (itemRecursive) {\r\n          jsf.layoutRefLibrary[itemRefPointer].recursiveReference = true;\r\n        }\r\n      }\r\n\r\n      // Add any additional default items\r\n      if (!itemRecursive || newNode.options.required) {\r\n        const arrayLength = Math.min(Math.max(\r\n          itemRecursive ? 0 :\r\n            newNode.options.tupleItems + newNode.options.listItems,\r\n          isArray(nodeValue) ? nodeValue.length : 0\r\n        ), newNode.options.maxItems);\r\n        if (newNode.items.length < arrayLength) {\r\n          for (let i = newNode.items.length; i < arrayLength; i++) {\r\n            newNode.items.push(getLayoutNode({\r\n              $ref: itemRefPointer,\r\n              dataPointer: dataPointer + '/-',\r\n              recursiveReference: itemRecursive,\r\n            }, jsf, widgetLibrary, isArray(nodeValue) ? nodeValue[i] : null));\r\n          }\r\n        }\r\n      }\r\n\r\n      // If needed, add button to add items to array\r\n      if (newNode.options.addable !== false &&\r\n        newNode.options.minItems < newNode.options.maxItems &&\r\n        (newNode.items[newNode.items.length - 1] || {}).type !== '$ref'\r\n      ) {\r\n        let buttonText =\r\n          ((jsf.layoutRefLibrary[itemRefPointer] || {}).options || {}).title;\r\n        const prefix = buttonText ? 'Add ' : 'Add to ';\r\n        if (!buttonText) {\r\n          buttonText = schema.title || fixTitle(JsonPointer.toKey(dataPointer));\r\n        }\r\n        if (!/^add\\b/i.test(buttonText)) { buttonText = prefix + buttonText; }\r\n        newNode.items.push({\r\n          _id: uniqueId(),\r\n          arrayItem: true,\r\n          arrayItemType: 'list',\r\n          dataPointer: newNode.dataPointer + '/-',\r\n          options: {\r\n            listItems: newNode.options.listItems,\r\n            maxItems: newNode.options.maxItems,\r\n            minItems: newNode.options.minItems,\r\n            removable: false,\r\n            title: buttonText,\r\n            tupleItems: newNode.options.tupleItems,\r\n          },\r\n          recursiveReference: itemRecursive,\r\n          type: '$ref',\r\n          widget: widgetLibrary.getWidget('$ref'),\r\n          $ref: itemRefPointer,\r\n        });\r\n      }\r\n    }\r\n\r\n  } else if (newNode.dataType === '$ref') {\r\n    const schemaRef = JsonPointer.compile(schema.$ref);\r\n    const dataRef = JsonPointer.toDataPointer(schemaRef, jsf.schema);\r\n    let buttonText = '';\r\n\r\n    // Get newNode title\r\n    if (newNode.options.add) {\r\n      buttonText = newNode.options.add;\r\n    } else if (newNode.name && !/^\\d+$/.test(newNode.name)) {\r\n      buttonText =\r\n        (/^add\\b/i.test(newNode.name) ? '' : 'Add ') + fixTitle(newNode.name);\r\n\r\n    // If newNode doesn't have a title, look for title of parent array item\r\n    } else {\r\n      const parentSchema =\r\n        JsonPointer.get(jsf.schema, schemaPointer, 0, -1);\r\n      if (hasOwn(parentSchema, 'title')) {\r\n        buttonText = 'Add to ' + parentSchema.title;\r\n      } else {\r\n        const pointerArray = JsonPointer.parse(newNode.dataPointer);\r\n        buttonText = 'Add to ' + fixTitle(pointerArray[pointerArray.length - 2]);\r\n      }\r\n    }\r\n    Object.assign(newNode, {\r\n      recursiveReference: true,\r\n      widget: widgetLibrary.getWidget('$ref'),\r\n      $ref: dataRef,\r\n    });\r\n    Object.assign(newNode.options, {\r\n      removable: false,\r\n      title: buttonText,\r\n    });\r\n    if (isNumber(JsonPointer.get(jsf.schema, schemaPointer, 0, -1).maxItems)) {\r\n      newNode.options.maxItems =\r\n        JsonPointer.get(jsf.schema, schemaPointer, 0, -1).maxItems;\r\n    }\r\n\r\n    // Add layout template to layoutRefLibrary\r\n    if (dataRef.length) {\r\n      if (!hasOwn(jsf.layoutRefLibrary, dataRef)) {\r\n        // Set to null first to prevent recursive reference from causing endless loop\r\n        jsf.layoutRefLibrary[dataRef] = null;\r\n        const newLayout = buildLayoutFromSchema(\r\n          jsf, widgetLibrary, null, schemaRef, '',\r\n          newNode.arrayItem, newNode.arrayItemType, true, true, dataPointer\r\n        );\r\n        if (newLayout) {\r\n          newLayout.recursiveReference = true;\r\n          jsf.layoutRefLibrary[dataRef] = newLayout;\r\n        } else {\r\n          delete jsf.layoutRefLibrary[dataRef];\r\n        }\r\n      } else if (!jsf.layoutRefLibrary[dataRef].recursiveReference) {\r\n        jsf.layoutRefLibrary[dataRef].recursiveReference = true;\r\n      }\r\n    }\r\n  }\r\n  return newNode;\r\n}\r\n\r\n/**\r\n * 'mapLayout' function\r\n *\r\n * Creates a new layout by running each element in an existing layout through\r\n * an iteratee. Recursively maps within array elements 'items' and 'tabs'.\r\n * The iteratee is invoked with four arguments: (value, index, layout, path)\r\n *\r\n * The returned layout may be longer (or shorter) then the source layout.\r\n *\r\n * If an item from the source layout returns multiple items (as '*' usually will),\r\n * this function will keep all returned items in-line with the surrounding items.\r\n *\r\n * If an item from the source layout causes an error and returns null, it is\r\n * skipped without error, and the function will still return all non-null items.\r\n *\r\n * @param  { any[] } layout - the layout to map\r\n * @param  { (v: any, i?: number, l?: any, p?: string) => any }\r\n *   function - the funciton to invoke on each element\r\n * @param  { string|string[] = '' } layoutPointer - the layoutPointer to layout, inside rootLayout\r\n * @param  { any[] = layout } rootLayout - the root layout, which conatins layout\r\n * @return { any[] }\r\n */\r\nexport function mapLayout(layout, fn, layoutPointer = '', rootLayout = layout) {\r\n  let indexPad = 0;\r\n  let newLayout: any[] = [];\r\n  forEach(layout, (item, index) => {\r\n    const realIndex = +index + indexPad;\r\n    const newLayoutPointer = layoutPointer + '/' + realIndex;\r\n    let newNode: any = copy(item);\r\n    let itemsArray: any[] = [];\r\n    if (isObject(item)) {\r\n      if (hasOwn(item, 'tabs')) {\r\n        item.items = item.tabs;\r\n        delete item.tabs;\r\n      }\r\n      if (hasOwn(item, 'items')) {\r\n        itemsArray = isArray(item.items) ? item.items : [item.items];\r\n      }\r\n    }\r\n    if (itemsArray.length) {\r\n      newNode.items = mapLayout(itemsArray, fn, newLayoutPointer + '/items', rootLayout);\r\n    }\r\n    newNode = fn(newNode, realIndex, newLayoutPointer, rootLayout);\r\n    if (!isDefined(newNode)) {\r\n      indexPad--;\r\n    } else {\r\n      if (isArray(newNode)) { indexPad += newNode.length - 1; }\r\n      newLayout = newLayout.concat(newNode);\r\n    }\r\n  });\r\n  return newLayout;\r\n}\r\n\r\n/**\r\n * 'getLayoutNode' function\r\n * Copy a new layoutNode from layoutRefLibrary\r\n *\r\n * @param  { any } refNode -\r\n * @param  { any } layoutRefLibrary -\r\n * @param  { any = null } widgetLibrary -\r\n * @param  { any = null } nodeValue -\r\n * @return { any } copied layoutNode\r\n */\r\nexport function getLayoutNode(\r\n  refNode, jsf, widgetLibrary: any = null, nodeValue: any = null\r\n) {\r\n\r\n  // If recursive reference and building initial layout, return Add button\r\n  if (refNode.recursiveReference && widgetLibrary) {\r\n    const newLayoutNode = cloneDeep(refNode);\r\n    if (!newLayoutNode.options) { newLayoutNode.options = {}; }\r\n    Object.assign(newLayoutNode, {\r\n      recursiveReference: true,\r\n      widget: widgetLibrary.getWidget('$ref'),\r\n    });\r\n    Object.assign(newLayoutNode.options, {\r\n      removable: false,\r\n      title: 'Add ' + newLayoutNode.$ref,\r\n    });\r\n    return newLayoutNode;\r\n\r\n  // Otherwise, return referenced layout\r\n} else {\r\n    let newLayoutNode = jsf.layoutRefLibrary[refNode.$ref];\r\n    // If value defined, build new node from schema (to set array lengths)\r\n    if (isDefined(nodeValue)) {\r\n      newLayoutNode = buildLayoutFromSchema(\r\n        jsf, widgetLibrary, nodeValue,\r\n        JsonPointer.toSchemaPointer(refNode.$ref, jsf.schema),\r\n        refNode.$ref, newLayoutNode.arrayItem,\r\n        newLayoutNode.arrayItemType, newLayoutNode.options.removable, false\r\n      );\r\n    } else {\r\n      // If value not defined, copy node from layoutRefLibrary\r\n      newLayoutNode = cloneDeep(newLayoutNode);\r\n      JsonPointer.forEachDeep(newLayoutNode, (subNode, pointer) => {\r\n\r\n        // Reset all _id's in newLayoutNode to unique values\r\n        if (hasOwn(subNode, '_id')) { subNode._id = uniqueId(); }\r\n\r\n        // If adding a recursive item, prefix current dataPointer\r\n        // to all dataPointers in new layoutNode\r\n        if (refNode.recursiveReference && hasOwn(subNode, 'dataPointer')) {\r\n          subNode.dataPointer = refNode.dataPointer + subNode.dataPointer;\r\n        }\r\n      });\r\n    }\r\n    return newLayoutNode;\r\n  }\r\n}\r\n\r\n/**\r\n * 'buildTitleMap' function\r\n *\r\n * @param  { any } titleMap -\r\n * @param  { any } enumList -\r\n * @param  { boolean = true } fieldRequired -\r\n * @param  { boolean = true } flatList -\r\n * @return { TitleMapItem[] }\r\n */\r\nexport function buildTitleMap(\r\n  titleMap, enumList, fieldRequired = true, flatList = true\r\n) {\r\n  let newTitleMap: TitleMapItem[] = [];\r\n  let hasEmptyValue = false;\r\n  if (titleMap) {\r\n    if (isArray(titleMap)) {\r\n      if (enumList) {\r\n        for (const i of Object.keys(titleMap)) {\r\n          if (isObject(titleMap[i])) { // JSON Form style\r\n            const value = titleMap[i].value;\r\n            if (enumList.includes(value)) {\r\n              const name = titleMap[i].name;\r\n              newTitleMap.push({ name, value });\r\n              if (value === undefined || value === null) { hasEmptyValue = true; }\r\n            }\r\n          } else if (isString(titleMap[i])) { // React Jsonschema Form style\r\n            if (i < enumList.length) {\r\n              const name = titleMap[i];\r\n              const value = enumList[i];\r\n              newTitleMap.push({ name, value });\r\n              if (value === undefined || value === null) { hasEmptyValue = true; }\r\n            }\r\n          }\r\n        }\r\n      } else { // If array titleMap and no enum list, just return the titleMap - Angular Schema Form style\r\n        newTitleMap = titleMap;\r\n        if (!fieldRequired) {\r\n          hasEmptyValue = !!newTitleMap\r\n            .filter(i => i.value === undefined || i.value === null)\r\n            .length;\r\n        }\r\n      }\r\n    } else if (enumList) { // Alternate JSON Form style, with enum list\r\n      for (const i of Object.keys(enumList)) {\r\n        const value = enumList[i];\r\n        if (hasOwn(titleMap, value)) {\r\n          const name = titleMap[value];\r\n          newTitleMap.push({ name, value });\r\n          if (value === undefined || value === null) { hasEmptyValue = true; }\r\n        }\r\n      }\r\n    } else { // Alternate JSON Form style, without enum list\r\n      for (const value of Object.keys(titleMap)) {\r\n        const name = titleMap[value];\r\n        newTitleMap.push({ name, value });\r\n        if (value === undefined || value === null) { hasEmptyValue = true; }\r\n      }\r\n    }\r\n  } else if (enumList) { // Build map from enum list alone\r\n    for (const i of Object.keys(enumList)) {\r\n      const name = enumList[i];\r\n      const value = enumList[i];\r\n      newTitleMap.push({ name, value});\r\n      if (value === undefined || value === null) { hasEmptyValue = true; }\r\n    }\r\n  } else { // If no titleMap and no enum list, return default map of boolean values\r\n    newTitleMap = [ { name: 'True', value: true }, { name: 'False', value: false } ];\r\n  }\r\n\r\n  // Does titleMap have groups?\r\n  if (newTitleMap.some(title => hasOwn(title, 'group'))) {\r\n    hasEmptyValue = false;\r\n\r\n    // If flatList = true, flatten items & update name to group: name\r\n    if (flatList) {\r\n      newTitleMap = newTitleMap.reduce((groupTitleMap, title) => {\r\n        if (hasOwn(title, 'group')) {\r\n          if (isArray(title.items)) {\r\n            groupTitleMap = [\r\n              ...groupTitleMap,\r\n              ...title.items.map(item =>\r\n                ({ ...item, ...{ name: `${title.group}: ${item.name}` } })\r\n              )\r\n            ];\r\n            if (title.items.some(item => item.value === undefined || item.value === null)) {\r\n              hasEmptyValue = true;\r\n            }\r\n          }\r\n          if (hasOwn(title, 'name') && hasOwn(title, 'value')) {\r\n            title.name = `${title.group}: ${title.name}`;\r\n            delete title.group;\r\n            groupTitleMap.push(title);\r\n            if (title.value === undefined || title.value === null) {\r\n              hasEmptyValue = true;\r\n            }\r\n          }\r\n        } else {\r\n          groupTitleMap.push(title);\r\n          if (title.value === undefined || title.value === null) {\r\n            hasEmptyValue = true;\r\n          }\r\n        }\r\n        return groupTitleMap;\r\n      }, []);\r\n\r\n    // If flatList = false, combine items from matching groups\r\n    } else {\r\n      newTitleMap = newTitleMap.reduce((groupTitleMap, title) => {\r\n        if (hasOwn(title, 'group')) {\r\n          if (title.group !== (groupTitleMap[groupTitleMap.length - 1] || {}).group) {\r\n            groupTitleMap.push({ group: title.group, items: title.items || [] });\r\n          }\r\n          if (hasOwn(title, 'name') && hasOwn(title, 'value')) {\r\n            groupTitleMap[groupTitleMap.length - 1].items\r\n              .push({ name: title.name, value: title.value });\r\n            if (title.value === undefined || title.value === null) {\r\n              hasEmptyValue = true;\r\n            }\r\n          }\r\n        } else {\r\n          groupTitleMap.push(title);\r\n          if (title.value === undefined || title.value === null) {\r\n            hasEmptyValue = true;\r\n          }\r\n        }\r\n        return groupTitleMap;\r\n      }, []);\r\n    }\r\n  }\r\n  if (!fieldRequired && !hasEmptyValue) {\r\n    newTitleMap.unshift({ name: '<em>None</em>', value: null });\r\n  }\r\n  return newTitleMap;\r\n}\r\n","import { isEqual } from 'lodash';\r\n\r\nimport {\r\n  isArray, isEmpty, isNumber, isObject, isString\r\n} from './validator.functions';\r\nimport { hasOwn, uniqueItems, commonItems } from './utility.functions';\r\nimport { JsonPointer, Pointer } from './jsonpointer.functions';\r\n\r\n/**\r\n * 'mergeSchemas' function\r\n *\r\n * Merges multiple JSON schemas into a single schema with combined rules.\r\n *\r\n * If able to logically merge properties from all schemas,\r\n * returns a single schema object containing all merged properties.\r\n *\r\n * Example: ({ a: b, max: 1 }, { c: d, max: 2 }) => { a: b, c: d, max: 1 }\r\n *\r\n * If unable to logically merge, returns an allOf schema object containing\r\n * an array of the original schemas;\r\n *\r\n * Example: ({ a: b }, { a: d }) => { allOf: [ { a: b }, { a: d } ] }\r\n *\r\n * @param  { any } schemas - one or more input schemas\r\n * @return { any } - merged schema\r\n */\r\nexport function mergeSchemas(...schemas) {\r\n  schemas = schemas.filter(schema => !isEmpty(schema));\r\n  if (schemas.some(schema => !isObject(schema))) { return null; }\r\n  const combinedSchema: any = {};\r\n  for (const schema of schemas) {\r\n    for (const key of Object.keys(schema)) {\r\n      const combinedValue = combinedSchema[key];\r\n      const schemaValue = schema[key];\r\n      if (!hasOwn(combinedSchema, key) || isEqual(combinedValue, schemaValue)) {\r\n        combinedSchema[key] = schemaValue;\r\n      } else {\r\n        switch (key) {\r\n          case 'allOf':\r\n            // Combine all items from both arrays\r\n            if (isArray(combinedValue) && isArray(schemaValue)) {\r\n              combinedSchema.allOf = mergeSchemas(...combinedValue, ...schemaValue);\r\n            } else {\r\n              return { allOf: [ ...schemas ] };\r\n            }\r\n          break;\r\n          case 'additionalItems': case 'additionalProperties':\r\n          case 'contains': case 'propertyNames':\r\n            // Merge schema objects\r\n            if (isObject(combinedValue) && isObject(schemaValue)) {\r\n              combinedSchema[key] = mergeSchemas(combinedValue, schemaValue);\r\n            // additionalProperties == false in any schema overrides all other values\r\n            } else if (\r\n              key === 'additionalProperties' &&\r\n              (combinedValue === false || schemaValue === false)\r\n            ) {\r\n              combinedSchema.combinedSchema = false;\r\n            } else {\r\n              return { allOf: [ ...schemas ] };\r\n            }\r\n          break;\r\n          case 'anyOf': case 'oneOf': case 'enum':\r\n            // Keep only items that appear in both arrays\r\n            if (isArray(combinedValue) && isArray(schemaValue)) {\r\n              combinedSchema[key] = combinedValue.filter(item1 =>\r\n                schemaValue.findIndex(item2 => isEqual(item1, item2)) > -1\r\n              );\r\n              if (!combinedSchema[key].length) { return { allOf: [ ...schemas ] }; }\r\n            } else {\r\n              return { allOf: [ ...schemas ] };\r\n            }\r\n          break;\r\n          case 'definitions':\r\n            // Combine keys from both objects\r\n            if (isObject(combinedValue) && isObject(schemaValue)) {\r\n              const combinedObject = { ...combinedValue };\r\n              for (const subKey of Object.keys(schemaValue)) {\r\n                if (!hasOwn(combinedObject, subKey) ||\r\n                  isEqual(combinedObject[subKey], schemaValue[subKey])\r\n                ) {\r\n                  combinedObject[subKey] = schemaValue[subKey];\r\n                // Don't combine matching keys with different values\r\n                } else {\r\n                  return { allOf: [ ...schemas ] };\r\n                }\r\n              }\r\n              combinedSchema.definitions = combinedObject;\r\n            } else {\r\n              return { allOf: [ ...schemas ] };\r\n            }\r\n          break;\r\n          case 'dependencies':\r\n            // Combine all keys from both objects\r\n            // and merge schemas on matching keys,\r\n            // converting from arrays to objects if necessary\r\n            if (isObject(combinedValue) && isObject(schemaValue)) {\r\n              const combinedObject = { ...combinedValue };\r\n              for (const subKey of Object.keys(schemaValue)) {\r\n                if (!hasOwn(combinedObject, subKey) ||\r\n                  isEqual(combinedObject[subKey], schemaValue[subKey])\r\n                ) {\r\n                  combinedObject[subKey] = schemaValue[subKey];\r\n                // If both keys are arrays, include all items from both arrays,\r\n                // excluding duplicates\r\n                } else if (\r\n                  isArray(schemaValue[subKey]) && isArray(combinedObject[subKey])\r\n                ) {\r\n                  combinedObject[subKey] =\r\n                    uniqueItems(...combinedObject[subKey], ...schemaValue[subKey]);\r\n                // If either key is an object, merge the schemas\r\n                } else if (\r\n                  (isArray(schemaValue[subKey]) || isObject(schemaValue[subKey])) &&\r\n                  (isArray(combinedObject[subKey]) || isObject(combinedObject[subKey]))\r\n                ) {\r\n                  // If either key is an array, convert it to an object first\r\n                  const required = isArray(combinedSchema.required) ?\r\n                    combinedSchema.required : [];\r\n                  const combinedDependency = isArray(combinedObject[subKey]) ?\r\n                    { required: uniqueItems(...required, combinedObject[subKey]) } :\r\n                    combinedObject[subKey];\r\n                  const schemaDependency = isArray(schemaValue[subKey]) ?\r\n                    { required: uniqueItems(...required, schemaValue[subKey]) } :\r\n                    schemaValue[subKey];\r\n                  combinedObject[subKey] =\r\n                    mergeSchemas(combinedDependency, schemaDependency);\r\n                } else {\r\n                  return { allOf: [ ...schemas ] };\r\n                }\r\n              }\r\n              combinedSchema.dependencies = combinedObject;\r\n            } else {\r\n              return { allOf: [ ...schemas ] };\r\n            }\r\n          break;\r\n          case 'items':\r\n            // If arrays, keep only items that appear in both arrays\r\n            if (isArray(combinedValue) && isArray(schemaValue)) {\r\n              combinedSchema.items = combinedValue.filter(item1 =>\r\n                schemaValue.findIndex(item2 => isEqual(item1, item2)) > -1\r\n              );\r\n              if (!combinedSchema.items.length) { return { allOf: [ ...schemas ] }; }\r\n            // If both keys are objects, merge them\r\n            } else if (isObject(combinedValue) && isObject(schemaValue)) {\r\n              combinedSchema.items = mergeSchemas(combinedValue, schemaValue);\r\n            // If object + array, combine object with each array item\r\n            } else if (isArray(combinedValue) && isObject(schemaValue)) {\r\n              combinedSchema.items =\r\n                combinedValue.map(item => mergeSchemas(item, schemaValue));\r\n            } else if (isObject(combinedValue) && isArray(schemaValue)) {\r\n              combinedSchema.items =\r\n                schemaValue.map(item => mergeSchemas(item, combinedValue));\r\n            } else {\r\n              return { allOf: [ ...schemas ] };\r\n            }\r\n          break;\r\n          case 'multipleOf':\r\n            // TODO: Adjust to correctly handle decimal values\r\n            // If numbers, set to least common multiple\r\n            if (isNumber(combinedValue) && isNumber(schemaValue)) {\r\n              const gcd = (x, y) => !y ? x : gcd(y, x % y);\r\n              const lcm = (x, y) => (x * y) / gcd(x, y);\r\n              combinedSchema.multipleOf = lcm(combinedValue, schemaValue);\r\n            } else {\r\n              return { allOf: [ ...schemas ] };\r\n            }\r\n          break;\r\n          case 'maximum': case 'exclusiveMaximum': case 'maxLength':\r\n          case 'maxItems': case 'maxProperties':\r\n            // If numbers, set to lowest value\r\n            if (isNumber(combinedValue) && isNumber(schemaValue)) {\r\n              combinedSchema[key] = Math.min(combinedValue, schemaValue);\r\n            } else {\r\n              return { allOf: [ ...schemas ] };\r\n            }\r\n          break;\r\n          case 'minimum': case 'exclusiveMinimum': case 'minLength':\r\n          case 'minItems': case 'minProperties':\r\n            // If numbers, set to highest value\r\n            if (isNumber(combinedValue) && isNumber(schemaValue)) {\r\n              combinedSchema[key] = Math.max(combinedValue, schemaValue);\r\n            } else {\r\n              return { allOf: [ ...schemas ] };\r\n            }\r\n          break;\r\n          case 'not':\r\n            // Combine not values into anyOf array\r\n            if (isObject(combinedValue) && isObject(schemaValue)) {\r\n              const notAnyOf = [combinedValue, schemaValue]\r\n                .reduce((notAnyOfArray, notSchema) =>\r\n                  isArray(notSchema.anyOf) &&\r\n                  Object.keys(notSchema).length === 1 ?\r\n                    [ ...notAnyOfArray, ...notSchema.anyOf ] :\r\n                    [ ...notAnyOfArray, notSchema ]\r\n                , []);\r\n              // TODO: Remove duplicate items from array\r\n              combinedSchema.not = { anyOf: notAnyOf };\r\n            } else {\r\n              return { allOf: [ ...schemas ] };\r\n            }\r\n          break;\r\n          case 'patternProperties':\r\n            // Combine all keys from both objects\r\n            // and merge schemas on matching keys\r\n            if (isObject(combinedValue) && isObject(schemaValue)) {\r\n              const combinedObject = { ...combinedValue };\r\n              for (const subKey of Object.keys(schemaValue)) {\r\n                if (!hasOwn(combinedObject, subKey) ||\r\n                  isEqual(combinedObject[subKey], schemaValue[subKey])\r\n                ) {\r\n                  combinedObject[subKey] = schemaValue[subKey];\r\n                // If both keys are objects, merge them\r\n                } else if (\r\n                  isObject(schemaValue[subKey]) && isObject(combinedObject[subKey])\r\n                ) {\r\n                  combinedObject[subKey] =\r\n                    mergeSchemas(combinedObject[subKey], schemaValue[subKey]);\r\n                } else {\r\n                  return { allOf: [ ...schemas ] };\r\n                }\r\n              }\r\n              combinedSchema.patternProperties = combinedObject;\r\n            } else {\r\n              return { allOf: [ ...schemas ] };\r\n            }\r\n          break;\r\n          case 'properties':\r\n            // Combine all keys from both objects\r\n            // unless additionalProperties === false\r\n            // and merge schemas on matching keys\r\n            if (isObject(combinedValue) && isObject(schemaValue)) {\r\n              const combinedObject = { ...combinedValue };\r\n              // If new schema has additionalProperties,\r\n              // merge or remove non-matching property keys in combined schema\r\n              if (hasOwn(schemaValue, 'additionalProperties')) {\r\n                Object.keys(combinedValue)\r\n                  .filter(combinedKey => !Object.keys(schemaValue).includes(combinedKey))\r\n                  .forEach(nonMatchingKey => {\r\n                    if (schemaValue.additionalProperties === false) {\r\n                      delete combinedObject[nonMatchingKey];\r\n                    } else if (isObject(schemaValue.additionalProperties)) {\r\n                      combinedObject[nonMatchingKey] = mergeSchemas(\r\n                        combinedObject[nonMatchingKey],\r\n                        schemaValue.additionalProperties\r\n                      );\r\n                    }\r\n                  });\r\n              }\r\n              for (const subKey of Object.keys(schemaValue)) {\r\n                if (isEqual(combinedObject[subKey], schemaValue[subKey]) || (\r\n                  !hasOwn(combinedObject, subKey) &&\r\n                  !hasOwn(combinedObject, 'additionalProperties')\r\n                )) {\r\n                  combinedObject[subKey] = schemaValue[subKey];\r\n                // If combined schema has additionalProperties,\r\n                // merge or ignore non-matching property keys in new schema\r\n                } else if (\r\n                  !hasOwn(combinedObject, subKey) &&\r\n                  hasOwn(combinedObject, 'additionalProperties')\r\n                ) {\r\n                  // If combinedObject.additionalProperties === false,\r\n                  // do nothing (don't set key)\r\n                  // If additionalProperties is object, merge with new key\r\n                  if (isObject(combinedObject.additionalProperties)) {\r\n                    combinedObject[subKey] = mergeSchemas(\r\n                      combinedObject.additionalProperties, schemaValue[subKey]\r\n                    );\r\n                  }\r\n                // If both keys are objects, merge them\r\n                } else if (\r\n                  isObject(schemaValue[subKey]) &&\r\n                  isObject(combinedObject[subKey])\r\n                ) {\r\n                  combinedObject[subKey] =\r\n                    mergeSchemas(combinedObject[subKey], schemaValue[subKey]);\r\n                } else {\r\n                  return { allOf: [ ...schemas ] };\r\n                }\r\n              }\r\n              combinedSchema.properties = combinedObject;\r\n            } else {\r\n              return { allOf: [ ...schemas ] };\r\n            }\r\n          break;\r\n          case 'required':\r\n            // If arrays, include all items from both arrays, excluding duplicates\r\n            if (isArray(combinedValue) && isArray(schemaValue)) {\r\n              combinedSchema.required = uniqueItems(...combinedValue, ...schemaValue);\r\n            // If booleans, aet true if either true\r\n            } else if (\r\n              typeof schemaValue === 'boolean' &&\r\n              typeof combinedValue === 'boolean'\r\n            ) {\r\n              combinedSchema.required = !!combinedValue || !!schemaValue;\r\n            } else {\r\n              return { allOf: [ ...schemas ] };\r\n            }\r\n          break;\r\n          case '$schema': case '$id': case 'id':\r\n            // Don't combine these keys\r\n          break;\r\n          case 'title': case 'description':\r\n            // Return the last value, overwriting any previous one\r\n            // These properties are not used for validation, so conflicts don't matter\r\n            combinedSchema[key] = schemaValue;\r\n          break;\r\n          case 'type':\r\n            if (\r\n              (isArray(schemaValue) || isString(schemaValue)) &&\r\n              (isArray(combinedValue) || isString(combinedValue))\r\n            ) {\r\n              const combinedTypes = commonItems(combinedValue, schemaValue);\r\n              if (!combinedTypes.length) { return { allOf: [ ...schemas ] }; }\r\n              combinedSchema.type = combinedTypes.length > 1 ? combinedTypes : combinedTypes[0];\r\n            } else {\r\n              return { allOf: [ ...schemas ] };\r\n            }\r\n          break;\r\n          case 'uniqueItems':\r\n            // Set true if either true\r\n            combinedSchema.uniqueItems = !!combinedValue || !!schemaValue;\r\n          break;\r\n          default:\r\n            return { allOf: [ ...schemas ] };\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return combinedSchema;\r\n}\r\n","import { Directive, ElementRef, HostListener, Input, NgZone, OnInit } from '@angular/core';\r\n\r\nimport { JsonSchemaFormService } from '../json-schema-form.service';\r\nimport { JsonPointer } from '../shared/jsonpointer.functions';\r\n\r\n/**\r\n * OrderableDirective\r\n *\r\n * Enables array elements to be reordered by dragging and dropping.\r\n *\r\n * Only works for arrays that have at least two elements.\r\n *\r\n * Also detects arrays-within-arrays, and correctly moves either\r\n * the child array element or the parent array element,\r\n * depending on the drop targert.\r\n *\r\n * Listeners for movable element being dragged:\r\n * - dragstart: add 'dragging' class to element, set effectAllowed = 'move'\r\n * - dragover: set dropEffect = 'move'\r\n * - dragend: remove 'dragging' class from element\r\n *\r\n * Listeners for stationary items being dragged over:\r\n * - dragenter: add 'drag-target-...' classes to element\r\n * - dragleave: remove 'drag-target-...' classes from element\r\n * - drop: remove 'drag-target-...' classes from element, move dropped array item\r\n */\r\n@Directive({\r\n  selector: '[orderable]',\r\n})\r\nexport class OrderableDirective implements OnInit {\r\n  arrayLayoutIndex: string;\r\n  element: any;\r\n  overParentElement = false;\r\n  overChildElement = false;\r\n  @Input() orderable: boolean;\r\n  @Input() layoutNode: any;\r\n  @Input() layoutIndex: number[];\r\n  @Input() dataIndex: number[];\r\n\r\n  constructor(\r\n    private elementRef: ElementRef,\r\n    private jsf: JsonSchemaFormService,\r\n    private ngZone: NgZone\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    if (this.orderable && this.layoutNode && this.layoutIndex && this.dataIndex) {\r\n      this.element = this.elementRef.nativeElement;\r\n      this.element.draggable = true;\r\n      this.arrayLayoutIndex = 'move:' + this.layoutIndex.slice(0, -1).toString();\r\n\r\n      this.ngZone.runOutsideAngular(() => {\r\n\r\n        // Listeners for movable element being dragged:\r\n\r\n        this.element.addEventListener('dragstart', (event) => {\r\n          event.dataTransfer.effectAllowed = 'move';\r\n          // Hack to bypass stupid HTML drag-and-drop dataTransfer protection\r\n          // so drag source info will be available on dragenter\r\n          const sourceArrayIndex = this.dataIndex[this.dataIndex.length - 1];\r\n          sessionStorage.setItem(this.arrayLayoutIndex, sourceArrayIndex + '');\r\n        });\r\n\r\n        this.element.addEventListener('dragover', (event) => {\r\n          if (event.preventDefault) { event.preventDefault(); }\r\n          event.dataTransfer.dropEffect = 'move';\r\n          return false;\r\n        });\r\n\r\n        // Listeners for stationary items being dragged over:\r\n\r\n        this.element.addEventListener('dragenter', (event) => {\r\n          // Part 1 of a hack, inspired by Dragster, to simulate mouseover and mouseout\r\n          // behavior while dragging items - http://bensmithett.github.io/dragster/\r\n          if (this.overParentElement) {\r\n            return this.overChildElement = true;\r\n          } else {\r\n            this.overParentElement = true;\r\n          }\r\n\r\n          const sourceArrayIndex = sessionStorage.getItem(this.arrayLayoutIndex);\r\n          if (sourceArrayIndex !== null) {\r\n            if (this.dataIndex[this.dataIndex.length - 1] < +sourceArrayIndex) {\r\n              this.element.classList.add('drag-target-top');\r\n            } else if (this.dataIndex[this.dataIndex.length - 1] > +sourceArrayIndex) {\r\n              this.element.classList.add('drag-target-bottom');\r\n            }\r\n          }\r\n        });\r\n\r\n        this.element.addEventListener('dragleave', (event) => {\r\n          // Part 2 of the Dragster hack\r\n          if (this.overChildElement) {\r\n            this.overChildElement = false;\r\n          } else if (this.overParentElement) {\r\n            this.overParentElement = false;\r\n          }\r\n\r\n          const sourceArrayIndex = sessionStorage.getItem(this.arrayLayoutIndex);\r\n          if (!this.overParentElement && !this.overChildElement && sourceArrayIndex !== null) {\r\n            this.element.classList.remove('drag-target-top');\r\n            this.element.classList.remove('drag-target-bottom');\r\n          }\r\n        });\r\n\r\n        this.element.addEventListener('drop', (event) => {\r\n          this.element.classList.remove('drag-target-top');\r\n          this.element.classList.remove('drag-target-bottom');\r\n          // Confirm that drop target is another item in the same array as source item\r\n          const sourceArrayIndex = sessionStorage.getItem(this.arrayLayoutIndex);\r\n          const destArrayIndex = this.dataIndex[this.dataIndex.length - 1];\r\n          if (sourceArrayIndex !== null && +sourceArrayIndex !== destArrayIndex) {\r\n            // Move array item\r\n            this.jsf.moveArrayItem(this, +sourceArrayIndex, destArrayIndex);\r\n          }\r\n          sessionStorage.removeItem(this.arrayLayoutIndex);\r\n          return false;\r\n        });\r\n\r\n      });\r\n    }\r\n  }\r\n}\r\n","import {\r\n  hasValue, inArray, isArray, isDefined, isObject, isEmpty, isMap, isSet,\r\n  isString, PlainObject\r\n} from './validator.functions';\r\n\r\n/**\r\n * Utility function library:\r\n *\r\n * addClasses, copy, forEach, forEachCopy, hasOwn, mergeFilteredObject,\r\n * uniqueItems, commonItems, fixTitle, toTitleCase\r\n*/\r\n\r\n/**\r\n * 'addClasses' function\r\n *\r\n * Merges two space-delimited lists of CSS classes and removes duplicates.\r\n *\r\n * @param {string | string[] | Set<string>} oldClasses\r\n * @param {string | string[] | Set<string>} newClasses\r\n * @return {string | string[] | Set<string>} - Combined classes\r\n */\r\nexport function addClasses(\r\n  oldClasses: string | string[] | Set<string>,\r\n  newClasses: string | string[] | Set<string>\r\n): string | string[] | Set<string> {\r\n  const badType = i => !isSet(i) && !isArray(i) && !isString(i);\r\n  if (badType(newClasses)) { return oldClasses; }\r\n  if (badType(oldClasses)) { oldClasses = ''; }\r\n  const toSet = i => isSet(i) ? i : isArray(i) ? new Set(i) : new Set(i.split(' '));\r\n  const combinedSet: Set<any> = toSet(oldClasses);\r\n  const newSet: Set<any> = toSet(newClasses);\r\n  newSet.forEach(c => combinedSet.add(c));\r\n  if (isSet(oldClasses)) { return combinedSet; }\r\n  if (isArray(oldClasses)) { return Array.from(combinedSet); }\r\n  return Array.from(combinedSet).join(' ');\r\n}\r\n\r\n/**\r\n * 'copy' function\r\n *\r\n * Makes a shallow copy of a JavaScript object, array, Map, or Set.\r\n * If passed a JavaScript primitive value (string, number, boolean, or null),\r\n * it returns the value.\r\n *\r\n * @param {Object|Array|string|number|boolean|null} object - The object to copy\r\n * @param {boolean = false} errors - Show errors?\r\n * @return {Object|Array|string|number|boolean|null} - The copied object\r\n */\r\nexport function copy(object: any, errors = false): any {\r\n  if (typeof object !== 'object' || object === null) { return object; }\r\n  if (isMap(object))    { return new Map(object); }\r\n  if (isSet(object))    { return new Set(object); }\r\n  if (isArray(object))  { return [ ...object ];   }\r\n  if (isObject(object)) { return { ...object };   }\r\n  if (errors) {\r\n    console.error('copy error: Object to copy must be a JavaScript object or value.');\r\n  }\r\n  return object;\r\n}\r\n\r\n/**\r\n * 'forEach' function\r\n *\r\n * Iterates over all items in the first level of an object or array\r\n * and calls an iterator funciton on each item.\r\n *\r\n * The iterator function is called with four values:\r\n * 1. The current item's value\r\n * 2. The current item's key\r\n * 3. The parent object, which contains the current item\r\n * 4. The root object\r\n *\r\n * Setting the optional third parameter to 'top-down' or 'bottom-up' will cause\r\n * it to also recursively iterate over items in sub-objects or sub-arrays in the\r\n * specified direction.\r\n *\r\n * @param {Object|Array} object - The object or array to iterate over\r\n * @param {function} fn - the iterator funciton to call on each item\r\n * @param {boolean = false} errors - Show errors?\r\n * @return {void}\r\n */\r\nexport function forEach(\r\n  object: any, fn: (v: any, k?: string | number, c?: any, rc?: any) => any,\r\n  recurse: boolean | string = false, rootObject: any = object, errors = false\r\n): void {\r\n  if (isEmpty(object)) { return; }\r\n  if ((isObject(object) || isArray(object)) && typeof fn === 'function') {\r\n    for (const key of Object.keys(object)) {\r\n      const value = object[key];\r\n      if (recurse === 'bottom-up' && (isObject(value) || isArray(value))) {\r\n        forEach(value, fn, recurse, rootObject);\r\n      }\r\n      fn(value, key, object, rootObject);\r\n      if (recurse === 'top-down' && (isObject(value) || isArray(value))) {\r\n        forEach(value, fn, recurse, rootObject);\r\n      }\r\n    }\r\n  }\r\n  if (errors) {\r\n    if (typeof fn !== 'function') {\r\n      console.error('forEach error: Iterator must be a function.');\r\n      console.error('function', fn);\r\n    }\r\n    if (!isObject(object) && !isArray(object)) {\r\n      console.error('forEach error: Input object must be an object or array.');\r\n      console.error('object', object);\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * 'forEachCopy' function\r\n *\r\n * Iterates over all items in the first level of an object or array\r\n * and calls an iterator function on each item. Returns a new object or array\r\n * with the same keys or indexes as the original, and values set to the results\r\n * of the iterator function.\r\n *\r\n * Does NOT recursively iterate over items in sub-objects or sub-arrays.\r\n *\r\n * @param {Object | Array} object - The object or array to iterate over\r\n * @param {function} fn - The iterator funciton to call on each item\r\n * @param {boolean = false} errors - Show errors?\r\n * @return {Object | Array} - The resulting object or array\r\n */\r\nexport function forEachCopy(\r\n  object: any, fn: (v: any, k?: string | number, o?: any, p?: string) => any,\r\n  errors = false\r\n): any {\r\n  if (!hasValue(object)) { return; }\r\n  if ((isObject(object) || isArray(object)) && typeof object !== 'function') {\r\n    const newObject: any = isArray(object) ? [] : {};\r\n    for (const key of Object.keys(object)) {\r\n      newObject[key] = fn(object[key], key, object);\r\n    }\r\n    return newObject;\r\n  }\r\n  if (errors) {\r\n    if (typeof fn !== 'function') {\r\n      console.error('forEachCopy error: Iterator must be a function.');\r\n      console.error('function', fn);\r\n    }\r\n    if (!isObject(object) && !isArray(object)) {\r\n      console.error('forEachCopy error: Input object must be an object or array.');\r\n      console.error('object', object);\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * 'hasOwn' utility function\r\n *\r\n * Checks whether an object or array has a particular property.\r\n *\r\n * @param {any} object - the object to check\r\n * @param {string} property - the property to look for\r\n * @return {boolean} - true if object has property, false if not\r\n */\r\nexport function hasOwn(object: any, property: string): boolean {\r\n  if (!object || !['number', 'string', 'symbol'].includes(typeof property) ||\r\n    (!isObject(object) && !isArray(object) && !isMap(object) && !isSet(object))\r\n  ) { return false; }\r\n  if (isMap(object) || isSet(object)) { return object.has(property); }\r\n  if (typeof property === 'number') {\r\n    if (isArray(object)) { return object[<number>property]; }\r\n    property = property + '';\r\n  }\r\n  return object.hasOwnProperty(property);\r\n}\r\n\r\n/**\r\n * 'mergeFilteredObject' utility function\r\n *\r\n * Shallowly merges two objects, setting key and values from source object\r\n * in target object, excluding specified keys.\r\n *\r\n * Optionally, it can also use functions to transform the key names and/or\r\n * the values of the merging object.\r\n *\r\n * @param {PlainObject} targetObject - Target object to add keys and values to\r\n * @param {PlainObject} sourceObject - Source object to copy keys and values from\r\n * @param {string[]} excludeKeys - Array of keys to exclude\r\n * @param {(string: string) => string = (k) => k} keyFn - Function to apply to keys\r\n * @param {(any: any) => any = (v) => v} valueFn - Function to apply to values\r\n * @return {PlainObject} - Returns targetObject\r\n */\r\nexport function mergeFilteredObject(\r\n  targetObject: PlainObject,\r\n  sourceObject: PlainObject,\r\n  excludeKeys = <string[]>[],\r\n  keyFn = (key: string): string => key,\r\n  valFn = (val: any): any => val\r\n): PlainObject {\r\n  if (!isObject(sourceObject)) { return targetObject; }\r\n  if (!isObject(targetObject)) { targetObject = {}; }\r\n  for (const key of Object.keys(sourceObject)) {\r\n    if (!inArray(key, excludeKeys) && isDefined(sourceObject[key])) {\r\n      targetObject[keyFn(key)] = valFn(sourceObject[key]);\r\n    }\r\n  }\r\n  return targetObject;\r\n}\r\n\r\n/**\r\n * 'uniqueItems' function\r\n *\r\n * Accepts any number of string value inputs,\r\n * and returns an array of all input vaues, excluding duplicates.\r\n *\r\n * @param {...string} ...items -\r\n * @return {string[]} -\r\n */\r\nexport function uniqueItems(...items): string[] {\r\n  const returnItems = [];\r\n  for (const item of items) {\r\n    if (!returnItems.includes(item)) { returnItems.push(item); }\r\n  }\r\n  return returnItems;\r\n}\r\n\r\n/**\r\n * 'commonItems' function\r\n *\r\n * Accepts any number of strings or arrays of string values,\r\n * and returns a single array containing only values present in all inputs.\r\n *\r\n * @param {...string|string[]} ...arrays -\r\n * @return {string[]} -\r\n */\r\nexport function commonItems(...arrays): string[] {\r\n  let returnItems = null;\r\n  for (let array of arrays) {\r\n    if (isString(array)) { array = [array]; }\r\n    returnItems = returnItems === null ? [ ...array ] :\r\n      returnItems.filter(item => array.includes(item));\r\n    if (!returnItems.length) { return []; }\r\n  }\r\n  return returnItems;\r\n}\r\n\r\n/**\r\n * 'fixTitle' function\r\n *\r\n *\r\n * @param {string} input -\r\n * @return {string} -\r\n */\r\nexport function fixTitle(name: string): string {\r\n  return name && toTitleCase(name.replace(/([a-z])([A-Z])/g, '$1 $2').replace(/_/g, ' '));\r\n}\r\n\r\n/**\r\n * 'toTitleCase' function\r\n *\r\n * Intelligently converts an input string to Title Case.\r\n *\r\n * Accepts an optional second parameter with a list of additional\r\n * words and abbreviations to force into a particular case.\r\n *\r\n * This function is built on prior work by John Gruber and David Gouch:\r\n * http://daringfireball.net/2008/08/title_case_update\r\n * https://github.com/gouch/to-title-case\r\n *\r\n * @param {string} input -\r\n * @param {string|string[]} forceWords? -\r\n * @return {string} -\r\n */\r\nexport function toTitleCase(input: string, forceWords?: string|string[]): string {\r\n  if (!isString(input)) { return input; }\r\n  let forceArray: string[] = ['a', 'an', 'and', 'as', 'at', 'but', 'by', 'en',\r\n   'for', 'if', 'in', 'nor', 'of', 'on', 'or', 'per', 'the', 'to', 'v', 'v.',\r\n   'vs', 'vs.', 'via'];\r\n  if (isString(forceWords)) { forceWords = (<string>forceWords).split('|'); }\r\n  if (isArray(forceWords)) { forceArray = forceArray.concat(forceWords); }\r\n  const forceArrayLower: string[] = forceArray.map(w => w.toLowerCase());\r\n  const noInitialCase: boolean =\r\n    input === input.toUpperCase() || input === input.toLowerCase();\r\n  let prevLastChar = '';\r\n  input = input.trim();\r\n  return input.replace(/[A-Za-z0-9\\u00C0-\\u00FF]+[^\\s-]*/g, (word, idx) => {\r\n    if (!noInitialCase && word.slice(1).search(/[A-Z]|\\../) !== -1) {\r\n      return word;\r\n    } else {\r\n      let newWord: string;\r\n      const forceWord: string =\r\n        forceArray[forceArrayLower.indexOf(word.toLowerCase())];\r\n      if (!forceWord) {\r\n        if (noInitialCase) {\r\n          if (word.slice(1).search(/\\../) !== -1) {\r\n            newWord = word.toLowerCase();\r\n          } else {\r\n            newWord = word[0].toUpperCase() + word.slice(1).toLowerCase();\r\n          }\r\n        } else {\r\n          newWord = word[0].toUpperCase() + word.slice(1);\r\n        }\r\n      } else if (\r\n        forceWord === forceWord.toLowerCase() && (\r\n          idx === 0 || idx + word.length === input.length ||\r\n          prevLastChar === ':' || input[idx - 1].search(/[^\\s-]/) !== -1 ||\r\n          (input[idx - 1] !== '-' && input[idx + word.length] === '-')\r\n        )\r\n      ) {\r\n        newWord = forceWord[0].toUpperCase() + forceWord.slice(1);\r\n      } else {\r\n        newWord = forceWord;\r\n      }\r\n      prevLastChar = word.slice(-1);\r\n      return newWord;\r\n    }\r\n  });\r\n}\r\n","import { AbstractControl, ValidationErrors } from '@angular/forms';\r\nimport { Observable, from } from 'rxjs';\r\n\r\nconst toPromise = obs =>\r\n  new Promise((resolve, reject) => {\r\n    obs.subscribe({\r\n      complete: resolve,\r\n      error: reject\r\n    });\r\n  });\r\n\r\n/**\r\n * Validator utility function library:\r\n *\r\n * Validator and error utilities:\r\n *   _executeValidators, _executeAsyncValidators, _mergeObjects, _mergeErrors\r\n *\r\n * Individual value checking:\r\n *   isDefined, hasValue, isEmpty\r\n *\r\n * Individual type checking:\r\n *   isString, isNumber, isInteger, isBoolean, isFunction, isObject, isArray,\r\n *   isMap, isSet, isPromise, isObservable\r\n *\r\n * Multiple type checking and fixing:\r\n *   getType, isType, isPrimitive, toJavaScriptType, toSchemaType,\r\n *   _toPromise, toObservable\r\n *\r\n * Utility functions:\r\n *   inArray, xor\r\n *\r\n * Typescript types and interfaces:\r\n *   SchemaPrimitiveType, SchemaType, JavaScriptPrimitiveType, JavaScriptType,\r\n *   PrimitiveValue, PlainObject, IValidatorFn, AsyncIValidatorFn\r\n *\r\n * Note: 'IValidatorFn' is short for 'invertable validator function',\r\n *   which is a validator functions that accepts an optional second\r\n *   argument which, if set to TRUE, causes the validator to perform\r\n *   the opposite of its original function.\r\n */\r\n\r\nexport type SchemaPrimitiveType =\r\n  'string' | 'number' | 'integer' | 'boolean' | 'null';\r\nexport type SchemaType =\r\n  'string' | 'number' | 'integer' | 'boolean' | 'null' | 'object' | 'array';\r\nexport type JavaScriptPrimitiveType =\r\n  'string' | 'number' | 'boolean' | 'null' | 'undefined';\r\nexport type JavaScriptType =\r\n  'string' | 'number' | 'boolean' | 'null' | 'undefined' | 'object' | 'array' |\r\n  'map' | 'set' | 'arguments' | 'date' | 'error' | 'function' | 'json' |\r\n  'math' | 'regexp'; // Note: this list is incomplete\r\nexport type PrimitiveValue = string | number | boolean | null | undefined;\r\nexport interface PlainObject { [k: string]: any; }\r\n\r\nexport type IValidatorFn = (c: AbstractControl, i?: boolean) => PlainObject;\r\nexport type AsyncIValidatorFn = (c: AbstractControl, i?: boolean) => any;\r\n\r\n/**\r\n * '_executeValidators' utility function\r\n *\r\n * Validates a control against an array of validators, and returns\r\n * an array of the same length containing a combination of error messages\r\n * (from invalid validators) and null values (from valid validators)\r\n *\r\n * @param  { AbstractControl } control - control to validate\r\n * @param  { IValidatorFn[] } validators - array of validators\r\n * @param  { boolean } invert - invert?\r\n * @return { PlainObject[] } - array of nulls and error message\r\n */\r\nexport function _executeValidators(control, validators, invert = false) {\r\n  return validators.map(validator => validator(control, invert));\r\n}\r\n\r\n/**\r\n * '_executeAsyncValidators' utility function\r\n *\r\n * Validates a control against an array of async validators, and returns\r\n * an array of observabe results of the same length containing a combination of\r\n * error messages (from invalid validators) and null values (from valid ones)\r\n *\r\n * @param  { AbstractControl } control - control to validate\r\n * @param  { AsyncIValidatorFn[] } validators - array of async validators\r\n * @param  { boolean } invert - invert?\r\n * @return { any[] } - array of observable nulls and error message\r\n */\r\nexport function _executeAsyncValidators(control, validators, invert = false) {\r\n  return validators.map(validator => validator(control, invert));\r\n}\r\n\r\n/**\r\n * '_mergeObjects' utility function\r\n *\r\n * Recursively Merges one or more objects into a single object with combined keys.\r\n * Automatically detects and ignores null and undefined inputs.\r\n * Also detects duplicated boolean 'not' keys and XORs their values.\r\n *\r\n * @param  { PlainObject[] } objects - one or more objects to merge\r\n * @return { PlainObject } - merged object\r\n */\r\nexport function _mergeObjects(...objects) {\r\n  const mergedObject: PlainObject = { };\r\n  for (const currentObject of objects) {\r\n    if (isObject(currentObject)) {\r\n      for (const key of Object.keys(currentObject)) {\r\n        const currentValue = currentObject[key];\r\n        const mergedValue = mergedObject[key];\r\n        mergedObject[key] = !isDefined(mergedValue) ? currentValue :\r\n          key === 'not' && isBoolean(mergedValue, 'strict') &&\r\n            isBoolean(currentValue, 'strict') ? xor(mergedValue, currentValue) :\r\n          getType(mergedValue) === 'object' && getType(currentValue) === 'object' ?\r\n            _mergeObjects(mergedValue, currentValue) :\r\n            currentValue;\r\n      }\r\n    }\r\n  }\r\n  return mergedObject;\r\n}\r\n\r\n/**\r\n * '_mergeErrors' utility function\r\n *\r\n * Merges an array of objects.\r\n * Used for combining the validator errors returned from 'executeValidators'\r\n *\r\n * @param  { PlainObject[] } arrayOfErrors - array of objects\r\n * @return { PlainObject } - merged object, or null if no usable input objectcs\r\n */\r\nexport function _mergeErrors(arrayOfErrors) {\r\n  const mergedErrors = _mergeObjects(...arrayOfErrors);\r\n  return isEmpty(mergedErrors) ? null : mergedErrors;\r\n}\r\n\r\n/**\r\n * 'isDefined' utility function\r\n *\r\n * Checks if a variable contains a value of any type.\r\n * Returns true even for otherwise 'falsey' values of 0, '', and false.\r\n *\r\n * @param  { any } value - the value to check\r\n * @return { boolean } - false if undefined or null, otherwise true\r\n */\r\nexport function isDefined(value) {\r\n  return value !== undefined && value !== null;\r\n}\r\n\r\n/**\r\n * 'hasValue' utility function\r\n *\r\n * Checks if a variable contains a value.\r\n * Returs false for null, undefined, or a zero-length strng, '',\r\n * otherwise returns true.\r\n * (Stricter than 'isDefined' because it also returns false for '',\r\n * though it stil returns true for otherwise 'falsey' values 0 and false.)\r\n *\r\n * @param  { any } value - the value to check\r\n * @return { boolean } - false if undefined, null, or '', otherwise true\r\n */\r\nexport function hasValue(value) {\r\n  return value !== undefined && value !== null && value !== '';\r\n}\r\n\r\n/**\r\n * 'isEmpty' utility function\r\n *\r\n * Similar to !hasValue, but also returns true for empty arrays and objects.\r\n *\r\n * @param  { any } value - the value to check\r\n * @return { boolean } - false if undefined, null, or '', otherwise true\r\n */\r\nexport function isEmpty(value) {\r\n  if (isArray(value)) { return !value.length; }\r\n  if (isObject(value)) { return !Object.keys(value).length; }\r\n  return value === undefined || value === null || value === '';\r\n}\r\n\r\n/**\r\n * 'isString' utility function\r\n *\r\n * Checks if a value is a string.\r\n *\r\n * @param  { any } value - the value to check\r\n * @return { boolean } - true if string, false if not\r\n */\r\nexport function isString(value) {\r\n  return typeof value === 'string';\r\n}\r\n\r\n/**\r\n * 'isNumber' utility function\r\n *\r\n * Checks if a value is a regular number, numeric string, or JavaScript Date.\r\n *\r\n * @param  { any } value - the value to check\r\n * @param  { any = false } strict - if truthy, also checks JavaScript tyoe\r\n * @return { boolean } - true if number, false if not\r\n */\r\nexport function isNumber(value, strict: any = false) {\r\n  if (strict && typeof value !== 'number') { return false; }\r\n  return !isNaN(value) && value !== value / 0;\r\n}\r\n\r\n/**\r\n * 'isInteger' utility function\r\n *\r\n * Checks if a value is an integer.\r\n *\r\n * @param  { any } value - the value to check\r\n * @param  { any = false } strict - if truthy, also checks JavaScript tyoe\r\n * @return {boolean } - true if number, false if not\r\n */\r\nexport function isInteger(value, strict: any = false) {\r\n  if (strict && typeof value !== 'number') { return false; }\r\n  return !isNaN(value) &&  value !== value / 0 && value % 1 === 0;\r\n}\r\n\r\n/**\r\n * 'isBoolean' utility function\r\n *\r\n * Checks if a value is a boolean.\r\n *\r\n * @param  { any } value - the value to check\r\n * @param  { any = null } option - if 'strict', also checks JavaScript type\r\n *                              if TRUE or FALSE, checks only for that value\r\n * @return { boolean } - true if boolean, false if not\r\n */\r\nexport function isBoolean(value, option: any = null) {\r\n  if (option === 'strict') { return value === true || value === false; }\r\n  if (option === true) {\r\n    return value === true || value === 1 || value === 'true' || value === '1';\r\n  }\r\n  if (option === false) {\r\n    return value === false || value === 0 || value === 'false' || value === '0';\r\n  }\r\n  return value === true || value === 1 || value === 'true' || value === '1' ||\r\n    value === false || value === 0 || value === 'false' || value === '0';\r\n}\r\n\r\nexport function isFunction(item: any): boolean {\r\n  return typeof item === 'function';\r\n}\r\n\r\nexport function isObject(item: any): boolean {\r\n  return item !== null && typeof item === 'object' &&\r\n    Object.prototype.toString.call(item) === '[object Object]';\r\n}\r\n\r\nexport function isArray(item: any): boolean {\r\n  return Array.isArray(item) ||\r\n    Object.prototype.toString.call(item) === '[object Array]';\r\n}\r\n\r\nexport function isDate(item: any): boolean {\r\n  return typeof item === 'object' &&\r\n    Object.prototype.toString.call(item) === '[object Date]';\r\n}\r\n\r\nexport function isMap(item: any): boolean {\r\n  return typeof item === 'object' &&\r\n    Object.prototype.toString.call(item) === '[object Map]';\r\n}\r\n\r\nexport function isSet(item: any): boolean {\r\n  return typeof item === 'object' &&\r\n    Object.prototype.toString.call(item) === '[object Set]';\r\n}\r\n\r\nexport function isSymbol(item: any): boolean {\r\n  return typeof item === 'symbol';\r\n}\r\n\r\n/**\r\n * 'getType' function\r\n *\r\n * Detects the JSON Schema Type of a value.\r\n * By default, detects numbers and integers even if formatted as strings.\r\n * (So all integers are also numbers, and any number may also be a string.)\r\n * However, it only detects true boolean values (to detect boolean values\r\n * in non-boolean formats, use isBoolean() instead).\r\n *\r\n * If passed a second optional parameter of 'strict', it will only detect\r\n * numbers and integers if they are formatted as JavaScript numbers.\r\n *\r\n * Examples:\r\n * getType('10.5') = 'number'\r\n * getType(10.5) = 'number'\r\n * getType('10') = 'integer'\r\n * getType(10) = 'integer'\r\n * getType('true') = 'string'\r\n * getType(true) = 'boolean'\r\n * getType(null) = 'null'\r\n * getType({ }) = 'object'\r\n * getType([]) = 'array'\r\n *\r\n * getType('10.5', 'strict') = 'string'\r\n * getType(10.5, 'strict') = 'number'\r\n * getType('10', 'strict') = 'string'\r\n * getType(10, 'strict') = 'integer'\r\n * getType('true', 'strict') = 'string'\r\n * getType(true, 'strict') = 'boolean'\r\n *\r\n * @param  { any } value - value to check\r\n * @param  { any = false } strict - if truthy, also checks JavaScript tyoe\r\n * @return { SchemaType }\r\n */\r\nexport function getType(value, strict: any = false) {\r\n  if (!isDefined(value)) { return 'null'; }\r\n  if (isArray(value)) { return 'array'; }\r\n  if (isObject(value)) { return 'object'; }\r\n  if (isBoolean(value, 'strict')) { return 'boolean'; }\r\n  if (isInteger(value, strict)) { return 'integer'; }\r\n  if (isNumber(value, strict)) { return 'number'; }\r\n  if (isString(value) || (!strict && isDate(value))) { return 'string'; }\r\n  return null;\r\n}\r\n\r\n/**\r\n * 'isType' function\r\n *\r\n * Checks wether an input (probably string) value contains data of\r\n * a specified JSON Schema type\r\n *\r\n * @param  { PrimitiveValue } value - value to check\r\n * @param  { SchemaPrimitiveType } type - type to check\r\n * @return { boolean }\r\n */\r\nexport function isType(value, type) {\r\n  switch (type) {\r\n    case 'string':\r\n      return isString(value) || isDate(value);\r\n    case 'number':\r\n      return isNumber(value);\r\n    case 'integer':\r\n      return isInteger(value);\r\n    case 'boolean':\r\n      return isBoolean(value);\r\n    case 'null':\r\n      return !hasValue(value);\r\n    default:\r\n      console.error(`isType error: \"${type}\" is not a recognized type.`);\r\n      return null;\r\n  }\r\n}\r\n\r\n/**\r\n * 'isPrimitive' function\r\n *\r\n * Checks wether an input value is a JavaScript primitive type:\r\n * string, number, boolean, or null.\r\n *\r\n * @param  { any } value - value to check\r\n * @return { boolean }\r\n */\r\nexport function isPrimitive(value) {\r\n  return (isString(value) || isNumber(value) ||\r\n    isBoolean(value, 'strict') || value === null);\r\n}\r\n\r\n/**\r\n * 'toJavaScriptType' function\r\n *\r\n * Converts an input (probably string) value to a JavaScript primitive type -\r\n * 'string', 'number', 'boolean', or 'null' - before storing in a JSON object.\r\n *\r\n * Does not coerce values (other than null), and only converts the types\r\n * of values that would otherwise be valid.\r\n *\r\n * If the optional third parameter 'strictIntegers' is TRUE, and the\r\n * JSON Schema type 'integer' is specified, it also verifies the input value\r\n * is an integer and, if it is, returns it as a JaveScript number.\r\n * If 'strictIntegers' is FALSE (or not set) the type 'integer' is treated\r\n * exactly the same as 'number', and allows decimals.\r\n *\r\n * Valid Examples:\r\n * toJavaScriptType('10',   'number' ) = 10   // '10'   is a number\r\n * toJavaScriptType('10',   'integer') = 10   // '10'   is also an integer\r\n * toJavaScriptType( 10,    'integer') = 10   //  10    is still an integer\r\n * toJavaScriptType( 10,    'string' ) = '10' //  10    can be made into a string\r\n * toJavaScriptType('10.5', 'number' ) = 10.5 // '10.5' is a number\r\n *\r\n * Invalid Examples:\r\n * toJavaScriptType('10.5', 'integer') = null // '10.5' is not an integer\r\n * toJavaScriptType( 10.5,  'integer') = null //  10.5  is still not an integer\r\n *\r\n * @param  { PrimitiveValue } value - value to convert\r\n * @param  { SchemaPrimitiveType | SchemaPrimitiveType[] } types - types to convert to\r\n * @param  { boolean = false } strictIntegers - if FALSE, treat integers as numbers\r\n * @return { PrimitiveValue }\r\n */\r\nexport function toJavaScriptType(value, types, strictIntegers = true)  {\r\n  if (!isDefined(value)) { return null; }\r\n  if (isString(types)) { types = [types]; }\r\n  if (strictIntegers && inArray('integer', types)) {\r\n    if (isInteger(value, 'strict')) { return value; }\r\n    if (isInteger(value)) { return parseInt(value, 10); }\r\n  }\r\n  if (inArray('number', types) || (!strictIntegers && inArray('integer', types))) {\r\n    if (isNumber(value, 'strict')) { return value; }\r\n    if (isNumber(value)) { return parseFloat(value); }\r\n  }\r\n  if (inArray('string', types)) {\r\n    if (isString(value)) { return value; }\r\n    // If value is a date, and types includes 'string',\r\n    // convert the date to a string\r\n    if (isDate(value)) { return value.toISOString().slice(0, 10); }\r\n    if (isNumber(value)) { return value.toString(); }\r\n  }\r\n  // If value is a date, and types includes 'integer' or 'number',\r\n  // but not 'string', convert the date to a number\r\n  if (isDate(value) && (inArray('integer', types) || inArray('number', types))) {\r\n    return value.getTime();\r\n  }\r\n  if (inArray('boolean', types)) {\r\n    if (isBoolean(value, true)) { return true; }\r\n    if (isBoolean(value, false)) { return false; }\r\n  }\r\n  return null;\r\n}\r\n\r\n/**\r\n * 'toSchemaType' function\r\n *\r\n * Converts an input (probably string) value to the \"best\" JavaScript\r\n * equivalent available from an allowed list of JSON Schema types, which may\r\n * contain 'string', 'number', 'integer', 'boolean', and/or 'null'.\r\n * If necssary, it does progressively agressive type coersion.\r\n * It will not return null unless null is in the list of allowed types.\r\n *\r\n * Number conversion examples:\r\n * toSchemaType('10', ['number','integer','string']) = 10 // integer\r\n * toSchemaType('10', ['number','string']) = 10 // number\r\n * toSchemaType('10', ['string']) = '10' // string\r\n * toSchemaType('10.5', ['number','integer','string']) = 10.5 // number\r\n * toSchemaType('10.5', ['integer','string']) = '10.5' // string\r\n * toSchemaType('10.5', ['integer']) = 10 // integer\r\n * toSchemaType(10.5, ['null','boolean','string']) = '10.5' // string\r\n * toSchemaType(10.5, ['null','boolean']) = true // boolean\r\n *\r\n * String conversion examples:\r\n * toSchemaType('1.5x', ['boolean','number','integer','string']) = '1.5x' // string\r\n * toSchemaType('1.5x', ['boolean','number','integer']) = '1.5' // number\r\n * toSchemaType('1.5x', ['boolean','integer']) = '1' // integer\r\n * toSchemaType('1.5x', ['boolean']) = true // boolean\r\n * toSchemaType('xyz', ['number','integer','boolean','null']) = true // boolean\r\n * toSchemaType('xyz', ['number','integer','null']) = null // null\r\n * toSchemaType('xyz', ['number','integer']) = 0 // number\r\n *\r\n * Boolean conversion examples:\r\n * toSchemaType('1', ['integer','number','string','boolean']) = 1 // integer\r\n * toSchemaType('1', ['number','string','boolean']) = 1 // number\r\n * toSchemaType('1', ['string','boolean']) = '1' // string\r\n * toSchemaType('1', ['boolean']) = true // boolean\r\n * toSchemaType('true', ['number','string','boolean']) = 'true' // string\r\n * toSchemaType('true', ['boolean']) = true // boolean\r\n * toSchemaType('true', ['number']) = 0 // number\r\n * toSchemaType(true, ['number','string','boolean']) = true // boolean\r\n * toSchemaType(true, ['number','string']) = 'true' // string\r\n * toSchemaType(true, ['number']) = 1 // number\r\n *\r\n * @param  { PrimitiveValue } value - value to convert\r\n * @param  { SchemaPrimitiveType | SchemaPrimitiveType[] } types - allowed types to convert to\r\n * @return { PrimitiveValue }\r\n */\r\nexport function toSchemaType(value, types) {\r\n  if (!isArray(<SchemaPrimitiveType>types)) {\r\n    types = <SchemaPrimitiveType[]>[types];\r\n  }\r\n  if ((<SchemaPrimitiveType[]>types).includes('null') && !hasValue(value)) {\r\n    return null;\r\n  }\r\n  if ((<SchemaPrimitiveType[]>types).includes('boolean') && !isBoolean(value, 'strict')) {\r\n    return value;\r\n  }\r\n  if ((<SchemaPrimitiveType[]>types).includes('integer')) {\r\n    const testValue = toJavaScriptType(value, 'integer');\r\n    if (testValue !== null) { return +testValue; }\r\n  }\r\n  if ((<SchemaPrimitiveType[]>types).includes('number')) {\r\n    const testValue = toJavaScriptType(value, 'number');\r\n    if (testValue !== null) { return +testValue; }\r\n  }\r\n  if (\r\n    (isString(value) || isNumber(value, 'strict')) &&\r\n    (<SchemaPrimitiveType[]>types).includes('string')\r\n  ) { // Convert number to string\r\n    return toJavaScriptType(value, 'string');\r\n  }\r\n  if ((<SchemaPrimitiveType[]>types).includes('boolean') && isBoolean(value)) {\r\n    return toJavaScriptType(value, 'boolean');\r\n  }\r\n  if ((<SchemaPrimitiveType[]>types).includes('string')) { // Convert null & boolean to string\r\n    if (value === null) { return ''; }\r\n    const testValue = toJavaScriptType(value, 'string');\r\n    if (testValue !== null) { return testValue; }\r\n  }\r\n  if ((\r\n    (<SchemaPrimitiveType[]>types).includes('number') ||\r\n    (<SchemaPrimitiveType[]>types).includes('integer'))\r\n  ) {\r\n    if (value === true) { return 1; } // Convert boolean & null to number\r\n    if (value === false || value === null || value === '') { return 0; }\r\n  }\r\n  if ((<SchemaPrimitiveType[]>types).includes('number')) { // Convert mixed string to number\r\n    const testValue = parseFloat(<string>value);\r\n    if (!!testValue) { return testValue; }\r\n  }\r\n  if ((<SchemaPrimitiveType[]>types).includes('integer')) { // Convert string or number to integer\r\n    const testValue = parseInt(<string>value, 10);\r\n    if (!!testValue) { return testValue; }\r\n  }\r\n  if ((<SchemaPrimitiveType[]>types).includes('boolean')) { // Convert anything to boolean\r\n    return !!value;\r\n  }\r\n  if ((\r\n      (<SchemaPrimitiveType[]>types).includes('number') ||\r\n      (<SchemaPrimitiveType[]>types).includes('integer')\r\n    ) && !(<SchemaPrimitiveType[]>types).includes('null')\r\n  ) {\r\n    return 0; // If null not allowed, return 0 for non-convertable values\r\n  }\r\n}\r\n\r\n/**\r\n * 'isPromise' function\r\n *\r\n * @param  { any } object\r\n * @return { boolean }\r\n */\r\nexport function isPromise(object): object is Promise<any> {\r\n  return !!object && typeof object.then === 'function';\r\n}\r\n\r\n/**\r\n * 'isObservable' function\r\n *\r\n * @param  { any } object\r\n * @return { boolean }\r\n */\r\nexport function isObservable(object): object is Observable<any> {\r\n  return !!object && typeof object.subscribe === 'function';\r\n}\r\n\r\n/**\r\n * '_toPromise' function\r\n *\r\n * @param  { object } object\r\n * @return { Promise<any> }\r\n */\r\nexport function _toPromise(object): Promise<any> {\r\n  return isPromise(object) ? object : toPromise.call(object);\r\n}\r\n\r\n/**\r\n * 'toObservable' function\r\n *\r\n * @param  { object } object\r\n * @return { Observable<any> }\r\n */\r\nexport function toObservable(object): Observable<any> {\r\n  const observable = isPromise(object) ? from(object) : object;\r\n  if (isObservable(observable)) { return observable; }\r\n  console.error('toObservable error: Expected validator to return Promise or Observable.');\r\n  return new Observable();\r\n}\r\n\r\n/**\r\n * 'inArray' function\r\n *\r\n * Searches an array for an item, or one of a list of items, and returns true\r\n * as soon as a match is found, or false if no match.\r\n *\r\n * If the optional third parameter allIn is set to TRUE, and the item to find\r\n * is an array, then the function returns true only if all elements from item\r\n * are found in the array list, and false if any element is not found. If the\r\n * item to find is not an array, setting allIn to TRUE has no effect.\r\n *\r\n * @param  { any|any[] } item - the item to search for\r\n * @param  { any[] } array - the array to search\r\n * @param  { boolean = false } allIn - if TRUE, all items must be in array\r\n * @return { boolean } - true if item(s) in array, false otherwise\r\n */\r\nexport function inArray(item, array, allIn = false) {\r\n  if (!isDefined(item) || !isArray(array)) { return false; }\r\n  return isArray(item) ?\r\n    item[allIn ? 'every' : 'some'](subItem => array.includes(subItem)) :\r\n    array.includes(item);\r\n}\r\n\r\n/**\r\n * 'xor' utility function - exclusive or\r\n *\r\n * Returns true if exactly one of two values is truthy.\r\n *\r\n * @param  { any } value1 - first value to check\r\n * @param  { any } value2 - second value to check\r\n * @return { boolean } - true if exactly one input value is truthy, false if not\r\n */\r\nexport function xor(value1, value2) {\r\n  return (!!value1 && !value2) || (!value1 && !!value2);\r\n}\r\n","import { ChangeDetectionStrategy, Component, Input, OnInit } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\n\r\nimport { JsonSchemaFormService } from '../json-schema-form.service';\r\n\r\n@Component({\r\n  selector: 'add-reference-widget',\r\n  template: `\r\n    <button *ngIf=\"showAddButton\"\r\n      [class]=\"options?.fieldHtmlClass || ''\"\r\n      [disabled]=\"options?.readonly\"\r\n      (click)=\"addItem($event)\">\r\n      <span *ngIf=\"options?.icon\" [class]=\"options?.icon\"></span>\r\n      <span *ngIf=\"options?.title\" [innerHTML]=\"buttonText\"></span>\r\n    </button>`,\r\n    changeDetection: ChangeDetectionStrategy.Default,\r\n})\r\nexport class AddReferenceComponent implements OnInit {\r\n  options: any;\r\n  itemCount: number;\r\n  previousLayoutIndex: number[];\r\n  previousDataIndex: number[];\r\n  @Input() layoutNode: any;\r\n  @Input() layoutIndex: number[];\r\n  @Input() dataIndex: number[];\r\n\r\n  constructor(\r\n    private jsf: JsonSchemaFormService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.options = this.layoutNode.options || {};\r\n  }\r\n\r\n  get showAddButton(): boolean {\r\n    return !this.layoutNode.arrayItem ||\r\n      this.layoutIndex[this.layoutIndex.length - 1] < this.options.maxItems;\r\n  }\r\n\r\n  addItem(event) {\r\n    event.preventDefault();\r\n    this.jsf.addItem(this);\r\n  }\r\n\r\n  get buttonText(): string {\r\n    const parent: any = {\r\n      dataIndex: this.dataIndex.slice(0, -1),\r\n      layoutIndex: this.layoutIndex.slice(0, -1),\r\n      layoutNode: this.jsf.getParentNode(this)\r\n    };\r\n    return parent.layoutNode.add ||\r\n      this.jsf.setArrayItemTitle(parent, this.layoutNode, this.itemCount);\r\n  }\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { AbstractControl } from '@angular/forms';\r\n\r\nimport { JsonSchemaFormService } from '../json-schema-form.service';\r\n\r\n@Component({\r\n  selector: 'button-widget',\r\n  template: `\r\n    <div\r\n      [class]=\"options?.htmlClass || ''\">\r\n      <button\r\n        [attr.readonly]=\"options?.readonly ? 'readonly' : null\"\r\n        [attr.aria-describedby]=\"'control' + layoutNode?._id + 'Status'\"\r\n        [class]=\"options?.fieldHtmlClass || ''\"\r\n        [disabled]=\"controlDisabled\"\r\n        [name]=\"controlName\"\r\n        [type]=\"layoutNode?.type\"\r\n        [value]=\"controlValue\"\r\n        (click)=\"updateValue($event)\">\r\n        <span *ngIf=\"options?.icon || options?.title\"\r\n          [class]=\"options?.icon\"\r\n          [innerHTML]=\"options?.title\"></span>\r\n      </button>\r\n    </div>`,\r\n})\r\nexport class ButtonComponent implements OnInit {\r\n  formControl: AbstractControl;\r\n  controlName: string;\r\n  controlValue: any;\r\n  controlDisabled = false;\r\n  boundControl = false;\r\n  options: any;\r\n  @Input() layoutNode: any;\r\n  @Input() layoutIndex: number[];\r\n  @Input() dataIndex: number[];\r\n\r\n  constructor(\r\n    private jsf: JsonSchemaFormService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.options = this.layoutNode.options || {};\r\n    this.jsf.initializeControl(this);\r\n  }\r\n\r\n  updateValue(event) {\r\n    if (typeof this.options.onClick === 'function') {\r\n      this.options.onClick(event);\r\n    } else {\r\n      this.jsf.updateValue(this, event.target.value);\r\n    }\r\n  }\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { AbstractControl } from '@angular/forms';\r\n\r\nimport { JsonSchemaFormService } from '../json-schema-form.service';\r\n\r\n@Component({\r\n  selector: 'checkbox-widget',\r\n  template: `\r\n    <label\r\n      [attr.for]=\"'control' + layoutNode?._id\"\r\n      [class]=\"options?.itemLabelHtmlClass || ''\">\r\n      <input *ngIf=\"boundControl\"\r\n        [formControl]=\"formControl\"\r\n        [attr.aria-describedby]=\"'control' + layoutNode?._id + 'Status'\"\r\n        [class]=\"(options?.fieldHtmlClass || '') + (isChecked ?\r\n          (' ' + (options?.activeClass || '') + ' ' + (options?.style?.selected || '')) :\r\n          (' ' + (options?.style?.unselected || '')))\"\r\n        [id]=\"'control' + layoutNode?._id\"\r\n        [name]=\"controlName\"\r\n        [readonly]=\"options?.readonly ? 'readonly' : null\"\r\n        type=\"checkbox\">\r\n      <input *ngIf=\"!boundControl\"\r\n        [attr.aria-describedby]=\"'control' + layoutNode?._id + 'Status'\"\r\n        [checked]=\"isChecked ? 'checked' : null\"\r\n        [class]=\"(options?.fieldHtmlClass || '') + (isChecked ?\r\n          (' ' + (options?.activeClass || '') + ' ' + (options?.style?.selected || '')) :\r\n          (' ' + (options?.style?.unselected || '')))\"\r\n        [disabled]=\"controlDisabled\"\r\n        [id]=\"'control' + layoutNode?._id\"\r\n        [name]=\"controlName\"\r\n        [readonly]=\"options?.readonly ? 'readonly' : null\"\r\n        [value]=\"controlValue\"\r\n        type=\"checkbox\"\r\n        (change)=\"updateValue($event)\">\r\n      <span *ngIf=\"options?.title\"\r\n        [style.display]=\"options?.notitle ? 'none' : ''\"\r\n        [innerHTML]=\"options?.title\"></span>\r\n    </label>`,\r\n})\r\nexport class CheckboxComponent implements OnInit {\r\n  formControl: AbstractControl;\r\n  controlName: string;\r\n  controlValue: any;\r\n  controlDisabled = false;\r\n  boundControl = false;\r\n  options: any;\r\n  trueValue: any = true;\r\n  falseValue: any = false;\r\n  @Input() layoutNode: any;\r\n  @Input() layoutIndex: number[];\r\n  @Input() dataIndex: number[];\r\n\r\n  constructor(\r\n    private jsf: JsonSchemaFormService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.options = this.layoutNode.options || {};\r\n    this.jsf.initializeControl(this);\r\n    if (this.controlValue === null || this.controlValue === undefined) {\r\n      this.controlValue = this.options.title;\r\n    }\r\n  }\r\n\r\n  updateValue(event) {\r\n    event.preventDefault();\r\n    this.jsf.updateValue(this, event.target.checked ? this.trueValue : this.falseValue);\r\n  }\r\n\r\n  get isChecked() {\r\n    return this.jsf.getFormControlValue(this) === this.trueValue;\r\n  }\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { FormArray, AbstractControl } from '@angular/forms';\r\n\r\nimport { JsonSchemaFormService, TitleMapItem } from '../json-schema-form.service';\r\nimport { buildTitleMap } from '../shared';\r\n\r\n@Component({\r\n  selector: 'checkboxes-widget',\r\n  template: `\r\n    <label *ngIf=\"options?.title\"\r\n      [class]=\"options?.labelHtmlClass || ''\"\r\n      [style.display]=\"options?.notitle ? 'none' : ''\"\r\n      [innerHTML]=\"options?.title\"></label>\r\n\r\n    <!-- 'horizontal' = checkboxes-inline or checkboxbuttons -->\r\n    <div *ngIf=\"layoutOrientation === 'horizontal'\" [class]=\"options?.htmlClass || ''\">\r\n      <label *ngFor=\"let checkboxItem of checkboxList\"\r\n        [attr.for]=\"'control' + layoutNode?._id + '/' + checkboxItem.value\"\r\n        [class]=\"(options?.itemLabelHtmlClass || '') + (checkboxItem.checked ?\r\n          (' ' + (options?.activeClass || '') + ' ' + (options?.style?.selected || '')) :\r\n          (' ' + (options?.style?.unselected || '')))\">\r\n        <input type=\"checkbox\"\r\n          [attr.required]=\"options?.required\"\r\n          [checked]=\"checkboxItem.checked\"\r\n          [class]=\"options?.fieldHtmlClass || ''\"\r\n          [disabled]=\"controlDisabled\"\r\n          [id]=\"'control' + layoutNode?._id + '/' + checkboxItem.value\"\r\n          [name]=\"checkboxItem?.name\"\r\n          [readonly]=\"options?.readonly ? 'readonly' : null\"\r\n          [value]=\"checkboxItem.value\"\r\n          (change)=\"updateValue($event)\">\r\n        <span [innerHTML]=\"checkboxItem.name\"></span>\r\n      </label>\r\n    </div>\r\n\r\n    <!-- 'vertical' = regular checkboxes -->\r\n    <div *ngIf=\"layoutOrientation === 'vertical'\">\r\n      <div *ngFor=\"let checkboxItem of checkboxList\" [class]=\"options?.htmlClass || ''\">\r\n        <label\r\n          [attr.for]=\"'control' + layoutNode?._id + '/' + checkboxItem.value\"\r\n          [class]=\"(options?.itemLabelHtmlClass || '') + (checkboxItem.checked ?\r\n            (' ' + (options?.activeClass || '') + ' ' + (options?.style?.selected || '')) :\r\n            (' ' + (options?.style?.unselected || '')))\">\r\n          <input type=\"checkbox\"\r\n            [attr.required]=\"options?.required\"\r\n            [checked]=\"checkboxItem.checked\"\r\n            [class]=\"options?.fieldHtmlClass || ''\"\r\n            [disabled]=\"controlDisabled\"\r\n            [id]=\"options?.name + '/' + checkboxItem.value\"\r\n            [name]=\"checkboxItem?.name\"\r\n            [readonly]=\"options?.readonly ? 'readonly' : null\"\r\n            [value]=\"checkboxItem.value\"\r\n            (change)=\"updateValue($event)\">\r\n          <span [innerHTML]=\"checkboxItem?.name\"></span>\r\n        </label>\r\n      </div>\r\n    </div>`,\r\n})\r\nexport class CheckboxesComponent implements OnInit {\r\n  formControl: AbstractControl;\r\n  controlName: string;\r\n  controlValue: any;\r\n  controlDisabled = false;\r\n  boundControl = false;\r\n  options: any;\r\n  layoutOrientation: string;\r\n  formArray: AbstractControl;\r\n  checkboxList: TitleMapItem[] = [];\r\n  @Input() layoutNode: any;\r\n  @Input() layoutIndex: number[];\r\n  @Input() dataIndex: number[];\r\n\r\n  constructor(\r\n    private jsf: JsonSchemaFormService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.options = this.layoutNode.options || {};\r\n    this.layoutOrientation = (this.layoutNode.type === 'checkboxes-inline' ||\r\n      this.layoutNode.type === 'checkboxbuttons') ? 'horizontal' : 'vertical';\r\n    this.jsf.initializeControl(this);\r\n    this.checkboxList = buildTitleMap(\r\n      this.options.titleMap || this.options.enumNames, this.options.enum, true\r\n    );\r\n    if (this.boundControl) {\r\n      const formArray = this.jsf.getFormControl(this);\r\n      this.checkboxList.forEach(checkboxItem =>\r\n        checkboxItem.checked = formArray.value.includes(checkboxItem.value)\r\n      );\r\n    }\r\n  }\r\n\r\n  updateValue(event) {\r\n    for (const checkboxItem of this.checkboxList) {\r\n      if (event.target.value === checkboxItem.value) {\r\n        checkboxItem.checked = event.target.checked;\r\n      }\r\n    }\r\n    if (this.boundControl) {\r\n      this.jsf.updateArrayCheckboxList(this, this.checkboxList);\r\n    }\r\n  }\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { AbstractControl } from '@angular/forms';\r\n\r\nimport { JsonSchemaFormService } from '../json-schema-form.service';\r\n\r\n// TODO: Add this control\r\n\r\n@Component({\r\n  selector: 'file-widget',\r\n  template: ``,\r\n})\r\nexport class FileComponent implements OnInit {\r\n  formControl: AbstractControl;\r\n  controlName: string;\r\n  controlValue: any;\r\n  controlDisabled = false;\r\n  boundControl = false;\r\n  options: any;\r\n  @Input() layoutNode: any;\r\n  @Input() layoutIndex: number[];\r\n  @Input() dataIndex: number[];\r\n\r\n  constructor(\r\n    private jsf: JsonSchemaFormService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.options = this.layoutNode.options || {};\r\n    this.jsf.initializeControl(this);\r\n  }\r\n\r\n  updateValue(event) {\r\n    this.jsf.updateValue(this, event.target.value);\r\n  }\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { AbstractControl } from '@angular/forms';\r\n\r\nimport { JsonSchemaFormService } from '../json-schema-form.service';\r\n\r\n@Component({\r\n  selector: 'hidden-widget',\r\n  template: `\r\n    <input *ngIf=\"boundControl\"\r\n      [formControl]=\"formControl\"\r\n      [id]=\"'control' + layoutNode?._id\"\r\n      [name]=\"controlName\"\r\n      type=\"hidden\">\r\n    <input *ngIf=\"!boundControl\"\r\n      [disabled]=\"controlDisabled\"\r\n      [name]=\"controlName\"\r\n      [id]=\"'control' + layoutNode?._id\"\r\n      type=\"hidden\"\r\n      [value]=\"controlValue\">`,\r\n})\r\nexport class HiddenComponent implements OnInit {\r\n  formControl: AbstractControl;\r\n  controlName: string;\r\n  controlValue: any;\r\n  controlDisabled = false;\r\n  boundControl = false;\r\n  @Input() layoutNode: any;\r\n  @Input() layoutIndex: number[];\r\n  @Input() dataIndex: number[];\r\n\r\n  constructor(\r\n    private jsf: JsonSchemaFormService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.jsf.initializeControl(this);\r\n  }\r\n}\r\n","import { AddReferenceComponent } from './add-reference.component';\r\nimport { OneOfComponent } from './one-of.component';\r\nimport { ButtonComponent } from './button.component';\r\nimport { CheckboxComponent } from './checkbox.component';\r\nimport { CheckboxesComponent } from './checkboxes.component';\r\nimport { FileComponent } from './file.component';\r\nimport { HiddenComponent } from './hidden.component';\r\nimport { InputComponent } from './input.component';\r\nimport { MessageComponent } from './message.component';\r\nimport { NoneComponent } from './none.component';\r\nimport { NumberComponent } from './number.component';\r\nimport { RadiosComponent } from './radios.component';\r\nimport { RootComponent } from './root.component';\r\nimport { SectionComponent } from './section.component';\r\nimport { SelectComponent } from './select.component';\r\nimport { SelectFrameworkComponent } from './select-framework.component';\r\nimport { SelectWidgetComponent } from './select-widget.component';\r\nimport { SubmitComponent } from './submit.component';\r\nimport { TabComponent } from './tab.component';\r\nimport { TabsComponent } from './tabs.component';\r\nimport { TemplateComponent } from './template.component';\r\nimport { TextareaComponent } from './textarea.component';\r\n\r\nexport const BASIC_WIDGETS = [\r\n  AddReferenceComponent, OneOfComponent, ButtonComponent, CheckboxComponent,\r\n  CheckboxesComponent, FileComponent, HiddenComponent, InputComponent,\r\n  MessageComponent, NoneComponent, NumberComponent, RadiosComponent,\r\n  RootComponent, SectionComponent, SelectComponent, SelectFrameworkComponent,\r\n  SelectWidgetComponent, SubmitComponent, TabComponent, TabsComponent,\r\n  TemplateComponent, TextareaComponent\r\n];\r\n\r\nexport { AddReferenceComponent } from './add-reference.component';\r\nexport { OneOfComponent } from './one-of.component';\r\nexport { ButtonComponent } from './button.component';\r\nexport { CheckboxComponent } from './checkbox.component';\r\nexport { CheckboxesComponent } from './checkboxes.component';\r\nexport { FileComponent } from './file.component';\r\nexport { HiddenComponent } from './hidden.component';\r\nexport { InputComponent } from './input.component';\r\nexport { MessageComponent } from './message.component';\r\nexport { NoneComponent } from './none.component';\r\nexport { NumberComponent } from './number.component';\r\nexport { RadiosComponent } from './radios.component';\r\nexport { RootComponent } from './root.component';\r\nexport { SectionComponent } from './section.component';\r\nexport { SelectComponent } from './select.component';\r\nexport { SelectFrameworkComponent } from './select-framework.component';\r\nexport { SelectWidgetComponent } from './select-widget.component';\r\nexport { SubmitComponent } from './submit.component';\r\nexport { TabComponent } from './tab.component';\r\nexport { TabsComponent } from './tabs.component';\r\nexport { TemplateComponent } from './template.component';\r\nexport { TextareaComponent } from './textarea.component';\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { AbstractControl } from '@angular/forms';\r\n\r\nimport { JsonSchemaFormService } from '../json-schema-form.service';\r\n\r\n@Component({\r\n  selector: 'input-widget',\r\n  template: `\r\n    <div [class]=\"options?.htmlClass || ''\">\r\n      <label *ngIf=\"options?.title\"\r\n        [attr.for]=\"'control' + layoutNode?._id\"\r\n        [class]=\"options?.labelHtmlClass || ''\"\r\n        [style.display]=\"options?.notitle ? 'none' : ''\"\r\n        [innerHTML]=\"options?.title\"></label>\r\n      <input *ngIf=\"boundControl\"\r\n        [formControl]=\"formControl\"\r\n        [attr.aria-describedby]=\"'control' + layoutNode?._id + 'Status'\"\r\n        [attr.list]=\"'control' + layoutNode?._id + 'Autocomplete'\"\r\n        [attr.maxlength]=\"options?.maxLength\"\r\n        [attr.minlength]=\"options?.minLength\"\r\n        [attr.pattern]=\"options?.pattern\"\r\n        [attr.placeholder]=\"options?.placeholder\"\r\n        [attr.required]=\"options?.required\"\r\n        [class]=\"options?.fieldHtmlClass || ''\"\r\n        [id]=\"'control' + layoutNode?._id\"\r\n        [name]=\"controlName\"\r\n        [readonly]=\"options?.readonly ? 'readonly' : null\"\r\n        [type]=\"layoutNode?.type\">\r\n      <input *ngIf=\"!boundControl\"\r\n        [attr.aria-describedby]=\"'control' + layoutNode?._id + 'Status'\"\r\n        [attr.list]=\"'control' + layoutNode?._id + 'Autocomplete'\"\r\n        [attr.maxlength]=\"options?.maxLength\"\r\n        [attr.minlength]=\"options?.minLength\"\r\n        [attr.pattern]=\"options?.pattern\"\r\n        [attr.placeholder]=\"options?.placeholder\"\r\n        [attr.required]=\"options?.required\"\r\n        [class]=\"options?.fieldHtmlClass || ''\"\r\n        [disabled]=\"controlDisabled\"\r\n        [id]=\"'control' + layoutNode?._id\"\r\n        [name]=\"controlName\"\r\n        [readonly]=\"options?.readonly ? 'readonly' : null\"\r\n        [type]=\"layoutNode?.type\"\r\n        [value]=\"controlValue\"\r\n        (input)=\"updateValue($event)\">\r\n        <datalist *ngIf=\"options?.typeahead?.source\"\r\n          [id]=\"'control' + layoutNode?._id + 'Autocomplete'\">\r\n          <option *ngFor=\"let word of options?.typeahead?.source\" [value]=\"word\">\r\n        </datalist>\r\n    </div>`,\r\n})\r\nexport class InputComponent implements OnInit {\r\n  formControl: AbstractControl;\r\n  controlName: string;\r\n  controlValue: string;\r\n  controlDisabled = false;\r\n  boundControl = false;\r\n  options: any;\r\n  autoCompleteList: string[] = [];\r\n  @Input() layoutNode: any;\r\n  @Input() layoutIndex: number[];\r\n  @Input() dataIndex: number[];\r\n\r\n  constructor(\r\n    private jsf: JsonSchemaFormService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.options = this.layoutNode.options || {};\r\n    this.jsf.initializeControl(this);\r\n  }\r\n\r\n  updateValue(event) {\r\n    this.jsf.updateValue(this, event.target.value);\r\n  }\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\n\r\nimport { JsonSchemaFormService } from '../json-schema-form.service';\r\n\r\n@Component({\r\n  selector: 'message-widget',\r\n  template: `\r\n    <span *ngIf=\"message\"\r\n      [class]=\"options?.labelHtmlClass || ''\"\r\n      [innerHTML]=\"message\"></span>`,\r\n})\r\nexport class MessageComponent implements OnInit {\r\n  options: any;\r\n  message: string = null;\r\n  @Input() layoutNode: any;\r\n  @Input() layoutIndex: number[];\r\n  @Input() dataIndex: number[];\r\n\r\n  constructor(\r\n    private jsf: JsonSchemaFormService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.options = this.layoutNode.options || {};\r\n    this.message = this.options.help || this.options.helpvalue ||\r\n      this.options.msg || this.options.message;\r\n  }\r\n}\r\n","import { Component, Input } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'none-widget',\r\n  template: ``,\r\n})\r\nexport class NoneComponent {\r\n  @Input() layoutNode: any;\r\n  @Input() layoutIndex: number[];\r\n  @Input() dataIndex: number[];\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { AbstractControl } from '@angular/forms';\r\n\r\nimport { JsonSchemaFormService } from '../json-schema-form.service';\r\n\r\n@Component({\r\n  selector: 'number-widget',\r\n  template: `\r\n    <div [class]=\"options?.htmlClass || ''\">\r\n      <label *ngIf=\"options?.title\"\r\n        [attr.for]=\"'control' + layoutNode?._id\"\r\n        [class]=\"options?.labelHtmlClass || ''\"\r\n        [style.display]=\"options?.notitle ? 'none' : ''\"\r\n        [innerHTML]=\"options?.title\"></label>\r\n      <input *ngIf=\"boundControl\"\r\n        [formControl]=\"formControl\"\r\n        [attr.aria-describedby]=\"'control' + layoutNode?._id + 'Status'\"\r\n        [attr.max]=\"options?.maximum\"\r\n        [attr.min]=\"options?.minimum\"\r\n        [attr.placeholder]=\"options?.placeholder\"\r\n        [attr.required]=\"options?.required\"\r\n        [attr.readonly]=\"options?.readonly ? 'readonly' : null\"\r\n        [attr.step]=\"options?.multipleOf || options?.step || 'any'\"\r\n        [class]=\"options?.fieldHtmlClass || ''\"\r\n        [id]=\"'control' + layoutNode?._id\"\r\n        [name]=\"controlName\"\r\n        [readonly]=\"options?.readonly ? 'readonly' : null\"\r\n        [title]=\"lastValidNumber\"\r\n        [type]=\"layoutNode?.type === 'range' ? 'range' : 'number'\">\r\n      <input *ngIf=\"!boundControl\"\r\n        [attr.aria-describedby]=\"'control' + layoutNode?._id + 'Status'\"\r\n        [attr.max]=\"options?.maximum\"\r\n        [attr.min]=\"options?.minimum\"\r\n        [attr.placeholder]=\"options?.placeholder\"\r\n        [attr.required]=\"options?.required\"\r\n        [attr.readonly]=\"options?.readonly ? 'readonly' : null\"\r\n        [attr.step]=\"options?.multipleOf || options?.step || 'any'\"\r\n        [class]=\"options?.fieldHtmlClass || ''\"\r\n        [disabled]=\"controlDisabled\"\r\n        [id]=\"'control' + layoutNode?._id\"\r\n        [name]=\"controlName\"\r\n        [readonly]=\"options?.readonly ? 'readonly' : null\"\r\n        [title]=\"lastValidNumber\"\r\n        [type]=\"layoutNode?.type === 'range' ? 'range' : 'number'\"\r\n        [value]=\"controlValue\"\r\n        (input)=\"updateValue($event)\">\r\n      <span *ngIf=\"layoutNode?.type === 'range'\" [innerHTML]=\"controlValue\"></span>\r\n    </div>`,\r\n})\r\nexport class NumberComponent implements OnInit {\r\n  formControl: AbstractControl;\r\n  controlName: string;\r\n  controlValue: any;\r\n  controlDisabled = false;\r\n  boundControl = false;\r\n  options: any;\r\n  allowNegative = true;\r\n  allowDecimal = true;\r\n  allowExponents = false;\r\n  lastValidNumber = '';\r\n  @Input() layoutNode: any;\r\n  @Input() layoutIndex: number[];\r\n  @Input() dataIndex: number[];\r\n\r\n  constructor(\r\n    private jsf: JsonSchemaFormService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.options = this.layoutNode.options || {};\r\n    this.jsf.initializeControl(this);\r\n    if (this.layoutNode.dataType === 'integer') { this.allowDecimal = false; }\r\n  }\r\n\r\n  updateValue(event) {\r\n    this.jsf.updateValue(this, event.target.value);\r\n  }\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { AbstractControl } from '@angular/forms';\r\n\r\nimport { JsonSchemaFormService } from '../json-schema-form.service';\r\n\r\n// TODO: Add this control\r\n\r\n@Component({\r\n  selector: 'one-of-widget',\r\n  template: ``,\r\n})\r\nexport class OneOfComponent implements OnInit {\r\n  formControl: AbstractControl;\r\n  controlName: string;\r\n  controlValue: any;\r\n  controlDisabled = false;\r\n  boundControl = false;\r\n  options: any;\r\n  @Input() layoutNode: any;\r\n  @Input() layoutIndex: number[];\r\n  @Input() dataIndex: number[];\r\n\r\n  constructor(\r\n    private jsf: JsonSchemaFormService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.options = this.layoutNode.options || {};\r\n    this.jsf.initializeControl(this);\r\n  }\r\n\r\n  updateValue(event) {\r\n    this.jsf.updateValue(this, event.target.value);\r\n  }\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { AbstractControl } from '@angular/forms';\r\n\r\nimport { JsonSchemaFormService } from '../json-schema-form.service';\r\nimport { buildTitleMap } from '../shared';\r\n\r\n@Component({\r\n  selector: 'radios-widget',\r\n  template: `\r\n    <label *ngIf=\"options?.title\"\r\n      [attr.for]=\"'control' + layoutNode?._id\"\r\n      [class]=\"options?.labelHtmlClass || ''\"\r\n      [style.display]=\"options?.notitle ? 'none' : ''\"\r\n      [innerHTML]=\"options?.title\"></label>\r\n\r\n    <!-- 'horizontal' = radios-inline or radiobuttons -->\r\n    <div *ngIf=\"layoutOrientation === 'horizontal'\"\r\n      [class]=\"options?.htmlClass || ''\">\r\n      <label *ngFor=\"let radioItem of radiosList\"\r\n        [attr.for]=\"'control' + layoutNode?._id + '/' + radioItem?.value\"\r\n        [class]=\"(options?.itemLabelHtmlClass || '') +\r\n          ((controlValue + '' === radioItem?.value + '') ?\r\n          (' ' + (options?.activeClass || '') + ' ' + (options?.style?.selected || '')) :\r\n          (' ' + (options?.style?.unselected || '')))\">\r\n        <input type=\"radio\"\r\n          [attr.aria-describedby]=\"'control' + layoutNode?._id + 'Status'\"\r\n          [attr.readonly]=\"options?.readonly ? 'readonly' : null\"\r\n          [attr.required]=\"options?.required\"\r\n          [checked]=\"radioItem?.value === controlValue\"\r\n          [class]=\"options?.fieldHtmlClass || ''\"\r\n          [disabled]=\"controlDisabled\"\r\n          [id]=\"'control' + layoutNode?._id + '/' + radioItem?.value\"\r\n          [name]=\"controlName\"\r\n          [value]=\"radioItem?.value\"\r\n          (change)=\"updateValue($event)\">\r\n        <span [innerHTML]=\"radioItem?.name\"></span>\r\n      </label>\r\n    </div>\r\n\r\n    <!-- 'vertical' = regular radios -->\r\n    <div *ngIf=\"layoutOrientation !== 'horizontal'\">\r\n      <div *ngFor=\"let radioItem of radiosList\"\r\n        [class]=\"options?.htmlClass || ''\">\r\n        <label\r\n          [attr.for]=\"'control' + layoutNode?._id + '/' + radioItem?.value\"\r\n          [class]=\"(options?.itemLabelHtmlClass || '') +\r\n            ((controlValue + '' === radioItem?.value + '') ?\r\n            (' ' + (options?.activeClass || '') + ' ' + (options?.style?.selected || '')) :\r\n            (' ' + (options?.style?.unselected || '')))\">\r\n          <input type=\"radio\"\r\n            [attr.aria-describedby]=\"'control' + layoutNode?._id + 'Status'\"\r\n            [attr.readonly]=\"options?.readonly ? 'readonly' : null\"\r\n            [attr.required]=\"options?.required\"\r\n            [checked]=\"radioItem?.value === controlValue\"\r\n            [class]=\"options?.fieldHtmlClass || ''\"\r\n            [disabled]=\"controlDisabled\"\r\n            [id]=\"'control' + layoutNode?._id + '/' + radioItem?.value\"\r\n            [name]=\"controlName\"\r\n            [value]=\"radioItem?.value\"\r\n            (change)=\"updateValue($event)\">\r\n          <span [innerHTML]=\"radioItem?.name\"></span>\r\n        </label>\r\n      </div>\r\n    </div>`,\r\n})\r\nexport class RadiosComponent implements OnInit {\r\n  formControl: AbstractControl;\r\n  controlName: string;\r\n  controlValue: any;\r\n  controlDisabled = false;\r\n  boundControl = false;\r\n  options: any;\r\n  layoutOrientation = 'vertical';\r\n  radiosList: any[] = [];\r\n  @Input() layoutNode: any;\r\n  @Input() layoutIndex: number[];\r\n  @Input() dataIndex: number[];\r\n\r\n  constructor(\r\n    private jsf: JsonSchemaFormService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.options = this.layoutNode.options || {};\r\n    if (this.layoutNode.type === 'radios-inline' ||\r\n      this.layoutNode.type === 'radiobuttons'\r\n    ) {\r\n      this.layoutOrientation = 'horizontal';\r\n    }\r\n    this.radiosList = buildTitleMap(\r\n      this.options.titleMap || this.options.enumNames,\r\n      this.options.enum, true\r\n    );\r\n    this.jsf.initializeControl(this);\r\n  }\r\n\r\n  updateValue(event) {\r\n    this.jsf.updateValue(this, event.target.value);\r\n  }\r\n}\r\n","import { Component, Input, Host } from '@angular/core';\r\n\r\nimport { JsonSchemaFormService } from '../json-schema-form.service';\r\nimport { hasValue, JsonPointer } from '../shared';\r\n\r\n@Component({\r\n  selector: 'root-widget',\r\n  template: `\r\n    <div *ngFor=\"let layoutItem of layout; let i = index\"\r\n      [class.form-flex-item]=\"isFlexItem\"\r\n      [style.align-self]=\"(layoutItem.options || {})['align-self']\"\r\n      [style.flex-basis]=\"getFlexAttribute(layoutItem, 'flex-basis')\"\r\n      [style.flex-grow]=\"getFlexAttribute(layoutItem, 'flex-grow')\"\r\n      [style.flex-shrink]=\"getFlexAttribute(layoutItem, 'flex-shrink')\"\r\n      [style.order]=\"(layoutItem.options || {}).order\">\r\n      <div\r\n        [dataIndex]=\"layoutItem?.arrayItem ? (dataIndex || []).concat(i) : (dataIndex || [])\"\r\n        [layoutIndex]=\"(layoutIndex || []).concat(i)\"\r\n        [layoutNode]=\"layoutItem\"\r\n        [orderable]=\"isDraggable(layoutItem)\">\r\n        <select-framework-widget *ngIf=\"showWidget(layoutItem)\"\r\n          [dataIndex]=\"layoutItem?.arrayItem ? (dataIndex || []).concat(i) : (dataIndex || [])\"\r\n          [layoutIndex]=\"(layoutIndex || []).concat(i)\"\r\n          [layoutNode]=\"layoutItem\"></select-framework-widget>\r\n      </div>\r\n    </div>`,\r\n  styles: [`\r\n    [draggable=true] {\r\n      transition: all 150ms cubic-bezier(.4, 0, .2, 1);\r\n    }\r\n    [draggable=true]:hover {\r\n      cursor: move;\r\n      box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);\r\n      position: relative; z-index: 10;\r\n      margin-top: -1px;\r\n      margin-left: -1px;\r\n      margin-right: 1px;\r\n      margin-bottom: 1px;\r\n    }\r\n    [draggable=true].drag-target-top {\r\n      box-shadow: 0 -2px 0 #000;\r\n      position: relative; z-index: 20;\r\n    }\r\n    [draggable=true].drag-target-bottom {\r\n      box-shadow: 0 2px 0 #000;\r\n      position: relative; z-index: 20;\r\n    }\r\n  `],\r\n})\r\nexport class RootComponent {\r\n  options: any;\r\n  @Input() dataIndex: number[];\r\n  @Input() layoutIndex: number[];\r\n  @Input() layout: any[];\r\n  @Input() isOrderable: boolean;\r\n  @Input() isFlexItem = false;\r\n\r\n  constructor(\r\n    private jsf: JsonSchemaFormService\r\n  ) { }\r\n\r\n  isDraggable(node: any): boolean {\r\n    return node.arrayItem && node.type !== '$ref' &&\r\n      node.arrayItemType === 'list' && this.isOrderable !== false;\r\n  }\r\n\r\n  // Set attributes for flexbox child\r\n  // (container attributes are set in section.component)\r\n  getFlexAttribute(node: any, attribute: string) {\r\n    const index = ['flex-grow', 'flex-shrink', 'flex-basis'].indexOf(attribute);\r\n    return ((node.options || {}).flex || '').split(/\\s+/)[index] ||\r\n      (node.options || {})[attribute] || ['1', '1', 'auto'][index];\r\n  }\r\n\r\n  showWidget(layoutNode: any): boolean {\r\n    return this.jsf.evaluateCondition(layoutNode, this.dataIndex);\r\n  }\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\n\r\nimport { toTitleCase } from '../shared';\r\nimport { JsonSchemaFormService } from '../json-schema-form.service';\r\n\r\n@Component({\r\n  selector: 'section-widget',\r\n  template: `\r\n    <div *ngIf=\"containerType === 'div'\"\r\n      [class]=\"options?.htmlClass || ''\"\r\n      [class.expandable]=\"options?.expandable && !expanded\"\r\n      [class.expanded]=\"options?.expandable && expanded\">\r\n      <label *ngIf=\"sectionTitle\"\r\n        class=\"legend\"\r\n        [class]=\"options?.labelHtmlClass || ''\"\r\n        [innerHTML]=\"sectionTitle\"\r\n        (click)=\"toggleExpanded()\"></label>\r\n      <root-widget *ngIf=\"expanded\"\r\n        [dataIndex]=\"dataIndex\"\r\n        [layout]=\"layoutNode.items\"\r\n        [layoutIndex]=\"layoutIndex\"\r\n        [isFlexItem]=\"getFlexAttribute('is-flex')\"\r\n        [isOrderable]=\"options?.orderable\"\r\n        [class.form-flex-column]=\"getFlexAttribute('flex-direction') === 'column'\"\r\n        [class.form-flex-row]=\"getFlexAttribute('flex-direction') === 'row'\"\r\n        [style.align-content]=\"getFlexAttribute('align-content')\"\r\n        [style.align-items]=\"getFlexAttribute('align-items')\"\r\n        [style.display]=\"getFlexAttribute('display')\"\r\n        [style.flex-direction]=\"getFlexAttribute('flex-direction')\"\r\n        [style.flex-wrap]=\"getFlexAttribute('flex-wrap')\"\r\n        [style.justify-content]=\"getFlexAttribute('justify-content')\"></root-widget>\r\n    </div>\r\n    <fieldset *ngIf=\"containerType === 'fieldset'\"\r\n      [class]=\"options?.htmlClass || ''\"\r\n      [class.expandable]=\"options?.expandable && !expanded\"\r\n      [class.expanded]=\"options?.expandable && expanded\"\r\n      [disabled]=\"options?.readonly\">\r\n      <legend *ngIf=\"sectionTitle\"\r\n        class=\"legend\"\r\n        [class]=\"options?.labelHtmlClass || ''\"\r\n        [innerHTML]=\"sectionTitle\"\r\n        (click)=\"toggleExpanded()\"></legend>\r\n      <div *ngIf=\"options?.messageLocation !== 'bottom'\">\r\n        <p *ngIf=\"options?.description\"\r\n        class=\"help-block\"\r\n        [class]=\"options?.labelHelpBlockClass || ''\"\r\n        [innerHTML]=\"options?.description\"></p>\r\n      </div>\r\n      <root-widget *ngIf=\"expanded\"\r\n        [dataIndex]=\"dataIndex\"\r\n        [layout]=\"layoutNode.items\"\r\n        [layoutIndex]=\"layoutIndex\"\r\n        [isFlexItem]=\"getFlexAttribute('is-flex')\"\r\n        [isOrderable]=\"options?.orderable\"\r\n        [class.form-flex-column]=\"getFlexAttribute('flex-direction') === 'column'\"\r\n        [class.form-flex-row]=\"getFlexAttribute('flex-direction') === 'row'\"\r\n        [style.align-content]=\"getFlexAttribute('align-content')\"\r\n        [style.align-items]=\"getFlexAttribute('align-items')\"\r\n        [style.display]=\"getFlexAttribute('display')\"\r\n        [style.flex-direction]=\"getFlexAttribute('flex-direction')\"\r\n        [style.flex-wrap]=\"getFlexAttribute('flex-wrap')\"\r\n        [style.justify-content]=\"getFlexAttribute('justify-content')\"></root-widget>\r\n      <div *ngIf=\"options?.messageLocation === 'bottom'\">\r\n        <p *ngIf=\"options?.description\"\r\n        class=\"help-block\"\r\n        [class]=\"options?.labelHelpBlockClass || ''\"\r\n        [innerHTML]=\"options?.description\"></p>\r\n      </div>\r\n    </fieldset>`,\r\n  styles: [`\r\n    .legend { font-weight: bold; }\r\n    .expandable > legend:before, .expandable > label:before  { content: ''; padding-right: .3em; }\r\n    .expanded > legend:before, .expanded > label:before  { content: ''; padding-right: .2em; }\r\n  `],\r\n})\r\nexport class SectionComponent implements OnInit {\r\n  options: any;\r\n  expanded = true;\r\n  containerType: string;\r\n  @Input() layoutNode: any;\r\n  @Input() layoutIndex: number[];\r\n  @Input() dataIndex: number[];\r\n\r\n  constructor(\r\n    private jsf: JsonSchemaFormService\r\n  ) { }\r\n\r\n  get sectionTitle() {\r\n    return this.options.notitle ? null : this.jsf.setItemTitle(this);\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.jsf.initializeControl(this);\r\n    this.options = this.layoutNode.options || {};\r\n    this.expanded = typeof this.options.expanded === 'boolean' ?\r\n      this.options.expanded : !this.options.expandable;\r\n    switch (this.layoutNode.type) {\r\n      case 'fieldset': case 'array': case 'tab': case 'advancedfieldset':\r\n      case 'authfieldset': case 'optionfieldset': case 'selectfieldset':\r\n        this.containerType = 'fieldset';\r\n      break;\r\n      default: // 'div', 'flex', 'section', 'conditional', 'actions', 'tagsinput'\r\n        this.containerType = 'div';\r\n      break;\r\n    }\r\n  }\r\n\r\n  toggleExpanded() {\r\n    if (this.options.expandable) { this.expanded = !this.expanded; }\r\n  }\r\n\r\n  // Set attributes for flexbox container\r\n  // (child attributes are set in root.component)\r\n  getFlexAttribute(attribute: string) {\r\n    const flexActive: boolean =\r\n      this.layoutNode.type === 'flex' ||\r\n      !!this.options.displayFlex ||\r\n      this.options.display === 'flex';\r\n    if (attribute !== 'flex' && !flexActive) { return null; }\r\n    switch (attribute) {\r\n      case 'is-flex':\r\n        return flexActive;\r\n      case 'display':\r\n        return flexActive ? 'flex' : 'initial';\r\n      case 'flex-direction': case 'flex-wrap':\r\n        const index = ['flex-direction', 'flex-wrap'].indexOf(attribute);\r\n        return (this.options['flex-flow'] || '').split(/\\s+/)[index] ||\r\n          this.options[attribute] || ['column', 'nowrap'][index];\r\n      case 'justify-content': case 'align-items': case 'align-content':\r\n        return this.options[attribute];\r\n    }\r\n  }\r\n}\r\n","import {\r\n  Component, ComponentFactoryResolver, ComponentRef, Input,\r\n  OnChanges, OnInit, ViewChild, ViewContainerRef\r\n} from '@angular/core';\r\n\r\nimport { JsonSchemaFormService } from '../json-schema-form.service';\r\n\r\n@Component({\r\n  selector: 'select-framework-widget',\r\n  template: `<div #widgetContainer></div>`,\r\n})\r\nexport class SelectFrameworkComponent implements OnChanges, OnInit {\r\n  newComponent: ComponentRef<any> = null;\r\n  @Input() layoutNode: any;\r\n  @Input() layoutIndex: number[];\r\n  @Input() dataIndex: number[];\r\n  @ViewChild('widgetContainer', { read: ViewContainerRef })\r\n    widgetContainer: ViewContainerRef;\r\n\r\n  constructor(\r\n    private componentFactory: ComponentFactoryResolver,\r\n    private jsf: JsonSchemaFormService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.updateComponent();\r\n  }\r\n\r\n  ngOnChanges() {\r\n    this.updateComponent();\r\n  }\r\n\r\n  updateComponent() {\r\n    if (!this.newComponent && this.jsf.framework) {\r\n      this.newComponent = this.widgetContainer.createComponent(\r\n        this.componentFactory.resolveComponentFactory(this.jsf.framework)\r\n      );\r\n    }\r\n    if (this.newComponent) {\r\n      for (const input of ['layoutNode', 'layoutIndex', 'dataIndex']) {\r\n        this.newComponent.instance[input] = this[input];\r\n      }\r\n    }\r\n  }\r\n}\r\n","import {\r\n  Component, ComponentFactoryResolver, ComponentRef, Input,\r\n  OnChanges, OnInit, ViewChild, ViewContainerRef\r\n} from '@angular/core';\r\n\r\nimport { JsonSchemaFormService } from '../json-schema-form.service';\r\n\r\n@Component({\r\n  selector: 'select-widget-widget',\r\n  template: `<div #widgetContainer></div>`,\r\n})\r\nexport class SelectWidgetComponent implements OnChanges, OnInit {\r\n  newComponent: ComponentRef<any> = null;\r\n  @Input() layoutNode: any;\r\n  @Input() layoutIndex: number[];\r\n  @Input() dataIndex: number[];\r\n  @ViewChild('widgetContainer', { read: ViewContainerRef })\r\n    widgetContainer: ViewContainerRef;\r\n\r\n  constructor(\r\n    private componentFactory: ComponentFactoryResolver,\r\n    private jsf: JsonSchemaFormService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.updateComponent();\r\n  }\r\n\r\n  ngOnChanges() {\r\n    this.updateComponent();\r\n  }\r\n\r\n  updateComponent() {\r\n    if (!this.newComponent && (this.layoutNode || {}).widget) {\r\n      this.newComponent = this.widgetContainer.createComponent(\r\n        this.componentFactory.resolveComponentFactory(this.layoutNode.widget)\r\n      );\r\n    }\r\n    if (this.newComponent) {\r\n      for (const input of ['layoutNode', 'layoutIndex', 'dataIndex']) {\r\n        this.newComponent.instance[input] = this[input];\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { AbstractControl } from '@angular/forms';\r\n\r\nimport { JsonSchemaFormService } from '../json-schema-form.service';\r\nimport { buildTitleMap, isArray } from '../shared';\r\n\r\n@Component({\r\n  selector: 'select-widget',\r\n  template: `\r\n    <div\r\n      [class]=\"options?.htmlClass || ''\">\r\n      <label *ngIf=\"options?.title\"\r\n        [attr.for]=\"'control' + layoutNode?._id\"\r\n        [class]=\"options?.labelHtmlClass || ''\"\r\n        [style.display]=\"options?.notitle ? 'none' : ''\"\r\n        [innerHTML]=\"options?.title\"></label>\r\n      <select *ngIf=\"boundControl\"\r\n        [formControl]=\"formControl\"\r\n        [attr.aria-describedby]=\"'control' + layoutNode?._id + 'Status'\"\r\n        [attr.readonly]=\"options?.readonly ? 'readonly' : null\"\r\n        [attr.required]=\"options?.required\"\r\n        [class]=\"options?.fieldHtmlClass || ''\"\r\n        [id]=\"'control' + layoutNode?._id\"\r\n        [name]=\"controlName\">\r\n        <ng-template ngFor let-selectItem [ngForOf]=\"selectList\">\r\n          <option *ngIf=\"!isArray(selectItem?.items)\"\r\n            [value]=\"selectItem?.value\">\r\n            <span [innerHTML]=\"selectItem?.name\"></span>\r\n          </option>\r\n          <optgroup *ngIf=\"isArray(selectItem?.items)\"\r\n            [label]=\"selectItem?.group\">\r\n            <option *ngFor=\"let subItem of selectItem.items\"\r\n              [value]=\"subItem?.value\">\r\n              <span [innerHTML]=\"subItem?.name\"></span>\r\n            </option>\r\n          </optgroup>\r\n        </ng-template>\r\n      </select>\r\n      <select *ngIf=\"!boundControl\"\r\n        [attr.aria-describedby]=\"'control' + layoutNode?._id + 'Status'\"\r\n        [attr.readonly]=\"options?.readonly ? 'readonly' : null\"\r\n        [attr.required]=\"options?.required\"\r\n        [class]=\"options?.fieldHtmlClass || ''\"\r\n        [disabled]=\"controlDisabled\"\r\n        [id]=\"'control' + layoutNode?._id\"\r\n        [name]=\"controlName\"\r\n        (change)=\"updateValue($event)\">\r\n        <ng-template ngFor let-selectItem [ngForOf]=\"selectList\">\r\n          <option *ngIf=\"!isArray(selectItem?.items)\"\r\n            [selected]=\"selectItem?.value === controlValue\"\r\n            [value]=\"selectItem?.value\">\r\n            <span [innerHTML]=\"selectItem?.name\"></span>\r\n          </option>\r\n          <optgroup *ngIf=\"isArray(selectItem?.items)\"\r\n            [label]=\"selectItem?.group\">\r\n            <option *ngFor=\"let subItem of selectItem.items\"\r\n              [attr.selected]=\"subItem?.value === controlValue\"\r\n              [value]=\"subItem?.value\">\r\n              <span [innerHTML]=\"subItem?.name\"></span>\r\n            </option>\r\n          </optgroup>\r\n        </ng-template>\r\n      </select>\r\n    </div>`,\r\n})\r\nexport class SelectComponent implements OnInit {\r\n  formControl: AbstractControl;\r\n  controlName: string;\r\n  controlValue: any;\r\n  controlDisabled = false;\r\n  boundControl = false;\r\n  options: any;\r\n  selectList: any[] = [];\r\n  isArray = isArray;\r\n  @Input() layoutNode: any;\r\n  @Input() layoutIndex: number[];\r\n  @Input() dataIndex: number[];\r\n\r\n  constructor(\r\n    private jsf: JsonSchemaFormService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.options = this.layoutNode.options || {};\r\n    this.selectList = buildTitleMap(\r\n      this.options.titleMap || this.options.enumNames,\r\n      this.options.enum, !!this.options.required, !!this.options.flatList\r\n    );\r\n    this.jsf.initializeControl(this);\r\n  }\r\n\r\n  updateValue(event) {\r\n    this.jsf.updateValue(this, event.target.value);\r\n  }\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { AbstractControl } from '@angular/forms';\r\n\r\nimport { JsonSchemaFormService } from '../json-schema-form.service';\r\nimport { hasOwn } from '../shared/utility.functions';\r\n\r\n@Component({\r\n  selector: 'submit-widget',\r\n  template: `\r\n    <div\r\n      [class]=\"options?.htmlClass || ''\">\r\n      <input\r\n        [attr.aria-describedby]=\"'control' + layoutNode?._id + 'Status'\"\r\n        [attr.readonly]=\"options?.readonly ? 'readonly' : null\"\r\n        [attr.required]=\"options?.required\"\r\n        [class]=\"options?.fieldHtmlClass || ''\"\r\n        [disabled]=\"controlDisabled\"\r\n        [id]=\"'control' + layoutNode?._id\"\r\n        [name]=\"controlName\"\r\n        [type]=\"layoutNode?.type\"\r\n        [value]=\"controlValue\"\r\n        (click)=\"updateValue($event)\">\r\n    </div>`,\r\n})\r\nexport class SubmitComponent implements OnInit {\r\n  formControl: AbstractControl;\r\n  controlName: string;\r\n  controlValue: any;\r\n  controlDisabled = false;\r\n  boundControl = false;\r\n  options: any;\r\n  @Input() layoutNode: any;\r\n  @Input() layoutIndex: number[];\r\n  @Input() dataIndex: number[];\r\n\r\n  constructor(\r\n    private jsf: JsonSchemaFormService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.options = this.layoutNode.options || {};\r\n    this.jsf.initializeControl(this);\r\n    if (hasOwn(this.options, 'disabled')) {\r\n      this.controlDisabled = this.options.disabled;\r\n    } else if (this.jsf.formOptions.disableInvalidSubmit) {\r\n      this.controlDisabled = !this.jsf.isValid;\r\n      this.jsf.isValidChanges.subscribe(isValid => this.controlDisabled = !isValid);\r\n    }\r\n    if (this.controlValue === null || this.controlValue === undefined) {\r\n      this.controlValue = this.options.title;\r\n    }\r\n  }\r\n\r\n  updateValue(event) {\r\n    if (typeof this.options.onClick === 'function') {\r\n      this.options.onClick(event);\r\n    } else {\r\n      this.jsf.updateValue(this, event.target.value);\r\n    }\r\n  }\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\n\r\nimport { JsonSchemaFormService } from '../json-schema-form.service';\r\n\r\n@Component({\r\n  selector: 'tab-widget',\r\n  template: `\r\n    <div [class]=\"options?.htmlClass || ''\">\r\n      <root-widget\r\n        [dataIndex]=\"dataIndex\"\r\n        [layoutIndex]=\"layoutIndex\"\r\n        [layout]=\"layoutNode.items\"></root-widget>\r\n    </div>`,\r\n})\r\nexport class TabComponent implements OnInit {\r\n  options: any;\r\n  @Input() layoutNode: any;\r\n  @Input() layoutIndex: number[];\r\n  @Input() dataIndex: number[];\r\n\r\n  constructor(\r\n    private jsf: JsonSchemaFormService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.options = this.layoutNode.options || {};\r\n  }\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\n\r\nimport { JsonSchemaFormService } from '../json-schema-form.service';\r\n\r\n@Component({\r\n  selector: 'tabs-widget',\r\n  template: `\r\n    <ul\r\n      [class]=\"options?.labelHtmlClass || ''\">\r\n      <li *ngFor=\"let item of layoutNode?.items; let i = index\"\r\n        [class]=\"(options?.itemLabelHtmlClass || '') + (selectedItem === i ?\r\n          (' ' + (options?.activeClass || '') + ' ' + (options?.style?.selected || '')) :\r\n          (' ' + options?.style?.unselected))\"\r\n        role=\"presentation\"\r\n        data-tabs>\r\n        <a *ngIf=\"showAddTab || item.type !== '$ref'\"\r\n           [class]=\"'nav-link' + (selectedItem === i ? (' ' + options?.activeClass + ' ' + options?.style?.selected) :\r\n            (' ' + options?.style?.unselected))\"\r\n          [innerHTML]=\"setTabTitle(item, i)\"\r\n          (click)=\"select(i)\"></a>\r\n      </li>\r\n    </ul>\r\n\r\n    <div *ngFor=\"let layoutItem of layoutNode?.items; let i = index\"\r\n      [class]=\"options?.htmlClass || ''\">\r\n\r\n      <select-framework-widget *ngIf=\"selectedItem === i\"\r\n        [class]=\"(options?.fieldHtmlClass || '') +\r\n          ' ' + (options?.activeClass || '') +\r\n          ' ' + (options?.style?.selected || '')\"\r\n        [dataIndex]=\"layoutNode?.dataType === 'array' ? (dataIndex || []).concat(i) : dataIndex\"\r\n        [layoutIndex]=\"(layoutIndex || []).concat(i)\"\r\n        [layoutNode]=\"layoutItem\"></select-framework-widget>\r\n\r\n    </div>`,\r\n  styles: [` a { cursor: pointer; } `],\r\n})\r\nexport class TabsComponent implements OnInit {\r\n  options: any;\r\n  itemCount: number;\r\n  selectedItem = 0;\r\n  showAddTab = true;\r\n  @Input() layoutNode: any;\r\n  @Input() layoutIndex: number[];\r\n  @Input() dataIndex: number[];\r\n\r\n  constructor(\r\n    private jsf: JsonSchemaFormService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.options = this.layoutNode.options || {};\r\n    this.itemCount = this.layoutNode.items.length - 1;\r\n    this.updateControl();\r\n  }\r\n\r\n  select(index) {\r\n    if (this.layoutNode.items[index].type === '$ref') {\r\n      this.itemCount = this.layoutNode.items.length;\r\n      this.jsf.addItem({\r\n        layoutNode: this.layoutNode.items[index],\r\n        layoutIndex: this.layoutIndex.concat(index),\r\n        dataIndex: this.dataIndex.concat(index)\r\n      });\r\n      this.updateControl();\r\n    }\r\n    this.selectedItem = index;\r\n  }\r\n\r\n  updateControl() {\r\n    const lastItem = this.layoutNode.items[this.layoutNode.items.length - 1];\r\n    if (lastItem.type === '$ref' &&\r\n      this.itemCount >= (lastItem.options.maxItems || 1000)\r\n    ) {\r\n      this.showAddTab = false;\r\n    }\r\n  }\r\n\r\n  setTabTitle(item: any, index: number): string {\r\n    return this.jsf.setArrayItemTitle(this, item, index);\r\n  }\r\n}\r\n","import {\r\n  Component, ComponentFactoryResolver, ComponentRef, Input,\r\n  OnChanges, OnInit, ViewChild, ViewContainerRef\r\n} from '@angular/core';\r\n\r\nimport { JsonSchemaFormService } from '../json-schema-form.service';\r\n\r\n@Component({\r\n  selector: 'template-widget',\r\n  template: `<div #widgetContainer></div>`,\r\n})\r\nexport class TemplateComponent implements OnInit, OnChanges {\r\n  newComponent: ComponentRef<any> = null;\r\n  @Input() layoutNode: any;\r\n  @Input() layoutIndex: number[];\r\n  @Input() dataIndex: number[];\r\n  @ViewChild('widgetContainer', { read: ViewContainerRef })\r\n    widgetContainer: ViewContainerRef;\r\n\r\n  constructor(\r\n    private componentFactory: ComponentFactoryResolver,\r\n    private jsf: JsonSchemaFormService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.updateComponent();\r\n  }\r\n\r\n  ngOnChanges() {\r\n    this.updateComponent();\r\n  }\r\n\r\n  updateComponent() {\r\n    if (!this.newComponent && this.layoutNode.options.template) {\r\n      this.newComponent = this.widgetContainer.createComponent(\r\n        this.componentFactory.resolveComponentFactory(this.layoutNode.options.template)\r\n      );\r\n    }\r\n    if (this.newComponent) {\r\n      for (const input of ['layoutNode', 'layoutIndex', 'dataIndex']) {\r\n        this.newComponent.instance[input] = this[input];\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { AbstractControl } from '@angular/forms';\r\n\r\nimport { JsonSchemaFormService } from '../json-schema-form.service';\r\n\r\n@Component({\r\n  selector: 'textarea-widget',\r\n  template: `\r\n    <div\r\n      [class]=\"options?.htmlClass || ''\">\r\n      <label *ngIf=\"options?.title\"\r\n        [attr.for]=\"'control' + layoutNode?._id\"\r\n        [class]=\"options?.labelHtmlClass || ''\"\r\n        [style.display]=\"options?.notitle ? 'none' : ''\"\r\n        [innerHTML]=\"options?.title\"></label>\r\n      <textarea *ngIf=\"boundControl\"\r\n        [formControl]=\"formControl\"\r\n        [attr.aria-describedby]=\"'control' + layoutNode?._id + 'Status'\"\r\n        [attr.maxlength]=\"options?.maxLength\"\r\n        [attr.minlength]=\"options?.minLength\"\r\n        [attr.pattern]=\"options?.pattern\"\r\n        [attr.placeholder]=\"options?.placeholder\"\r\n        [attr.readonly]=\"options?.readonly ? 'readonly' : null\"\r\n        [attr.required]=\"options?.required\"\r\n        [class]=\"options?.fieldHtmlClass || ''\"\r\n        [id]=\"'control' + layoutNode?._id\"\r\n        [name]=\"controlName\"></textarea>\r\n      <textarea *ngIf=\"!boundControl\"\r\n        [attr.aria-describedby]=\"'control' + layoutNode?._id + 'Status'\"\r\n        [attr.maxlength]=\"options?.maxLength\"\r\n        [attr.minlength]=\"options?.minLength\"\r\n        [attr.pattern]=\"options?.pattern\"\r\n        [attr.placeholder]=\"options?.placeholder\"\r\n        [attr.readonly]=\"options?.readonly ? 'readonly' : null\"\r\n        [attr.required]=\"options?.required\"\r\n        [class]=\"options?.fieldHtmlClass || ''\"\r\n        [disabled]=\"controlDisabled\"\r\n        [id]=\"'control' + layoutNode?._id\"\r\n        [name]=\"controlName\"\r\n        [value]=\"controlValue\"\r\n        (input)=\"updateValue($event)\">{{controlValue}}</textarea>\r\n    </div>`,\r\n})\r\nexport class TextareaComponent implements OnInit {\r\n  formControl: AbstractControl;\r\n  controlName: string;\r\n  controlValue: any;\r\n  controlDisabled = false;\r\n  boundControl = false;\r\n  options: any;\r\n  @Input() layoutNode: any;\r\n  @Input() layoutIndex: number[];\r\n  @Input() dataIndex: number[];\r\n\r\n  constructor(\r\n    private jsf: JsonSchemaFormService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.options = this.layoutNode.options || {};\r\n    this.jsf.initializeControl(this);\r\n  }\r\n\r\n  updateValue(event) {\r\n    this.jsf.updateValue(this, event.target.value);\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { OrderableDirective } from '../shared/orderable.directive';\r\n\r\nimport { JsonSchemaFormService } from '../json-schema-form.service';\r\n\r\nimport { BASIC_WIDGETS } from './index';\r\n\r\n@NgModule({\r\n  imports:         [ CommonModule, FormsModule, ReactiveFormsModule ],\r\n  declarations:    [ ...BASIC_WIDGETS, OrderableDirective ],\r\n  exports:         [ ...BASIC_WIDGETS, OrderableDirective ],\r\n  entryComponents: [ ...BASIC_WIDGETS ],\r\n  providers:       [ JsonSchemaFormService ]\r\n})\r\nexport class WidgetLibraryModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: WidgetLibraryModule,\r\n      providers: [ JsonSchemaFormService ]\r\n    };\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\nimport { hasOwn } from '../shared/utility.functions';\r\n\r\nimport { AddReferenceComponent } from './add-reference.component';\r\nimport { OneOfComponent } from './one-of.component';\r\nimport { ButtonComponent } from './button.component';\r\nimport { CheckboxComponent } from './checkbox.component';\r\nimport { CheckboxesComponent } from './checkboxes.component';\r\nimport { FileComponent } from './file.component';\r\nimport { HiddenComponent } from './hidden.component';\r\nimport { InputComponent } from './input.component';\r\nimport { MessageComponent } from './message.component';\r\nimport { NoneComponent } from './none.component';\r\nimport { NumberComponent } from './number.component';\r\nimport { RadiosComponent } from './radios.component';\r\nimport { RootComponent } from './root.component';\r\nimport { SectionComponent } from './section.component';\r\nimport { SelectComponent } from './select.component';\r\nimport { SelectFrameworkComponent } from './select-framework.component';\r\nimport { SelectWidgetComponent } from './select-widget.component';\r\nimport { SubmitComponent } from './submit.component';\r\nimport { TabComponent } from './tab.component';\r\nimport { TabsComponent } from './tabs.component';\r\nimport { TemplateComponent } from './template.component';\r\nimport { TextareaComponent } from './textarea.component';\r\n\r\n@Injectable()\r\nexport class WidgetLibraryService {\r\n\r\n  defaultWidget = 'text';\r\n  widgetLibrary: any = {\r\n\r\n  // Angular JSON Schema Form administrative widgets\r\n    'none': NoneComponent, // Placeholder, for development - displays nothing\r\n    'root': RootComponent, // Form root, renders a complete layout\r\n    'select-framework': SelectFrameworkComponent, // Applies the selected framework to a specified widget\r\n    'select-widget': SelectWidgetComponent, // Displays a specified widget\r\n    '$ref': AddReferenceComponent, // Button to add a new array item or $ref element\r\n\r\n  // Free-form text HTML 'input' form control widgets <input type=\"...\">\r\n    'email': 'text',\r\n    'integer': 'number', // Note: 'integer' is not a recognized HTML input type\r\n    'number': NumberComponent,\r\n    'password': 'text',\r\n    'search': 'text',\r\n    'tel': 'text',\r\n    'text': InputComponent,\r\n    'url': 'text',\r\n\r\n  // Controlled text HTML 'input' form control widgets <input type=\"...\">\r\n    'color': 'text',\r\n    'date': 'text',\r\n    'datetime': 'text',\r\n    'datetime-local': 'text',\r\n    'month': 'text',\r\n    'range': 'number',\r\n    'time': 'text',\r\n    'week': 'text',\r\n\r\n  // Non-text HTML 'input' form control widgets <input type=\"...\">\r\n    // 'button': <input type=\"button\"> not used, use <button> instead\r\n    'checkbox': CheckboxComponent, // TODO: Set ternary = true for 3-state ??\r\n    'file': FileComponent, // TODO: Finish 'file' widget\r\n    'hidden': 'text',\r\n    'image': 'text', // TODO: Figure out how to handle these\r\n    'radio': 'radios',\r\n    'reset': 'submit', // TODO: Figure out how to handle these\r\n    'submit': SubmitComponent,\r\n\r\n  // Other (non-'input') HTML form control widgets\r\n    'button': ButtonComponent,\r\n    'select': SelectComponent,\r\n    // 'option': automatically generated by select widgets\r\n    // 'optgroup': automatically generated by select widgets\r\n    'textarea': TextareaComponent,\r\n\r\n  // HTML form control widget sets\r\n    'checkboxes': CheckboxesComponent, // Grouped list of checkboxes\r\n    'checkboxes-inline': 'checkboxes', // Checkboxes in one line\r\n    'checkboxbuttons': 'checkboxes', // Checkboxes as html buttons\r\n    'radios': RadiosComponent, // Grouped list of radio buttons\r\n    'radios-inline': 'radios', // Radio controls in one line\r\n    'radiobuttons': 'radios', // Radio controls as html buttons\r\n\r\n  // HTML Layout widgets\r\n    // 'label': automatically added to data widgets\r\n    // 'legend': automatically added to fieldsets\r\n    'section': SectionComponent, // Just a div <div>\r\n    'div': 'section', // Still just a div <div>\r\n    'fieldset': 'section', // A fieldset, with an optional legend <fieldset>\r\n    'flex': 'section', // A flexbox container <div style=\"display: flex\">\r\n\r\n  // Non-HTML layout widgets\r\n    'one-of': OneOfComponent, // A select box that changes another input\r\n                              // TODO: Finish 'one-of' widget\r\n    'array': 'section', // A list you can add, remove and reorder <fieldset>\r\n    'tabarray': 'tabs', // A tabbed version of array\r\n    'tab': 'section', // A tab group, similar to a fieldset or section <fieldset>\r\n    'tabs': TabsComponent, // A tabbed set of panels with different controls\r\n    'message': MessageComponent, // Insert arbitrary html\r\n    'help': 'message', // Insert arbitrary html\r\n    'msg': 'message', // Insert arbitrary html\r\n    'html': 'message', // Insert arbitrary html\r\n    'template': TemplateComponent, // Insert a custom Angular component\r\n\r\n  // Widgets included for compatibility with JSON Form API\r\n    'advancedfieldset': 'section', // Adds 'Advanced settings' title <fieldset>\r\n    'authfieldset': 'section', // Adds 'Authentication settings' title <fieldset>\r\n    'optionfieldset': 'one-of', // Option control, displays selected sub-item <fieldset>\r\n    'selectfieldset': 'one-of', // Select control, displays selected sub-item <fieldset>\r\n    'conditional': 'section', // Identical to 'section' (depeciated) <div>\r\n    'actions': 'section', // Horizontal button list, can only submit, uses buttons as items <div>\r\n    'tagsinput': 'section', // For entering short text tags <div>\r\n    // See: http://ulion.github.io/jsonform/playground/?example=fields-checkboxbuttons\r\n\r\n  // Widgets included for compatibility with React JSON Schema Form API\r\n    'updown': 'number',\r\n    'date-time': 'datetime-local',\r\n    'alt-datetime': 'datetime-local',\r\n    'alt-date': 'date',\r\n\r\n  // Widgets included for compatibility with Angular Schema Form API\r\n    'wizard': 'section', // TODO: Sequential panels with \"Next\" and \"Previous\" buttons\r\n\r\n  // Widgets included for compatibility with other libraries\r\n    'textline': 'text',\r\n\r\n  // Recommended 3rd-party add-on widgets (TODO: create wrappers for these...)\r\n    // 'ng2-select': Select control replacement - http://valor-software.com/ng2-select/\r\n    // 'flatpickr': Flatpickr date picker - https://github.com/chmln/flatpickr\r\n    // 'pikaday': Pikaday date picker - https://github.com/dbushell/Pikaday\r\n    // 'spectrum': Spectrum color picker - http://bgrins.github.io/spectrum\r\n    // 'bootstrap-slider': Bootstrap Slider range control - https://github.com/seiyria/bootstrap-slider\r\n    // 'ace': ACE code editor - https://ace.c9.io\r\n    // 'ckeditor': CKEditor HTML / rich text editor - http://ckeditor.com\r\n    // 'tinymce': TinyMCE HTML / rich text editor - https://www.tinymce.com\r\n    // 'imageselect': Bootstrap drop-down image selector - http://silviomoreto.github.io/bootstrap-select\r\n    // 'wysihtml5': HTML editor - http://jhollingworth.github.io/bootstrap-wysihtml5\r\n    // 'quill': Quill HTML / rich text editor (?) - https://quilljs.com\r\n  };\r\n  registeredWidgets: any = { };\r\n  frameworkWidgets: any = { };\r\n  activeWidgets: any = { };\r\n\r\n  constructor() {\r\n    this.setActiveWidgets();\r\n  }\r\n\r\n  setActiveWidgets(): boolean {\r\n    this.activeWidgets = Object.assign(\r\n      { }, this.widgetLibrary, this.frameworkWidgets, this.registeredWidgets\r\n    );\r\n    for (const widgetName of Object.keys(this.activeWidgets)) {\r\n      let widget: any = this.activeWidgets[widgetName];\r\n      // Resolve aliases\r\n      if (typeof widget === 'string') {\r\n        const usedAliases: string[] = [];\r\n        while (typeof widget === 'string' && !usedAliases.includes(widget)) {\r\n          usedAliases.push(widget);\r\n          widget = this.activeWidgets[widget];\r\n        }\r\n        if (typeof widget !== 'string') {\r\n          this.activeWidgets[widgetName] = widget;\r\n        }\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  setDefaultWidget(type: string): boolean {\r\n    if (!this.hasWidget(type)) { return false; }\r\n    this.defaultWidget = type;\r\n    return true;\r\n  }\r\n\r\n  hasWidget(type: string, widgetSet = 'activeWidgets'): boolean {\r\n    if (!type || typeof type !== 'string') { return false; }\r\n    return hasOwn(this[widgetSet], type);\r\n  }\r\n\r\n  hasDefaultWidget(type: string): boolean {\r\n    return this.hasWidget(type, 'widgetLibrary');\r\n  }\r\n\r\n  registerWidget(type: string, widget: any): boolean {\r\n    if (!type || !widget || typeof type !== 'string') { return false; }\r\n    this.registeredWidgets[type] = widget;\r\n    return this.setActiveWidgets();\r\n  }\r\n\r\n  unRegisterWidget(type: string): boolean {\r\n    if (!hasOwn(this.registeredWidgets, type)) { return false; }\r\n    delete this.registeredWidgets[type];\r\n    return this.setActiveWidgets();\r\n  }\r\n\r\n  unRegisterAllWidgets(unRegisterFrameworkWidgets = true): boolean {\r\n    this.registeredWidgets = { };\r\n    if (unRegisterFrameworkWidgets) { this.frameworkWidgets = { }; }\r\n    return this.setActiveWidgets();\r\n  }\r\n\r\n  registerFrameworkWidgets(widgets: any): boolean {\r\n    if (widgets === null || typeof widgets !== 'object') { widgets = { }; }\r\n    this.frameworkWidgets = widgets;\r\n    return this.setActiveWidgets();\r\n  }\r\n\r\n  unRegisterFrameworkWidgets(): boolean {\r\n    if (Object.keys(this.frameworkWidgets).length) {\r\n      this.frameworkWidgets = { };\r\n      return this.setActiveWidgets();\r\n    }\r\n    return false;\r\n  }\r\n\r\n  getWidget(type?: string, widgetSet = 'activeWidgets'): any {\r\n    if (this.hasWidget(type, widgetSet)) {\r\n      return this[widgetSet][type];\r\n    } else if (this.hasWidget(this.defaultWidget, widgetSet)) {\r\n      return this[widgetSet][this.defaultWidget];\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  getAllWidgets(): any {\r\n    return {\r\n      widgetLibrary: this.widgetLibrary,\r\n      registeredWidgets: this.registeredWidgets,\r\n      frameworkWidgets: this.frameworkWidgets,\r\n      activeWidgets: this.activeWidgets,\r\n    };\r\n  }\r\n}\r\n"],"sourceRoot":""}